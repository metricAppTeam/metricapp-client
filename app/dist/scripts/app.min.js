!function(){"use strict";angular.module("metricapp",["ngRoute","ngCookies","ngMessages","ngFlash","smart-table","ui.ace","as.sortable","nvd3","angular.morris-chart","angular-svg-round-progress","angular-bubbletree","angularChart","ngCytoscape"])}(),function(){"use strict";angular.module("metricapp").constant("EXPERT_ACTIONS",[{name:"Grids",href:"#/grids",icon:"codepen"},{name:"Teams",href:"#/teams",icon:"users"},{name:"Metrics",href:"#/metrics",icon:"fa fa-tasks"}])}(),function(){"use strict";angular.module("metricapp").constant("METRICATOR_ACTIONS",[{name:"MeasurementGoals",href:"#/metricator"},{name:"Metrics",href:"#/metrics",icon:"fa fa-tasks"},{name:"Search MG",href:"#/measurementgoalsearch"}])}(),function(){"use strict";angular.module("metricapp").constant("QUESTIONER_ACTIONS",[{name:"Action",href:"#/questioner_action",icon:"cog"},{name:"Metrics",href:"#/metrics",icon:"fa fa-tasks"}])}(),function(){"use strict";angular.module("metricapp").constant("USER_ACTIONS",[{name:"Home",href:"#/home",icon:"desktop"},{name:"Profile",href:"#/profile",icon:"user"},{name:"Organization",href:"#/organization",icon:"sitemap"},{name:"Messages",href:"#/messages",icon:"comments"}])}(),function(){"use strict";angular.module("metricapp").constant("TEAM_ANALYTICS",{GQM_SCORE:"team.analytics.gqm.score",GRIDS_TOT:"team.analytics.grids.tot",ARTIFACTS_TOT:"team.analytics.artifacts.tot",ACCEPTANCE_RATIO:"team.analytics.acceptance.ratio",ARTIFACTS_MGOAL:"team.analytics.artifacts.mgoal",ARTIFACTS_RATE:"team.analytics.artifacts.rate",WORKTIME_RATIO:"team.analytics.worktime.ratio",TASKS_PROGRESS:"team.analytics.tasks.progress",TASKS_RECORD:"team.analytics.tasks.record"})}(),function(){"use strict";angular.module("metricapp").constant("USER_ANALYTICS",{GQM_SCORE:"user.analytics.gqm.score",GRIDS_TOT:"user.analytics.grids.tot",ARTIFACTS_TOT:"user.analytics.artifacts.tot",ACCEPTANCE_RATIO:"user.analytics.acceptance.ratio",ARTIFACTS_MGOAL:"user.analytics.artifacts.mgoal",ARTIFACTS_RATE:"user.analytics.artifacts.rate",WORKTIME_RATIO:"user.analytics.worktime.ratio",TASKS_PROGRESS:"user.analytics.tasks.progress",TASKS_RECORD:"user.analytics.tasks.record"})}(),function(){"use strict";angular.module("metricapp").constant("GENDERS",{MALE:"MALE",FEMALE:"FEMALE"})}(),function(){"use strict";angular.module("metricapp").constant("ROLES",{EXPERT:"EXPERT",QUESTIONER:"QUESTIONER",METRICATOR:"METRICATOR"})}(),function(){"use strict";angular.module("metricapp").constant("AUTH_EVENTS",{LOGIN_SUCCESS:"auth.login.success",LOGIN_FAILURE:"auth.login.failure",LOGOUT_SUCCESS:"auth.logout.success",LOGOUT_FAILURE:"auth.logout.failure",PASSWORD_UPDATE_SUCCESS:"auth.password.update.success",PASSWORD_UPDATE_FAILURE:"auth.password.update.failure",NOT_AUTHORIZED:"auth.not.authorized"})}(),function(){"use strict";angular.module("metricapp").constant("GRID_EVENTS",{CREATE_SUCCESS:"grid.create.success",CREATE_FAILURE:"grid.create.failure",READ_SUCCESS:"grid.read.success",READ_FAILURE:"grid.read.failure",UPDATE_SUCCESS:"grid.update.success",UPDATE_FAILURE:"grid.update.failure",DELETE_SUCCESS:"grid.delete.success",DELETE_FAILURE:"grid.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("METRIC_EVENTS",{CREATE_SUCCESS:"metric.create.success",CREATE_FAILURE:"metric.create.failure",READ_SUCCESS:"metric.read.success",READ_FAILURE:"metric.read.failure",UPDATE_SUCCESS:"metric.update.success",UPDATE_FAILURE:"metric.update.failure",DELETE_SUCCESS:"metric.delete.success",DELETE_FAILURE:"metric.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("MGOAL_EVENTS",{CREATE_SUCCESS:"mgoal.create.success",CREATE_FAILURE:"mgoal.create.failure",READ_SUCCESS:"mgoal.read.success",READ_FAILURE:"mgoal.read.failure",UPDATE_SUCCESS:"mgoal.update.success",UPDATE_FAILURE:"mgoal.update.failure",DELETE_SUCCESS:"mgoal.delete.success",DELETE_FAILURE:"mgoal.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("NOTIFICATION_EVENTS",{ALL_READ:"notification.all.read",SET_READ:"notification.set.read"})}(),function(){"use strict";angular.module("metricapp").constant("OGOAL_EVENTS",{CREATE_SUCCESS:"ogoal.create.success",CREATE_FAILURE:"ogoal.create.failure",READ_SUCCESS:"ogoal.read.success",READ_FAILURE:"ogoal.read.failure",UPDATE_SUCCESS:"ogoal.update.success",UPDATE_FAILURE:"ogoal.update.failure",DELETE_SUCCESS:"ogoal.delete.success",DELETE_FAILURE:"ogoal.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("QUESTION_EVENTS",{CREATE_SUCCESS:"question.create.success",CREATE_FAILURE:"question.create.failure",READ_SUCCESS:"question.read.success",READ_FAILURE:"question.read.failure",UPDATE_SUCCESS:"question.update.success",UPDATE_FAILURE:"question.update.failure",DELETE_SUCCESS:"question.delete.success",DELETE_FAILURE:"question.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("TEAM_EVENTS",{CREATE_SUCCESS:"team.create.success",CREATE_FAILURE:"team.create.failure",READ_SUCCESS:"team.read.success",READ_FAILURE:"team.read.failure",UPDATE_SUCCESS:"team.update.success",UPDATE_FAILURE:"team.update.failure",DELETE_SUCCESS:"team.delete.success",DELETE_FAILURE:"team.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("USER_EVENTS",{CREATE_SUCCESS:"user.create.success",CREATE_FAILURE:"user.create.failure",READ_SUCCESS:"user.read.success",READ_FAILURE:"user.read.failure",UPDATE_SUCCESS:"user.update.success",UPDATE_FAILURE:"user.update.failure",DELETE_SUCCESS:"user.delete.success",DELETE_FAILURE:"user.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("REST_SERVICE",{DOMAIN:"metricapp.com",PORT:8090,URL:"metricapp.com:8090"})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_CONVERSATIONS",{"expert-gm":{"metricator-ag":{sender:"expert-gm",recipient:"metricator-ag",ts_update:new Date(2016,1,1,13,45,0,0),toread:2,messages:[{ts_create:new Date(2016,1,1,13,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,13,5,0,0),author:"metricator",content:"1."+e},{ts_create:new Date(2016,1,1,13,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,13,15,0,0),author:"metricator",content:"3."+e},{ts_create:new Date(2016,1,1,13,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,13,25,0,0),author:"metricator",content:"5."+e},{ts_create:new Date(2016,1,1,13,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,13,35,0,0),author:"metricator",content:"7."+e},{ts_create:new Date(2016,1,1,13,40,0,0),author:"metricator",content:"8."+e},{ts_create:new Date(2016,1,1,13,45,0,0),author:"metricator",content:"9."+e}]},"questioner-mp":{sender:"expert-gm",recipient:"questioner-mp",ts_update:new Date(2016,1,1,14,45,0,0),toread:3,messages:[{ts_create:new Date(2016,1,1,14,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,14,5,0,0),author:"questioner",content:"1."+e},{ts_create:new Date(2016,1,1,14,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,14,15,0,0),author:"questioner",content:"3."+e},{ts_create:new Date(2016,1,1,14,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,14,25,0,0),author:"questioner",content:"5."+e},{ts_create:new Date(2016,1,1,14,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,14,35,0,0),author:"questioner",content:"7."+e},{ts_create:new Date(2016,1,1,14,40,0,0),author:"questioner",content:"8."+e},{ts_create:new Date(2016,1,1,14,45,0,0),author:"questioner",content:"9."+e}]}},"metricator-ag":{"expert-gm":{sender:"metricator-ag",recipient:"expert-gm",ts_update:new Date(2016,1,1,13,45,0,0),toread:0,messages:[{ts_create:new Date(2016,1,1,13,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,13,5,0,0),author:"metricator",content:"1."+e},{ts_create:new Date(2016,1,1,13,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,13,15,0,0),author:"metricator",content:"3."+e},{ts_create:new Date(2016,1,1,13,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,13,25,0,0),author:"metricator",content:"5."+e},{ts_create:new Date(2016,1,1,13,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,13,35,0,0),author:"metricator",content:"7."+e},{ts_create:new Date(2016,1,1,13,40,0,0),author:"metricator",content:"8."+e},{ts_create:new Date(2016,1,1,13,45,0,0),author:"metricator",content:"9."+e}]}},"questioner-mp":{"expert-gm":{sender:"questioner-mp",recipient:"expert-gm",ts_update:new Date(2016,1,1,14,45,0,0),toread:0,messages:[{ts_create:new Date(2016,1,1,14,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,14,5,0,0),author:"questioner",content:"1."+e},{ts_create:new Date(2016,1,1,14,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,14,15,0,0),author:"questioner",content:"3."+e},{ts_create:new Date(2016,1,1,14,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,14,25,0,0),author:"questioner",content:"5."+e},{ts_create:new Date(2016,1,1,14,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,14,35,0,0),author:"questioner",content:"7."+e},{ts_create:new Date(2016,1,1,14,40,0,0),author:"questioner",content:"8."+e},{ts_create:new Date(2016,1,1,14,45,0,0),author:"questioner",content:"9."+e}]}}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_GRIDS",{1:{id:1,name:"Grid-1",description:e,expert:"expert-gm",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,15,10,10,45,500),ts_update:new Date(2016,1,21,10,40,45,500),mgoals:[101,102,103,104],questions:[201,202,203,204,205,206],metrics:[301,302,303,304],graph:{101:[201,202],102:[203,204],103:[205],104:[206],201:[301],202:[301],203:[302],204:[303],205:[304]}},2:{id:2,name:"Grid-2",description:e,expert:"expert-mp",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,16,10,10,45,500),ts_update:new Date(2016,1,22,10,40,45,500),mgoals:[105,106,107,108],questions:[207,208,209,210,211,212],metrics:[305,306,307,308],graph:{105:[207,208],106:[209,210],107:[211],108:[212],207:[305],208:[305],209:[306],210:[307],211:[308]}}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_METRICS",{301:{id:301,name:"Metric-301",description:e,grid:1,expert:"expert-gm",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,20,10,10,45,500),ts_update:new Date(2016,1,21,10,10,45,500)},302:{id:302,name:"Metric-302",description:e,grid:1,expert:"expert-gm",metricator:"metricator-ag",status:"METRIC_RUNNING",ts_create:new Date(2016,1,20,10,20,45,500),ts_update:new Date(2016,1,21,10,20,45,500)},303:{id:303,name:"Metric-303",description:e,grid:1,expert:"expert-gm",metricator:"metricator-af",status:"METRIC_RUNNING",ts_create:new Date(2016,1,20,10,30,45,500),ts_update:new Date(2016,1,21,10,30,45,500)},304:{id:304,name:"Metric-304",description:e,grid:1,expert:"expert-gm",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,20,10,40,45,500),ts_update:new Date(2016,1,21,10,40,45,500)},305:{id:305,name:"Metric-305",description:e,grid:2,expert:"expert-mp",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,21,10,10,45,500),ts_update:new Date(2016,1,22,10,10,45,500)},306:{id:306,name:"Metric-306",description:e,grid:2,expert:"expert-mp",metricator:"metricator-ag",status:"METRIC_RUNNING",ts_create:new Date(2016,1,21,10,20,45,500),ts_update:new Date(2016,1,22,10,20,45,500)},307:{id:307,name:"Metric-307",description:e,grid:2,expert:"expert-mp",metricator:"metricator-af",status:"METRIC_RUNNING",ts_create:new Date(2016,1,21,10,30,45,500),ts_update:new Date(2016,1,22,10,30,45,500)},308:{id:308,name:"Metric-308",description:e,grid:2,expert:"expert-mp",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,21,10,40,45,500),ts_update:new Date(2016,1,22,10,40,45,500)}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_MGOALS",{101:{id:101,name:"MGoal-101",description:e,expert:"expert-gm",questioner:"questioner-mp",metricator:"metricator-ag",status:"MGOAL_APPROVED",progress:100,ts_create:new Date(2016,1,16,10,10,45,500),ts_update:new Date(2016,1,17,10,10,45,500)},102:{id:102,name:"MGoal-102",description:e,expert:"expert-gm",questioner:"questioner-mp",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:75,ts_create:new Date(2016,1,16,10,20,45,500),ts_update:new Date(2016,1,17,10,20,45,500)},103:{id:103,name:"MGoal-103",description:e,expert:"expert-gm",questioner:"questioner-dn",metricator:"metricator-ag",status:"MGOAL_RUNNING",progress:50,ts_create:new Date(2016,1,16,10,30,45,500),ts_update:new Date(2016,1,17,10,30,45,500)},104:{id:104,name:"MGoal-104",description:e,expert:"expert-gm",questioner:"questioner-dn",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:25,ts_create:new Date(2016,1,16,10,40,45,500),ts_update:new Date(2016,1,17,10,40,45,500)},105:{id:105,name:"MGoal-105",description:e,expert:"expert-mp",questioner:"questioner-mp",metricator:"metricator-ag",status:"MGOAL_APPROVED",progress:100,ts_create:new Date(2016,1,16,10,50,45,500),ts_update:new Date(2016,1,17,10,50,45,500)},106:{id:106,name:"MGoal-106",description:e,expert:"expert-mp",questioner:"questioner-mp",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:75,ts_create:new Date(2016,1,16,11,0,45,500),ts_update:new Date(2016,1,17,11,0,45,500)},107:{id:107,name:"MGoal-107",description:e,expert:"expert-mp",questioner:"questioner-dn",metricator:"metricator-ag",status:"MGOAL_RUNNING",progress:50,ts_create:new Date(2016,1,16,11,10,45,500),ts_update:new Date(2016,1,17,11,10,45,500)},108:{id:108,name:"MGoal-108",description:e,expert:"expert-mp",questioner:"questioner-dn",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:25,ts_create:new Date(2016,1,16,11,20,45,500),ts_update:new Date(2016,1,17,11,20,45,500)}})}(),function(){"use strict";angular.module("metricapp").value("DB_NOTIFICATIONS",{"expert-gm":{news:4,notifications:[{id:1,scope:"grids",artifact_id:1,name:"Created new organizational goal",author:"expert-gc",ts_create:new Date(2016,1,15,13,30,45,500),read:!1},{id:2,scope:"mgoals",artifact_id:101,name:"Created new measurement goal",author:"expert-gc",ts_create:new Date(2016,1,15,14,30,45,500),read:!1},{id:3,scope:"questions",artifact_id:201,name:"Created new question",author:"questioner-mp",ts_create:new Date(2016,1,15,15,30,45,500),read:!1},{id:4,scope:"metrics",artifact_id:301,name:"Created new metric",author:"metricator-ag",ts_create:new Date(2016,1,15,16,30,45,500),read:!1}]},"expert-mp":{news:0,notifications:[]},"expert-gc":{news:0,notifications:[]},"expert-mm":{news:0,notifications:[]},"metricator-ag":{news:0,notifications:[]},"metricator-af":{news:0,notifications:[]},"questioner-mp":{news:0,notifications:[]},"questioner-dn":{news:0,notifications:[]}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_QUESTIONS",{201:{id:201,name:"Question-201",description:e,expert:"expert-gm",grid:1,questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,10,45,500),ts_update:new Date(2016,1,19,10,10,45,500)},202:{id:202,name:"Question-202",description:e,expert:"expert-gm",questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,20,45,500),ts_update:new Date(2016,1,19,10,20,45,500)},203:{id:203,name:"Question-203",description:e,expert:"expert-gm",questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,30,45,500),ts_update:new Date(2016,1,19,10,30,45,500)},204:{id:204,name:"Question-204",description:e,expert:"expert-gm",questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,40,45,500),ts_update:new Date(2016,1,19,10,40,45,500)},205:{id:205,name:"Question-205",description:e,expert:"expert-gm",questioner:"questioner-dn",ts_create:new Date(2016,1,18,10,50,45,500),ts_update:new Date(2016,1,19,10,50,45,500)},206:{id:206,name:"Question-206",description:e,expert:"expert-gm",questioner:"questioner-dn",ts_create:new Date(2016,1,18,11,0,45,500),ts_update:new Date(2016,1,19,11,0,45,500)},207:{id:207,name:"Question-207",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,10,45,500),ts_update:new Date(2016,1,20,10,10,45,500)},208:{id:208,name:"Question-208",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,20,45,500),ts_update:new Date(2016,1,20,10,20,45,500)},209:{id:209,name:"Question-209",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,30,45,500),ts_update:new Date(2016,1,20,10,30,45,500)},210:{id:210,name:"Question-210",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,40,45,500),ts_update:new Date(2016,1,20,10,40,45,500)},211:{id:211,name:"Question-211",description:e,grid:2,expert:"expert-mp",questioner:"questioner-dn",ts_create:new Date(2016,1,19,10,50,45,500),ts_update:new Date(2016,1,20,10,50,45,500)},212:{id:212,name:"Question-212",description:e,grid:2,expert:"expert-mp",questioner:"questioner-dn",ts_create:new Date(2016,1,19,11,0,45,500),ts_update:new Date(2016,1,20,11,0,45,500)}})}(),function(){"use strict";angular.module("metricapp").value("DB_TEAMS",{1:{id:1,name:"Team-Grid-1",expert:"expert-gm",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,15,10,10,45,500),ts_update:new Date(2016,1,15,10,10,45,500)},2:{id:2,name:"Team-Grid-2",expert:"expert-mp",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,16,10,10,45,500),ts_update:new Date(2016,1,16,10,10,45,500)}})}(),function(){"use strict";angular.module("metricapp").value("DB_USERS",{"expert-gm":{username:"expert-gm",password:"password",role:"EXPERT",firstname:"Giacomo",lastname:"Marciani",gender:"MALE",birthday:new Date(1990,6,27),email:"giacomo.marciani@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-gm.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tro Vergata.",online:!1},"expert-mp":{username:"expert-mp",password:"password",role:"EXPERT",firstname:"Michele",lastname:"Porretta",gender:"MALE",birthday:new Date(1990,6,27),email:"michele.porretta@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-mp.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"expert-gc":{username:"expert-gc",password:"password",role:"EXPERT",firstname:"Giovanni",lastname:"Cantone",gender:"MALE",birthday:new Date(1990,6,27),email:"giovanni.cantone@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-gc.svg",bio:"Full Professor in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"expert-mm":{username:"expert-mm",password:"password",role:"EXPERT",firstname:"Manuel",lastname:"Mastrofini",gender:"MALE",birthday:new Date(1990,6,27),email:"manuel.mastrofini@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-mm.svg",bio:"Associate Professor in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},metricator:{username:"metricator",password:"password",role:"METRICATOR",firstname:"Andrea",lastname:"Gennusa",gender:"MALE",birthday:new Date(1990,6,27),email:"andrea.gennusa@domain.com",mobile:"+39 12345678",picture:"uploads/users/metricator-ag.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"metricator-af":{username:"metricator-af",password:"password",role:"METRICATOR",firstname:"Alessandro",lastname:"Fazio",gender:"MALE",birthday:new Date(1990,6,27),email:"alessandro.fazio@domain.com",mobile:"+39 12345678",picture:"uploads/users/metricator-af.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"questioner-mp":{username:"questioner-mp",password:"password",role:"QUESTIONER",firstname:"Marco",lastname:"Piu",gender:"MALE",birthday:new Date(1990,6,27),email:"marco.piu@domain.com",mobile:"+39 12345678",picture:"uploads/users/questioner-mp.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"questioner-dn":{username:"questioner-dn",password:"password",role:"QUESTIONER",firstname:"Davide",lastname:"Nanni",gender:"MALE",birthday:new Date(1990,6,27),email:"davide.nanni@domain.com",mobile:"+39 12345678",picture:"uploads/users/questioner-dn.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1}})}(),function(){"use strict";angular.module("metricapp").value("DB_PROFILES",[{username:"expert",firstname:"Giacomo",lastname:"Marciani",gender:"MALE",birthday:"27/06/1990",email:"giacomo.marciani@domain.com",picture:"uploads/profile-picture.png"},{username:"questioner",firstname:"Marco",lastname:"Piu",gender:"MALE",birthday:"27/06/1990",email:"marco.piu@domain.com",picture:"uploads/profile-picture.png"},{username:"metricator",firstname:"Andrea",lastname:"Gennusa",gender:"MALE",birthday:"06/05/1993",email:"andrea.gennusa@gmail.com",picture:"uploads/profile-picture.png"}])}(),function(){"use strict";function e(e){e.setTimeout(5e3),e.setShowClose(!0),e.setOnDismiss(function(){alert("flash message dismissed")})}angular.module("metricapp").config(e),e.$inject=["FlashProvider"]}(),function(){"use strict";function e(e){e.interceptors.push("Error401Interceptor"),e.interceptors.push("Error404Interceptor"),e.interceptors.push("Error500Interceptor")}angular.module("metricapp").config(e),e.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,t){e.when("/",{redirectTo:"/home"}).when("/home",{templateUrl:"dist/views/home/home.view.html"}).when("/login",{templateUrl:"dist/views/authentication/login.view.html"}).when("/signup",{templateUrl:"dist/views/authentication/signup.view.html"}).when("/profile",{templateUrl:"dist/views/user/profile.view.html"}).when("/profile/:username",{templateUrl:"dist/views/user/profile.view.html"}).when("/profile/:username/analytics",{templateUrl:"dist/views/user/analytics.view.html"}).when("/organization",{templateUrl:"dist/views/organization/organization.view.html"}).when("/messages",{templateUrl:"dist/views/chat/messages.view.html"}).when("/messages/:username",{templateUrl:"dist/views/chat/messages.view.html"}).when("/notifications",{templateUrl:"dist/views/notification/notifications.view.html"}).when("/grids",{templateUrl:"dist/views/grid/grids.view.html"}).when("/grids/:gridid",{templateUrl:"dist/views/grid/grid.view.html"}).when("/grids/:gridid/analytics",{templateUrl:"dist/views/grid/analytics.view.html"}).when("/teams",{templateUrl:"dist/views/team/teams.view.html"}).when("/teams/:teamid",{templateUrl:"dist/views/team/team.view.html"}).when("/teams/:teamid/analytics",{templateUrl:"dist/views/team/analytics.view.html"}).when("/mgoals",{templateUrl:"dist/views/mgoal/mgoals.view.html"}).when("/mgoals/:goalid",{templateUrl:"dist/views/mgoal/mgoal.view.html"}).when("/questions",{templateUrl:"dist/views/question/questions.view.html"}).when("/questions/:questionid",{templateUrl:"dist/views/question/question.view.html"}).when("/metrics",{templateUrl:"dist/views/metric/metrics.view.html"}).when("/metrics/:metricid",{templateUrl:"dist/views/metric/metricpage.view.html"}).when("/401",{templateUrl:"dist/views/error/error401.view.html"}).when("/404",{templateUrl:"dist/views/error/error404.view.html"}).when("/500",{templateUrl:"dist/views/error/error500.view.html"}).when("/measurementgoal",{templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}).when("/measurementgoalsearch",{templateUrl:"dist/views/measurementgoal/measurementgoalsearch.view.html"}).when("/metricator",{templateUrl:"dist/views/metricator/metricator.view.html"}).otherwise({redirectTo:"/404"})}angular.module("metricapp").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(r){return 401===r.status?(console.log("Error401Interceptor.responseError"),t.path("/401"),e.reject(r)):e.reject(r)}}}angular.module("metricapp").factory("Error401Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(r){return 404===r.status?null!==r.measurementGoals||null!==r.metrics?r:(console.log("Error404Interceptor.responseError"),t.path("/404"),e.reject(r)):e.reject(r)}}}angular.module("metricapp").factory("Error404Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(r){return 500===r.status?(console.log("Error500Interceptor.responseError"),t.path("/500"),e.reject(r)):e.reject(r)}}}angular.module("metricapp").factory("Error500Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t,r,n){function a(e){var t=o.ACTIONS.USER,r=o.ACTIONS[e],n=t.concat(r);return n}var o=this;o.ACTIONS={USER:e,EXPERT:t,METRICATOR:r,QUESTIONER:n},o.getActionsForRole=a}angular.module("metricapp").service("ActionService",e),e.$inject=["USER_ACTIONS","EXPERT_ACTIONS","METRICATOR_ACTIONS","QUESTIONER_ACTIONS"]}(),function(){"use strict";function e(e,t,r,n,a,o,i){function s(e){var t=e.username,r=e.password;return n(function(e,n){setTimeout(function(){var a=i[t];a?a.password===r?(a.online=!0,e({authuser:a})):n({errmsg:"Wrong password for: "+t}):n({errmsg:"Wrong username for: "+t})},500)})}function c(){var e=r.getObject("globals").user.username;return n(function(t,r){setTimeout(function(){var n=i[e];n?(n.online=!1,m(),t({username:e})):r({errmsg:"Wrong username for: "+e})},500)})}function u(){var e=r.getObject("globals");if(e){var t=e.user;if(t)return t}return null}function l(n){var a=n.username+":"+n.password+":"+n.role;t.globals={user:{}},t.globals.user=angular.copy(n),t.globals.user.authdata=a,r.putObject("globals",t.globals),e.defaults.headers.common.Authorization="Basic "+a}function m(){t.globals={},r.remove("globals"),e.defaults.headers.common.Authorization="Basic"}function d(){var e=r.getObject("globals");if(e){var t=e.user;if(t)return t.username}return null}function g(){var e=r.getObject("globals");if(e){var t=e.user;if(t)return!0}return!1}function f(e,t){var a=r.getObject("globals").user.username;return n(function(r,n){setTimeout(function(){var o=i[a];o?(o.password===e?(o.password=t,r({username:a,msg:"Successfully changed password for user "+a})):n({errmsg:"Wrong old password for user "+a}),o.online=!1,r({username:a})):n({errmsg:"User "+a+" not found"})},500)})}var p=this;p.ROLES=o,p.login=s,p.logout=c,p.getUser=u,p.setUser=l,p.clearUser=m,p.getUsername=d,p.isLogged=g,p.editPassword=f}angular.module("metricapp").service("AuthService",e),e.$inject=["$http","$rootScope","$cookies","$q","REST_SERVICE","ROLES","DB_USERS"]}(),function(){"use strict";function e(e){function t(t){e.create("success",t,0,{"class":"custom-class",id:"custom-id"},!0)}function r(t){e.create("info",t,0,{"class":"custom-class",id:"custom-id"},!0)}function n(t){e.create("warning",t,0,{"class":"custom-class",id:"custom-id"},!0)}function a(t){e.create("danger",t,0,{"class":"custom-class",id:"custom-id"},!0)}var o=this;o.success=t,o.info=r,o.warning=n,o.danger=a}angular.module("metricapp").service("FlashService",e),e.$inject=["Flash"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){var e=Object.keys(a).reduce(function(e,t){return a[e]>a[t]?e:t});return e+1}function i(){return t(function(e,t){setTimeout(function(){var r=n.getUsername();if(r){var o=[];for(var i in a){var s=a[i];if(s.expert===r){var c=Math.floor(100*Math.random()+0);s.progress=c,o.push(s)}}e({grids:o})}else t({errmsg:"User not logged"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var o=n.getUsername();if(o){var i=a[e];if(i)if(i.expert===o){var s=Math.floor(100*Math.random()+0);i.progress=s,t({grid:i})}else r({errmsg:"Grid "+e+" not readable for user "+o});else r({errmsg:"Grid "+e+" not found"})}else r({errmsg:"User not logged"})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var r=o();e.id=r,e.ts_create=Date.now(),e.ts_update=Date.now(),a[r]=angular.copy(e),t({gridid:r,msg:"Thank you for creating grid "+r})},500)})}function u(e){return t(function(t,r){var n=userAttrs.gridid;setTimeout(function(){var o=a[n];if(o){for(var i in e)o[i]=angular.copy(e[i]);var s=Math.floor(100*Math.random()+0);o.progress=s,t({grid:o})}else r({errmsg:"Grid "+n+" not found"})},500)})}var l=this;l.getAll=i,l.getById=s,l.create=c,l.update=u}angular.module("metricapp").service("GridService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_GRIDS"]}(),function(){"use strict";function e(e,t,r,n){function a(t){return console.log("SUBMIT measurementGoal WITH name= "+t.name+" & object="+t.object+" & purpose="+t.purpose+" & viewPoint="+t.viewPoint+" & focus="+t.focus),n.alert(JSON.stringify(submit)),console.log(JSON.stringify(t)),e.post("http://localhost:8080/metricapp-server/measurementgoal/",submit).then(function(e){console.log("SUCCESS GET measurementGoal");var t=e.data;return t},function(e){var t=e.data;return console.log("FAILURE GET measurementGoal"),t})}function o(){return e.get("http://localhost:8080/metricapp-server/measurementgoal?userid=metricator").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function i(t){return e.get("http://localhost:8080/metricapp-server-gitlab/external/measurementgoal?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function s(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/organizationalgoal?id=1").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET ORGANIZATIONAL GOAL"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET ORGANIZATIONAL GOAL"),console.log(t),t})}function c(t,r){return e.get("http://localhost:8080/metricapp-server/measurementgoal?"+r+"="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function u(e){m.measurementGoalToUpdate=e}function l(){return m.measurementGoalToUpdate}var m=this;m.measurementGoalToUpdate={},m.submitMeasurementGoal=a,m.getMeasurementGoals=o,m.getMeasurementGoalsBy=c,m.toUpdateMeasurementGoal=u,m.getUpdateMeasurementGoal=l,m.getOrganizationalGoalById=s,m.getMeasurementGoalExternals=i}angular.module("metricapp").service("MeasurementGoalService",e),e.$inject=["$http","$rootScope","$cookies","$window"]}(),function(){"use strict";function e(e,t,r,n,a,o,i){function s(){return t(function(e,t){var r=o.getUsername();r||t({errmsg:"User not logged"}),setTimeout(function(){var n=[],a=0,o=i[r];if(o){for(var s in o){var c=o[s];n.push(c),a+=c.toread}e({conversations:n,toread:a})}else t({errmsg:"Conversations not found for user "+r
})},500)})}function c(e,r){return t(function(t,n){var a=o.getUsername();a||n({errmsg:"User not logged"}),setTimeout(function(){var o=i[a];if(o){var s=o[e];if(s)if(r<0)t({conversation:s});else{var c={sender:s.sender,recipient:s.recipient,ts_update:s.ts_update,toread:s.toread},u=s.messages,l=Math.max(u.length-r-1,0);c.messages=u.slice(l,u.length-1),t({conversation:c})}else n({errmsg:"Conversation not found for user "+a+" with recipient "+e})}else n({errmsg:"Conversations not found for user "+a})},500)})}function u(e,r){return t(function(t,a){var s=o.getUsername();s||a({errmsg:"User not logged"}),setTimeout(function(){var o=i[s];if(o){var c=[],u=0;for(var l in o){var m=o[l];c.push(m),u+=m.toread}var d=n("orderBy")(c,"-ts_update"),g=d.slice(e,r);t({conversations:g,toread:u})}else a({errmsg:"Conversations not found for user "+s})},500)})}function l(){return t(function(e,t){var r=o.getUsername();r||t({errmsg:"User not logged"}),setTimeout(function(){var n=i[r];if(n){var a,o=new Date(0);for(var s in n){var c=n[s];c.ts_update>o&&(a=c.recipient)}e({lastRecipient:a})}else t({errmsg:"Conversations not found for user "+r})},500)})}var m=this;m.getAll=s,m.getById=c,m.getNFrom=u,m.getLastRecipient=l}angular.module("metricapp").service("MessageService",e),e.$inject=["$http","$q","$cookies","$filter","REST_SERVICE","AuthService","DB_CONVERSATIONS"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function s(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?approved=true").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function c(t){return e.put("http://qips.sweng.uniroma2.it/metricapp-server/metric/",t).then(function(e){console.log("SUCCESS PUT metric");var t=e.data;return t},function(e){var t=e.data;return console.log("FAILURE PUT metric"),t})}function u(t){return e.put("http://qips.sweng.uniroma2.it/metricapp-server/metric?onlychangestate=true",t).then(function(e){console.log("SUCCESS PUT metric");var t=e.data;return t},function(e){var t=e.data;return console.log("FAILURE PUT metric"),t})}function l(){var t={description:null,hasMax:!1,hasMin:!1,hasUserDefinedList:!1,isOrdered:!1,max:0,metadata:{creationDate:null,creatorId:n.getUser().username,entityType:"Metric",id:null,lastVersionDate:null,releaseNote:null,state:"Created",tags:[],version:"0",versionBus:null},metricatorId:n.getUser().username,min:0,name:null,scaleType:"ordinalScale",set:"integers",unit:null,userDefinedList:[]};return e.post("http://qips.sweng.uniroma2.it/metricapp-server/metric/",t).then(function(e){console.log("SUCCESS POST metric");var t=e.data;return mmetric=t.metricsDTO[0],t},function(e){var t=e.data;return console.log("FAILURE POST metric"),t})}function m(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+n.getUser().username).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function d(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRIC"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRIC"),console.log(t),t})}function g(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function d(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRIC BY ID"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS BY ID"),console.log(t),t})}function s(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?state=Approved").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY APPROVED VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function f(t,r){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+r+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY State and User VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function p(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY State and User VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function v(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+n.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY State and User VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}var h=this;h.getAll=i,h.getById=d,h.update=c,h.changeState=u,h.create=l,h.getAllMine=m,h.getByUser=g,h.getById=d,h.getAllApproved=s,h.getByStateAndUser=f,h.getMineByState=v,h.getByState=p}angular.module("metricapp").service("MetricService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_METRICS","$window"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){return t(function(e,t){setTimeout(function(){var t=[];for(var r in a)t.push(a[r]);e({mgoals:t})},500)})}function i(e){return t(function(t,r){setTimeout(function(){var n=a[e];n?t({mgoal:n}):r({errmsg:"MGoal "+e+" not found"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=a[e];t&&(r[e]=t)}),t({mgoals:r})},500)})}function c(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],o=Object.keys(a).length,i=r===-1?o:Math.min(e+r,o),s=e;s<i;s++)n.push(a[s]);t({mgoals:n,nummgoals:o})},500)})}function u(e){return t(function(t,r){var n=e.goalid;setTimeout(function(){a[n]?r({errmsg:"MGoal "+n+" already registered"}):(a[n]=angular.copy(e),t({goalid:n,msg:"Thank you for creating "+n}))},500)})}function l(e){return t(function(t,r){var n=e.goalid;setTimeout(function(){var o=a[n];if(o){for(var i in e)o[i]=angular.copy(e[i]);t({mgoal:o})}else r({errmsg:"MGoal "+n+" not found"})},500)})}var m=this;m.getAll=o,m.getById=i,m.getInArray=s,m.getNFrom=c,m.create=u,m.update=l}angular.module("metricapp").service("MGoalService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_MGOALS"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){return t(function(e,t){setTimeout(function(){var r=n.getUsername();if(r){var o=a[r];if(o){var i=o.notifications,s=o.news,c=0;i.forEach(function(e){e.read||c++}),e({notifications:i,news:s,toread:c})}else t({errmsg:"Notifications not found for user "+r})}else t({errmsg:"User not logged"})},500)})}function i(e){return t(function(t,r){setTimeout(function(){var o=n.getUsername();if(o){var i=a[o];if(i){var s=i.notifications,c=i.news;s.forEach(function(r){if(r.id===e)return void t({notification:r,"new":c})}),r({errmsg:"Notification "+e+" not found for user "+o})}else r({errmsg:"Notifications not found for user "+o})}else r({errmsg:"User not logged"})},500)})}function s(e,r){return t(function(t,o){setTimeout(function(){var i=n.getUsername();if(i){var s=a[i];if(s){for(var c=s.news,u=s.notifications,l=[],m=0,d=r===-1?u.length:Math.min(e+r,u.length),g=e;g<d;g++)l.push(u[g]),u[g].read||m++;t({notifications:l,news:c,toread:m})}else o({errmsg:"Notifications not found for user "+i})}else o({errmsg:"User not logged"})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var o=n.getUsername();if(o){var i=a[o];if(i){var s=i.notifications,c=s.indexOf(function(t){return t.id===e});c>=0?(s[c].read=!0,t({msg:"Notification "+e+" marked as read"})):r({errmsg:"Notification "+e+" not found for user "+o})}else r({errmsg:"Notifications not found for user "+o})}else r({errmsg:"User not logged"})},500)})}function u(){return t(function(e,t){setTimeout(function(){var r=n.getUsername();if(r){var o=a[r];if(o){var i=o.notifications;i.forEach(function(e){e.read=!0}),e({msg:"All notifications marked as read"})}else t({errmsg:"Notifications not found for user "+r})}else t({errmsg:"User not logged"})},500)})}var l=this;l.getAll=o,l.getById=i,l.getNFrom=s,l.setReadById=c,l.setAllRead=u}angular.module("metricapp").service("NotificationService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_NOTIFICATIONS"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){return t(function(e,t){setTimeout(function(){var t=[];for(var r in a)t.push(a[r]);e({questions:t})},500)})}function i(e){return t(function(t,r){setTimeout(function(){var n=a[e];n?t({question:n}):r({errmsg:"Question "+e+" not found"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=a[e];t&&(r[e]=t)}),t({questions:r})},500)})}function c(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],o=Object.keys(a).length,i=r===-1?o:Math.min(e+r,o),s=e;s<i;s++)n.push(a[s]);t({questions:n,numquestions:o})},500)})}function u(e){return t(function(t,r){var n=e.questionid;setTimeout(function(){a[n]?r({errmsg:"Question "+n+" already registered"}):(a[n]=angular.copy(e),t({questionid:n,msg:"Thank you for creating "+n}))},500)})}function l(e){return t(function(t,r){var n=e.questionid;setTimeout(function(){var o=a[n];if(o){for(var i in e)o[i]=angular.copy(e[i]);t({question:o})}else r({errmsg:"Question "+n+" not found"})},500)})}var m=this;m.getAll=o,m.getById=i,m.getInArray=s,m.getNFrom=c,m.create=u,m.update=l}angular.module("metricapp").service("QuestionService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_QUESTIONS"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(e){return t(function(t,r){setTimeout(function(){var n=o[e];if(n){for(var i={},s=Math.floor(100*Math.random()+0),c=Math.floor(100*Math.random()+0),u=Math.floor(100*Math.random()+0),l=Math.floor(100*Math.random()+0),m=Math.floor(100*Math.random()+0),d=Math.floor(100*Math.random()+0),g=Math.floor(100*Math.random()+0),f=Math.floor(100*Math.random()+0),p=[],v=0;v<30;v++){var h=new Date(2016,1,v,12,30,0,0),E=Math.floor(10*Math.random()+0),S=Math.floor(10*Math.random()+0),T=Math.floor(10*Math.random()+0),A={ts:h,assigned:E,submitted:S,accepted:T};p.push(A)}i[a.GQM_SCORE]=s,i[a.GRIDS_TOT]=c,i[a.ARTIFACTS_TOT]=u,i[a.ACCEPTANCE_RATIO]=l,i[a.ARTIFACTS_MGOAL]=m,i[a.ARTIFACTS_RATE]=d,i[a.WORKTIME_RATIO]=g,i[a.TASKS_PROGRESS]=f,i[a.TASKS_RECORD]=p,t({analytics:i,teamid:e})}else r({errmsg:"Team "+e+" not found"})},500)})}var s=this;s.getAll=i}angular.module("metricapp").service("TeamAnalyticsService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","TEAM_ANALYTICS","DB_TEAMS"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(){return t(function(e,t){setTimeout(function(){var r=a.getUsername();if(r){var n=[];for(var i in o){var s=o[i];s.expert===r&&n.push(s)}e({teams:n})}else t({errmsg:"User not logged"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var n=o[e];n?t({team:n}):r({errmsg:"Team "+e+" not found"})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=o[e];t&&(r[e]=t)}),t({teams:r})},500)})}function u(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],a=Object.keys(o).length,i=r===-1?a:Math.min(e+r,a),s=e;s<i;s++)n.push(o[s]);t({teams:n,numteams:a})},500)})}function l(e){return t(function(t,r){var n=e.teamid;setTimeout(function(){o[n]?r({errmsg:"Team "+n+" already registered"}):(o[n]=angular.copy(e),t({teamid:n,msg:"Thank you for creating team "+n}))},500)})}function m(e){return t(function(t,r){setTimeout(function(){var n=a.getUsername();if(n){var i=e.teamid,s=o[i];if(s)if(s.expert===n){for(var c in e)s[c]=angular.copy(e[c]);t({team:s})}else r({errmsg:"The current user "+n+" cannot update team "+i});else r({errmsg:"Team "+i+" not found"})}else r({errmsg:"User not logged"})},500)})}var d=this;d.getAll=i,d.getById=s,d.getInArray=c,d.getNFrom=u,d.create=l,d.update=m}angular.module("metricapp").service("TeamService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","AuthService","DB_TEAMS"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(e){return t(function(t,r){setTimeout(function(){var n=o[e];if(n){for(var i={},s=Math.floor(100*Math.random()+0),c=Math.floor(100*Math.random()+0),u=Math.floor(100*Math.random()+0),l=Math.floor(100*Math.random()+0),m=Math.floor(100*Math.random()+0),d=Math.floor(100*Math.random()+0),g=Math.floor(100*Math.random()+0),f=Math.floor(100*Math.random()+0),p=[],v=0;v<30;v++){var h=new Date(2016,1,v,12,30,0,0),E=Math.floor(10*Math.random()+0),S=Math.floor(10*Math.random()+0),T=Math.floor(10*Math.random()+0),A={ts:h,assigned:E,submitted:S,accepted:T};p.push(A)}i[a.GQM_SCORE]=s,i[a.GRIDS_TOT]=c,i[a.ARTIFACTS_TOT]=u,i[a.ACCEPTANCE_RATIO]=l,i[a.ARTIFACTS_MGOAL]=m,i[a.ARTIFACTS_RATE]=d,i[a.WORKTIME_RATIO]=g,i[a.TASKS_PROGRESS]=f,i[a.TASKS_RECORD]=p,t({analytics:i,username:e})}else r({errmsg:"User "+e+" not found"})},500)})}var s=this;s.getAll=i}angular.module("metricapp").service("UserAnalyticsService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","USER_ANALYTICS","DB_USERS"]}(),function(){"use strict";function e(e,t,r,n,a,o,i){function s(){return t(function(e,t){setTimeout(function(){var t=[];for(var r in i)t.push(i[r]);e({users:t})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var n=i[e];n?t({user:n}):r({errmsg:"User "+e+" not found"})},500)})}function u(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=i[e];t&&(r[e]=t)}),t({users:r})},500)})}function l(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],a=Object.keys(i).length,o=r===-1?a:Math.min(e+r,a),s=e;s<o;s++)n.push(i[s]);t({users:n,numusers:a})},500)})}function m(e){return t(function(t,r){var n=e.username;setTimeout(function(){i[n]?r({errmsg:"User "+n+" already registered"}):(i[n]=angular.copy(e),i[n].online=!1,t({username:n,msg:"Thank you for signing up "+n}))},500)})}function d(e){return t(function(t,r){setTimeout(function(){var n=a.getUsername();if(n){var o=e.username;if(n===o){var s=i[o];if(s){for(var c in e)s[c]=angular.copy(e[c]);t({user:s})}else r({errmsg:"User "+o+" not found"})}else r({errmsg:"The current user "+n+" cannot update user "+o})}else r({errmsg:"User not logged"})},500)})}var g=this;g.getAll=s,g.getById=c,g.getInArray=u,g.getNFrom=l,g.create=m,g.update=d}angular.module("metricapp").service("UserService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","AuthService","ROLES","DB_USERS"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/home/expertdashboard/expertdashboard.view.html"}}angular.module("metricapp").directive("viewexpertdashboard",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}}angular.module("metricapp").directive("measurementgoal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoalsearch.view.html"}}angular.module("metricapp").directive("measurementgoalsearch",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metric/metricpage.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/metric/metricupdate.view.html"}}function r(){return{restrict:"E",templateUrl:"dist/views/metric/metricread.view.html"}}angular.module("metricapp").directive("metricPage",e),angular.module("metricapp").directive("metricupdate",t),angular.module("metricapp").directive("metricread",r)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/metric/metrics.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/metric/metric.view.html"}}angular.module("metricapp").directive("metrics",e),angular.module("metricapp").directive("widget",t)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metricator/metricator.view.html"}}angular.module("metricapp").directive("metricator",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/viewabout.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/viewprojects.view.html"}}function r(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/viewstatistics.view.html"}}function n(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/vieweditprofile.view.html"}}function a(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/vieweditcredentials.view.html"}}angular.module("metricapp").directive("viewabout",e),angular.module("metricapp").directive("viewprojects",t),angular.module("metricapp").directive("viewstatistics",r),angular.module("metricapp").directive("vieweditprofile",n),angular.module("metricapp").directive("vieweditcredentials",a)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){t.bind("error",function(){t.attr("src",r.mFallbackSrc)})}}}angular.module("metricapp").directive("mFallbackSrc",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){var n=t[0],a=r.mWhenScrollBottom;$(n).bind("scroll",function(){n.scrollTop+n.offsetHeight>=n.scrollHeight&&e.$apply(a)})}}}angular.module("metricapp").directive("mWhenScrollBottom",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){var n=t[0],a=r.mWhenScrollTop;$(n).bind("scroll",function(){n.scrollTop+n.offsetHeight>=n.scrollHeight&&e.$apply(a)})}}}angular.module("metricapp").directive("mWhenScrollTop",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,r,n){n.$validators.match=function(e,t){return r.mMatch===e}}}}angular.module("metricapp").directive("mMatch",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",require:"ngModel",link:function(r,n,a,o){var i=a.mUnique;o.$asyncValidators.unique=function(r,n){var a=n;console.log("m-unique WITH value="+a);var o=t.defer();return e.post(i,a).then(function(e){e.data.exist?o.reject():o.resolve()}),o.promise}}}}angular.module("metricapp").directive("mUnique",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e){var t=new Date,r=e.getDate(),n=e.getMonth();switch(n){case 1:n="Jan";break;case 2:n="Feb";break;case 3:n="Mar";break;case 4:n="Apr";break;case 5:n="May";break;case 6:n="Jun";break;case 7:n="Jul";break;case 8:n="Aug";break;case 9:n="Sep";break;case 10:n="Oct";break;case 11:n="Nov";break;case 12:n="Dec";break;default:n="Unknown"}var a=e.getFullYear();a===t.getFullYear()&&(a="");var o=e.getHours(),i=e.getMinutes(),s="on "+[r,n,a].join(" "),c="at "+[o,i].join(":"),u=[s,c].join(" ");return u}function t(t){var r=new Date;if(t.getDate()===r.getDate()){if(t.getHours()===r.getHours()){var n=r.getMinutes()-t.getMinutes();return 0===n?"now":n+"m"+(n>1?"s":"")}var a=r.getHours()-t.getHours();return a+"h"+(a>1?"s":"")}if(t.getDate()===new Date(r-864e5)){var o=t.getHours(),i=t.getMinutes();return"Yesterday at "+[o,i].join(":")}return e(t)}return function(r,n){return angular.isDate(r)?"normal"===n?e(r):"ago"===n?t(r):e(r):r}}angular.module("metricapp").filter("datetimeFilter",e)}(),function(){"use strict";function e(){return function(e,t){if(!e)return t}}angular.module("metricapp").filter("textFallback",e)}(),function(){"use strict";function e(){return function(e,t){var r=[];return t?(t.toLowerCase(),e.forEach(function(e){(e.fname.toLowerCase().indexOf(t)>=0||e.lname.toLowerCase().indexOf(t)>=0)&&r.push(e)}),r):e}}function t(){return function(e){if(!e)return e;var t=[e.firstname,e.lastname].join(" ");return t}}angular.module("metricapp").filter("userFilterByName",e),angular.module("metricapp").filter("userFullname",t)}(),function(){"use strict";function e(e,t,r,n){function a(a){o.loading=!0,o.success=!1,r.login(a).then(function(a){var i=a.authuser;r.setUser(i),o.success=!0,e.$broadcast(n.LOGIN_SUCCESS),t.path("/home")},function(t){o.errmsg=t.errmsg,alert(o.errmsg),o.success=!1,e.$broadcast(n.LOGIN_FAILURE)})["finally"](function(){o.loading=!1})}var o=this;o.login=a}angular.module("metricapp").controller("LoginController",e),e.$inject=["$rootScope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){function a(){i.loading=!0,r.logout().then(function(r){i.success=!0,e.$broadcast(n.LOGOUT_SUCCESS),t.path("/")},function(r){i.errmsg=r.errmsg,alert(i.errmsg),i.success=!1,e.$broadcast(n.LOGOUT_FAILURE),t.path("/")})["finally"](function(){i.loading=!1})}function o(){i.loading=!1,i.success=!1,i.errmsg=null}var i=this;i.logout=a,o()}angular.module("metricapp").controller("LogoutController",e),e.$inject=["$rootScope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(e){u.loading=!0,u.success=!1,r.create(e).then(function(e){var r=e.msg;u.success=!0,alert(r),t.path("/")},function(e){var t=e.errmsg;alert(t),u.success=!1})["finally"](function(){u.loading=!1})}function s(){t.path("/")}function c(){u.loading=!1,u.success=!1,u.errmsg=null}var u=this;u.ROLES=a,u.GENDERS=o,u.signup=i,u.cancelSignup=s,c()}angular.module("metricapp").controller("SignupController",e),e.$inject=["$scope","$location","UserService","FlashService","ROLES","GENDERS"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(){}function s(e){var t={ts_create:new Date,author:$rootScope.globals.user.username,content:e};l.currConversation.messages.push(t)}function c(e){l.loading=!0,l.success=!1,a.getById(e,-1).then(function(e){return l.currConversation=angular.copy(e.conversation),o.getUser(l.currConversation.recipient).then(function(e){l.currConversation.recipient=angular.copy(e.user),l.success=!0},function(e){l.errmsg=e.errmsg,l.success=!1})},function(e){l.errmsg=e.errmsg,l.success=!1})["finally"](function(){l.loading=!1})}function u(){l.loading=!0,l.success=!1,l.errmsg=null,r.username&&(l.currConversation={recipient:{username:r.username}},c(l.currConversation.recipient.username))}var l=this;l.loadMore=i,l.sendMessage=s,u()}angular.module("metricapp").controller("ChatController",e),e.$inject=["$scope","$location","$routeParams","$filter","MessageService","UserService"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(){if(u.idx<u.buffer.length){var e=Math.min(u.idx+u.step,u.buffer.length);u.conversations=u.conversations.concat(u.buffer.slice(u.idx,e)),u.idx=e}}function s(){u.loading=!0,u.success=!1,a.getAll().then(function(e){var t=e.conversations;u.toread=e.toread;var r=[];return t.forEach(function(e){r.push(e.recipient)}),o.getInArray(r).then(function(e){for(var r=e.users,a=0;a<t.length;a++){var o=t[a],i=o.recipient;o.recipient=angular.copy(r[i]),o.recipient&&u.data.push(o)}u.buffer=n("orderBy")(u.data,u.orderBy),u.success=!0},function(e){u.errmsg=e.errmsg,u.success=!1})},function(e){u.errmsg=e.errmsg,u.success=!1})["finally"](function(){u.loading=!1})}function c(){u.loading=!0,u.success=!1,u.errmsg=null,u.data=[],u.buffer=[],u.conversations=[],u.idx=0,u.step=10,u.orderBy="-ts_update",u.toread=0,s(),e.$watch("vm.buffer",function(){u.idx=0;var e=Math.min(u.idx+u.step,u.buffer.length);u.conversations=u.buffer.slice(u.idx,e),u.idx=e})}var u=this;u.loadMore=i,c()}angular.module("metricapp").controller("ChatsController",e),e.$inject=["$scope","$location","$routeParams","$filter","MessageService","UserService"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(e,t){c.loading=!0,c.success=!1,r.getNFrom(e,t).then(function(e){var t=e.conversations;c.toread=e.toread;var r=[];return t.forEach(function(e){r.push(e.recipient)}),n.getInArray(r).then(function(e){for(var r=e.users,n=0;n<t.length;n++){var a=t[n],o=a.recipient;a.recipient=angular.copy(r[o]),a.recipient&&c.conversations.push(a)}c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function s(){c.loading=!0,c.success=!1,c.errmsg=null,c.conversations=[],c.toread=0,a.isLogged()&&i(0,5),e.$on(o.LOGIN_SUCCESS,function(){i(0,5)})}var c=this;s()}angular.module("metricapp").controller("ChatsWidgetController",e),e.$inject=["$scope","$location","MessageService","UserService","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t){function r(){t.path("/home")}function n(){e.history.back()}var a=this;a.goHome=r,a.goBack=n}angular.module("metricapp").controller("Error401Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t){function r(){t.path("/home")}function n(){e.history.back()}var a=this;a.goHome=r,a.goBack=n}angular.module("metricapp").controller("Error404Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t){function r(){t.path("/home")}function n(){e.history.back()}var a=this;a.goHome=r,a.goBack=n}angular.module("metricapp").controller("Error500Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t,r,n){function a(e){i.loading=!0,i.success=!1,n.getById(e).then(function(e){i.currGrid=angular.copy(e.grid),i.success=!0},function(e){i.errmsg=e.errmsg,i.success=!1})["finally"](function(){i.loading=!1})}function o(){i.loading=!0,i.success=!1,i.errmsg=null,i.currGrid={id:r.gridid},a(i.currGrid.id)}var i=this;o()}angular.module("metricapp").controller("GridAnalyticsController",e),e.$inject=["$scope","$location","$routeParams","GridService"]}(),function(){"use strict";function e(e,t,r,n,a){function o(e){s.loading=!0,s.success=!1,r.create(e).then(function(e){var r=e.gridid;e.msg;s.success=!0,t.path("/grids/"+r)},function(e){s.errmsg=e.errmsg,s.success=!1})["finally"](function(){s.loading=!1})}function i(){s.loading=!1,s.success=!0,s.errmsg=null,s.currUser=a.getUser(),s.grid={id:null,name:null,description:null,expert:s.currUser.username,questioners:[],metricators:[],ts_create:null,ts_update:null,mgoals:[],questions:[],metrics:[],graph:{}}}var s=this;s.createGrid=o,i()}angular.module("metricapp").controller("CreateGridController",e),e.$inject=["$scope","$location","GridService","UserService","AuthService"]}(),function(){"use strict";function e(e,t,r,n,a,o,i,s,c,u,l,m,d){function g(e){h.loading=!0,h.success=!1,o.update(e).then(function(e){h.currGrid=angular.copy(e.grid);var n=e.grid.gridid;h.success=!0,r.path("/grids/"+n),t.$broadcast(m.UPDATE_SUCCESS)},function(e){h.errmsg=e.errmsg,h.success=!1,t.$broadcast(m.UPDATE_FAILURE)})["finally"](function(){h.loading=!1})}function f(e,t){t===l.QUESTIONER?delete h.updtGrid.questioners[e]:t===l.METRICATOR&&delete h.updtGrid.metricator[e]}function p(e){h.loading=!0,h.success=!1,o.getById(e).then(function(e){h.currGrid=angular.copy(e.grid);var t={expert:u.getById(h.currGrid.expert),questioners:u.getInArray(h.currGrid.questioners),metricators:u.getInArray(h.currGrid.metricators),mgoals:i.getInArray(h.currGrid.mgoals),questions:s.getInArray(h.currGrid.questions),metrics:c.getInArray(h.currGrid.metrics)};return a.all(t).then(function(e){h.currGrid.expert=angular.copy(e.expert.user),h.currGrid.questioners=angular.copy(e.questioners.users),h.currGrid.metricators=angular.copy(e.metricators.users),h.currGrid.mgoals=angular.copy(e.mgoals.mgoals),h.currGrid.questions=angular.copy(e.questions.questions),h.currGrid.metrics=angular.copy(e.metrics.metrics),h.updtGrid=angular.copy(h.currGrid),h.num_questions=Object.keys(h.currGrid.questions).length,h.num_mgoals=Object.keys(h.currGrid.mgoals).length,h.num_metrics=Object.keys(h.currGrid.metrics).length,h.success=!0},function(e){h.errmsg=e.errmsg,alert(h.errmsg),h.success=!1})},function(e){h.errmsg=e.errmsg,h.success=!1})["finally"](function(){h.loading=!1})}function v(){h.loading=!0,h.success=!1,h.errmsg=null,h.currGrid={id:n.gridid},p(h.currGrid.id)}var h=this;h.updateGrid=g,h.removeMember=f,v(),e.vm.options={textureOnViewport:!0,pixelRatio:"auto",motionBlur:!1,hideEdgesOnViewport:!0},e.vm.layout={name:"circle"},e.vm.elements={n1:{group:"nodes",data:{weight:30,color:"orange",name:"Metric 1"}},n2:{group:"nodes",data:{weight:30,color:"red",name:"MG 2"}},n3:{group:"nodes",data:{weight:30,color:"blue",name:"Question 1"}},n4:{group:"nodes",data:{weight:30,color:"green",name:"Org. Goal 1"}},e1:{group:"edges",data:{target:"n1",source:"n1"}},e2:{group:"edges",data:{target:"n1",source:"n2"}},e3:{group:"edges",data:{target:"n1",source:"n3"}},e4:{group:"edges",data:{target:"n1",source:"n1"}}},e.vm.style=[{selector:"node",style:{height:"data(weight)",width:"data(weight)",shape:"ellipse","border-width":0,"background-color":"data(color)"}}],e.node_name="",e.node_description="",e.node_creation="",e.node_update="",e.$on("cy:node:mouseover",function(t,r){e.event.name="cy:node:mouseover";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:mouseout",function(t,r){e.event.name="cy:node:mouseout";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:mousedown",function(t,r){e.event.name="cy:node:mousedown";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:mouseup",function(t,r){e.event.name="cy:node:mouseup";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:click",function(t,r){e.event.name="cy:node:click";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()})}angular.module("metricapp").controller("GridController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","$q","GridService","MGoalService","QuestionService","MetricService","UserService","ROLES","GRID_EVENTS","cytoData"]}(),function(){"use strict";function e(e,t,r,n,a,o){function i(){if(l.idx<l.buffer.length){var e=Math.min(l.idx+l.step,l.buffer.length);l.grids=l.grids.concat(l.buffer.slice(l.idx,e)),l.idx=e}}function s(e){l.buffer=r("orderBy")(r("filter")(l.data,e),l.orderBy)}function c(){l.loading=!0,l.success=!1,n.getAll().then(function(e){l.data=angular.copy(e.grids),l.buffer=r("orderBy")(l.data,l.orderBy),l.success=!0},function(e){l.errmsg=e.errmsg,l.success=!1})["finally"](function(){l.loading=!1})}function u(){l.loading=!0,l.success=!1,l.errmsg=null,l.data=[],l.buffer=[],l.grids=[],l.idx=0,l.step=1,l.query="",l.orderBy="name",c(),e.$watch("vm.buffer",function(){l.idx=0;var e=Math.min(l.idx+l.step,l.buffer.length);l.grids=l.buffer.slice(l.idx,e),l.idx=e})}var l=this;l.ROLES=o,l.loadMore=i,l.search=s,u()}angular.module("metricapp").controller("GridsController",e),e.$inject=["$scope","$location","$filter","GridService","UserService","ROLES"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){s.loading=!0,s.success=!1,s.currUser=a.getUser(),s.success=!0,s.loading=!1}function i(){s.loading=!0,s.success=!1,s.errmsg=null,o()}var s=this;i(),s.active_questioners=10,s.active_metricators=15,s.active_experts=1,s.inactive_questioners=3,s.inactive_metricators=2,s.inactive_experts=0,s.active_tasks=10,s.active_teams=2,s.total_active_users=s.active_questioners+s.active_metricators+s.active_experts,s.total_inactive_users=s.inactive_experts+s.inactive_metricators+s.inactive_questioners,s.total_users=s.total_inactive_users+s.total_active_users,s.active_users_chart_data=[{label:"Metricators",value:s.active_questioners},{label:"Questioners",value:s.active_metricators
},{label:"Experts",value:s.active_experts}],s.trend_active_users=[{y:"Q2/15",questioners:19,metricators:29},{y:"Q3/15",questioners:30,metricators:35},{y:"Q1/16",questioners:55,metricators:45},{y:"Q2/16",questioners:78,metricators:80}],s.projects=[{name:"ISSR Project",status:"active",progress:30},{name:"ISSR Project2",status:"active",progress:70}],s.date=new Date,s.exportDataXLS=function(){var e=new Blob([document.getElementById("exportable").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(e,"Report.xls")}}angular.module("metricapp").controller("HomeController",e),e.$inject=["$rootScope","$scope","$location","$timeout","AuthService"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){var e=void 0!==S.object?S.object:S.measurementGoalDialog.object,t=void 0!==S.purpose?S.purpose:S.measurementGoalDialog.purpose,n=void 0!==S.viewPoint?S.viewPoint:S.measurementGoalDialog.viewPoint,a=void 0!==S.qualityFocus?S.qualityFocus:S.measurementGoalDialog.qualityFocus,o=void 0!==S.functionJavascript?S.functionJavascript:S.measurementGoalDialog.interpretationModel.functionJavascript,i=void 0!==S.queryNoSQL?S.queryNoSQL:S.measurementGoalDialog.interpretationModel.queryNoSQL,s={userid:S.measurementGoalDialog.userid,name:S.name,object:e,viewPoint:n,qualityFocus:a,purpose:t,OrganizationalGoalId:S.measurementGoalDialog.OrganizationalGoalId,metrics:S.measurementGoalDialog.metrics,questions:S.measurementGoalDialog.questions,metricatorId:S.measurementGoalDialog.metricatorId,questionersId:S.measurementGoalDialog.questionersId,contextFactors:S.measurementGoalDialog.contextFactors,assumptions:S.measurementGoalDialog.assumptions,interpretationModel:{functionJavascript:o,queryNoSQL:i},metadata:{id:S.measurementGoalDialog.metadata.id,version:S.measurementGoalDialog.metadata.version,tags:S.measurementGoalDialog.metadata.tags,creatorId:S.measurementGoalDialog.metadata.creatorId,state:S.measurementGoalDialog.metadata.state,releaseNote:S.measurementGoalDialog.metadata.releaseNote,entityType:S.measurementGoalDialog.metadata.entityType,versionBus:S.measurementGoalDialog.metadata.versionBus,creationDate:S.measurementGoalDialog.metadata.creationDate,lastVersionDate:S.measurementGoalDialog.metadata.lastVersionDate}};r.submitMeasurementGoal(s).then(function(e){S.measurementGoalDialog=e.measurementGoals[0],$("#modal_large_measurementgoal").modal("show")},function(e){alert(e)})}function i(){n.getMetricsByMeasurementGoalId(S.measurementGoalDialog.metadata.id).then(function(e){console.log("SUCCESS GET METRICS BY MEASUREMENT GOAL"),console.log(e.metrics),S.metricsDialog=e.metrics},function(e){alert("Error retriving Metrics")})}function s(){n.getApprovedMetrics().then(function(e){console.log("SUCCESS GET APPROVED METRICS"),console.log(e.metricsDTO),S.externalMetricDialog=e.metricsDTO,$("#modal_large_external_metric").modal("show")},function(e){alert("Error retriving Metrics")})}function c(e){r.getOrganizationalGoalById(e).then(function(e){console.log("getOrganizationalGoalDialog"),console.log(e),S.organizationalGoalDialog=e},function(e){alert("Error retriving Measurement Goals by state")})}function u(){t.path("/measurementgoal")}function l(e){S.measurementGoalDialog=S.measurementGoals[e],null!==S.measurementGoalDialog&&m(S.measurementGoalDialog.organizatoinalGoalId)}function m(e){null!==e&&(c(e),console.log(S.organizationalGoalDialog))}function d(){null!==S.measurementGoalDialog&&m("1")}function g(){r.toUpdateMeasurementGoal(S.measurementGoalDialog),t.path("/measurementgoal"),console.log(t.path("/measurementgoal"))}function f(){S.measurementGoalDialog.metadata.tags.push(S.newTag)}function p(e){S.measurementGoalDialog.metadata.tags.splice(e,1)}function v(e){for(var t=0;t<S.metrics.length;t++)if(S.externalMetricDialog[e].metadata.id==S.metrics[t].metadata.id)return a.alert("You cannot add a metric twice!"),!0;var r={objIdLocalToPhase:"",typeObj:"Metric",instance:S.externalMetricDialog[e].metadata.id,busVersion:"",tags:[]};return S.measurementGoalDialog.metrics.push(r),S.metrics.push(S.externalMetricDialog[e]),a.alert("Item added"),console.log(S.measurementGoalDialog),!1}function h(e){S.measurementGoalDialog.metrics.splice(e,1),S.metrics.splice(e,1),a.alert("Item removed"),console.log(S.measurementGoalDialog)}function E(){S.loading=!1}var S=this;S.measurementGoals=[],S.measurementGoalDialog=r.getUpdateMeasurementGoal().measurementGoal,S.metrics=r.getUpdateMeasurementGoal().metrics,S.contextFactors=r.getUpdateMeasurementGoal().contextFactors,S.assumptions=r.getUpdateMeasurementGoal().assumptions,S.organizationalGoal=r.getUpdateMeasurementGoal().organizationalGoal,S.instanceProject=r.getUpdateMeasurementGoal().instanceProject,S.externalMetricDialog=[],S.submitMeasurementGoal=o,S.cancelSubmit=u,S.getMeasurementGoalsBy=getMeasurementGoalsBy,S.getOrganizationalGoalById=c,S.goToUpdateMeasurementGoal=g,S.setMeasurementGoalDialog=l,S.setOrganizationalGoalDialog=m,S.initOrganizationalGoalDialog=d,S.addTagToMeasurementGoal=f,S.removeTagFromMeasurementGoal=p,S.getMetricsByMeasurementGoal=i,S.getApprovedMetrics=s,S.addMetricToMeasurementGoal=v,S.removeMetricFromMeasurementGoal=h,E()}angular.module("metricapp").controller("MeasurementGoalController",e),e.$inject=["$scope","$location","MeasurementGoalService","MetricService","$window"]}(),function(){"use strict";function e(e,r,n,a,o){function i(){a.getMeasurementGoals().then(function(e){console.log(e.measurementGoals),d.measurementGoals=e.measurementGoals},function(e){alert("Error retriving Measurement Goals")})}function s(e,t){null!=e&&null!=t?a.getMeasurementGoalsBy(e,t).then(function(e){console.log(e.measurementGoals),d.measurementGoals=e.measurementGoals,0===d.measurementGoals.length&&o.alert(e.error)},function(e){alert("Error retriving Measurement Goals")}):o.alert("You must enter keyword and field")}function c(){n.getMetrics().then(function(e){console.log(e.metricsDTO),d.results.metrics=e.metricsDTO},function(e){alert("Error retriving Metrics")})}function u(e){a.getMeasurementGoalExternals(e).then(function(e){d.metrics=e.metrics,d.contextFactors=e.contextFactors,d.assumptions=e.assumptions,d.organizationalGoal=e.organizationalGoal,d.instanceProject=e.instanceProject,$("#modal_large").modal("show")},function(e){alert("Error retriving Metrics")})}function l(e){d.measurementGoalDialog=d.measurementGoals[e],u(d.measurementGoals[e].metadata.id)}function m(){var e={measurementGoal:d.measurementGoalDialog,metrics:d.metrics,contextFactors:d.contextFactors,assumptions:d.assumptions,organizationalGoal:d.organizationalGoal,instanceProject:d.instanceProject};a.toUpdateMeasurementGoal(e),console.log("Going to Update Measurement Goal"),r.path("/measurementgoal"),console.log(r.path("/measurementgoal"))}var d=this;d.measurementGoals=[],d.metrics=[],d.contextFactors=[],d.assumptions=[],d.organizationalGoal={},d.instanceProject={},d.measurementGoalDialog={},d.modal="",d.getMeasurementGoals=i,d.getMetrics=c,d.goToUpdateMeasurementGoal=m,d.getMeasurementGoalExternals=u,d.setMeasurementGoalDialog=l,d.getMeasurementGoalsBy=s,t()}function t(){}angular.module("metricapp").controller("MeasurementGoalSearchController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window"]}(),function(){"use strict";function e(e,t,r,n,a,o,i){function s(){T.modifying=!1,T.copyDialogToModel(),T.setLabelState(),T.setRights()}function c(){r.metricid||n.path("/metrics"),T.currMetricId={id:r.metricid},a.getById(T.currMetricId.id).then(function(e){T.loadedMetric=e.metricsDTO[0],T.loading=!1,s()},function(e){T.error=!0})}function u(){T.newMetric=angular.copy(T.loadedMetric)}function l(e,t){t.indexOf(e)!=-1||angular.isUndefined(e)||e.length>1&&e.length<31&&t.push(e)}function m(){T.stateLabel=t("filter")(T.labelsForState,function(e){return e.state==T.newMetric.metadata.state})[0].label}function d(){if(T.canIUpdateVar=!1,T.isExpert=!1,T.canIApprove=!1,T.canIRequestChange=!1,T.canISendForApproval=!1,!angular.isUndefined(T.newMetric)){var e=T.newMetric;return e.metricatorId==o.getUser().username&&"METRICATOR"==o.getUser().role?("OnUpdate"==e.metadata.state&&(T.canIUpdateVar=!0,T.canISendForApproval=!0),"Rejected"==e.metadata.state&&(T.canIUpdateVar=!0),void("Created"==e.metadata.state&&(T.canIUpdateVar=!0))):void("EXPERT"==o.getUser().role&&(T.isExpert=!0,"OnUpdate"==e.metadata.state&&(T.canIUpdateVar=!0,T.canISendForApproval=!0),"Created"==e.metadata.state&&(T.canIUpdateVar=!0),"Pending"==e.metadata.state&&(T.canIApprove=!0),"Approved"==e.metadata.state&&(T.canIRequestChange=!0),"Rejected"==e.metadata.state&&(T.canIUpdateVar=!0)))}}function g(e){console.log(e),"Rejected"!=e.metadata.state&&"Created"!=e.metadata.state||(e.metadata.state="OnUpdate"),a.update(e).then(function(e){alert("Updated!"),T.newMetric=void 0,c()},function(e){alert("Error in updating"),T.newMetric=void 0,c()})}function f(){console.log("Go to read"),T.modifying=!1,c()}function p(){console.log("Go to modify"),T.modifying=!0}function v(){console.log("Send for approval"),T.newMetric.metadata.state="Pending",a.changeState(T.newMetric).then(function(e){alert("Sended for approval!"),T.goToRead()},function(e){alert("Error in sending"),T.goToRead()})}function h(){console.log("Change Request"),T.newMetric.metadata.state="OnUpdate",a.changeState(T.newMetric).then(function(e){alert("Change Request!"),T.goToRead()},function(e){alert("Error in sending"),T.goToRead()})}function E(){console.log("Approve"),T.newMetric.metadata.state="Approved",a.changeState(T.newMetric).then(function(e){alert("Change Request!"),T.goToRead()},function(e){alert("Error in sending"),T.goToRead()})}function S(){console.log("Reject"),T.newMetric.metadata.state="Rejected",a.changeState(T.newMetric).then(function(e){alert("Change Request!"),T.goToRead()},function(e){alert("Error in sending"),T.goToRead()})}var T=this;$("body").removeClass("modal-open"),T.loading=!0,T.modifying=!1,T.canIUpdateVar=!1,T.isExpert=!1,T.canIApprove=!1,T.canIRequestChange=!1,T.canISendForApproval=!1,T.listOfSet=[{value:"integers",option:"Integers"},{value:"reals",option:"Reals"}],T.listOfScaleType=[{value:"nominalScale",option:"Nominal Scale"},{value:"ordinalScale",option:"Ordinal Scale"},{value:"intervalScale",option:"Interval Scale"},{value:"ratioScale",option:"Ratio Scale"},{value:"absoluteScale",option:"Absolute Scale"}],T.labelsForState=[{state:"OnUpdate",label:"label label-primary label-form"},{state:"Pending",label:"label label-default label-form"},{state:"Created",label:"label label-default label-form"},{state:"Approved",label:"label label-warning label-form"},{state:"Rejected",label:"label label-danger label-form"}],T.copyDialogToModel=u,T.pushIfNotExists=l,T.submitMetric=g,T.setLabelState=m,T.setRights=d,T.goToRead=f,T.goToModify=p,T.sendForApproval=v,T.changeRequest=h,T.approve=E,T.reject=S,c()}angular.module("metricapp").controller("MetricPageController",e),e.$inject=["$scope","$filter","$routeParams","$location","MetricService","AuthService","$window"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){if(S.idx<S.buffer.length){var e=Math.min(S.idx+S.step,S.buffer.length);S.metrics=S.metrics.concat(S.buffer.slice(S.idx,e)),S.idx=e}}function i(e){console.log("go to #/metrics/"+e),t.path("#/metrics/"+e)}function s(e){S.buffer=r("orderBy")(r("filter")(S.data,e),S.orderBy,!0)}function c(){h()}function u(e){S.metricDialog=e,S.modal=!0}function l(){S.mine?S.approved?f():d():S.approved?g():m()}function m(){S.loading=!0,S.success=!1,n.getAll().then(function(e){S.data=angular.copy(e.metricsDTO),S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function d(){S.loading=!0,S.success=!1,n.getAllMine().then(function(e){S.data=angular.copy(e.metricsDTO),S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function g(){S.loading=!0,S.success=!1,n.getAllApproved().then(function(e){S.data=angular.copy(e.metricsDTO),S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function f(){S.loading=!0,S.success=!1,n.getAllApproved().then(function(e){S.data=[];var t=angular.copy(e.metricsDTO);for(var n in t)t[n].metricatorId==S.user&&S.data.push(angular.copy(t[n]));S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function p(){n.create().then(function(e){},function(e){})["finally"](function(){S.update()})}function v(){l(),S.search(S.query)}function h(){S.userId=a.getUser().username,S.role=a.getUser().role,S.metricator=!1,"METRICATOR"==S.role&&(S.metricator=!0),S.loading=!0,S.success=!1,S.errmsg=null,S.data=[],S.buffer=[],S.metrics=[],S.mine=!1,S.modal=!1,S.idx=0,S.step=9,S.query="",S.approved=!1,S.orderBy="metadata.lastVersionDate","METRICATOR"==S.role&&(S.mine=!0),l(),e.$watch("vm.buffer",function(){S.idx=0;var e=Math.min(S.idx+S.step,S.buffer.length);S.metrics=S.buffer.slice(S.idx,e),S.idx=e})}function E(e){return r("filter")(S.labelsForState,function(t){return t.state==e})[0].label}var S=this;S.loadMore=o,S.search=s,S.reset=c,S.update=v,S.create=p,S.openModal=u,S.goToRead=i,S.getLabelState=E,S.labelsForState=[{state:"OnUpdate",label:"label label-primary label-form"},{state:"Pending",label:"label label-default label-form"},{state:"Created",label:"label label-default label-form"},{state:"Approved",label:"label label-warning label-form"},{state:"Rejected",label:"label label-danger label-form"}],h()}angular.module("metricapp").controller("MetricsController",e),e.$inject=["$scope","$location","$filter","MetricService","AuthService"]}(),function(){"use strict";function e(e,r,n,a,o){function i(){a.getMeasurementGoals().then(function(e){console.log(e.measurementGoals),m.measurementGoals=e.measurementGoals},function(e){alert("Error retriving Measurement Goals")})}function s(){n.getMetrics().then(function(e){console.log(e.metricsDTO),m.results.metrics=e.metricsDTO},function(e){alert("Error retriving Metrics")})}function c(e){a.getMeasurementGoalExternals(e).then(function(e){m.metrics=e.metrics,m.contextFactors=e.contextFactors,m.assumptions=e.assumptions,m.organizationalGoal=e.organizationalGoal,m.instanceProject=e.instanceProject,$("#modal_large").modal("show")},function(e){alert("Error retriving Metrics")})}function u(e){m.measurementGoalDialog=m.measurementGoals[e],c(m.measurementGoals[e].metadata.id)}function l(){var e={measurementGoal:m.measurementGoalDialog,metrics:m.metrics,contextFactors:m.contextFactors,assumptions:m.assumptions,organizationalGoal:m.organizationalGoal,instanceProject:m.instanceProject};a.toUpdateMeasurementGoal(e),console.log("Going to Update Measurement Goal"),r.path("/measurementgoal"),console.log(r.path("/measurementgoal"))}var m=this;m.getMeasurementGoals=i,m.getMetrics=s,m.goToUpdateMeasurementGoal=l,m.getMeasurementGoalExternals=c,m.measurementGoals=[],m.metrics=[],m.contextFactors=[],m.assumptions=[],m.organizationalGoal={},m.instanceProject={},m.measurementGoalDialog={},m.modal="",m.setMeasurementGoalDialog=u,m.getMeasurementGoals(),t()}function t(){}angular.module("metricapp").controller("MetricatorController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window"]}(),function(){"use strict";function e(e,t,r,n){function a(e){i.loading=!0,i.success=!1,n.getById(e).then(function(e){i.currMGoal=angular.copy(e.mgoal),i.updtMGoal=angular.copy(i.currMGoal),i.success=!0},function(e){i.errmsg=e.errmsg,i.success=!1})["finally"](function(){i.loading=!1})}function o(){return i.loading=!0,i.success=!1,i.errmsg=null,r.goalid?(i.currMGoal={id:r.goalid},void a(i.currMGoal.id)):void t.path("/mgoals")}var i=this;o()}angular.module("metricapp").controller("MGoalController",e),e.$inject=["$scope","$location","$routeParams","MGoalService"]}(),function(){"use strict";function e(e,t,r,n){function a(){if(c.idx<c.buffer.length){var e=Math.min(c.idx+c.step,c.buffer.length);c.mgoals=c.mgoals.concat(c.buffer.slice(c.idx,e)),c.idx=e}}function o(e){c.buffer=r("orderBy")(r("filter")(c.data,e),c.orderBy)}function i(){c.loading=!0,c.success=!1,n.getAll().then(function(e){c.data=angular.copy(e.mgoals),c.buffer=r("orderBy")(c.data,c.orderBy),c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function s(){c.loading=!0,c.success=!1,c.errmsg=null,c.data=[],c.buffer=[],c.mgoals=[],c.idx=0,c.step=4,c.query="",c.orderBy="name",i(),e.$watch("vm.buffer",function(){c.idx=0;var e=Math.min(c.idx+c.step,c.buffer.length);c.mgoals=c.buffer.slice(c.idx,e),c.idx=e})}var c=this;c.loadMore=a,c.search=o,s()}angular.module("metricapp").controller("MGoalsController",e),e.$inject=["$scope","$location","$filter","MGoalService"]}(),function(){"use strict";function e(e,t,r,n,a,o,i,s,c){function u(e){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===e&&(n.read||(n.read=!0,v.toread--))}a.setReadById(e),t.$broadcast(s.SET_READ,e)}function l(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0,v.news=0,a.setAllRead(),t.$broadcast(s.ALL_READ)}function m(){v.news=0}function d(){if(v.idx<v.buffer.length){var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.notifications.concat(v.buffer.slice(v.idx,e)),v.idx=e}}function g(e){v.buffer=n("orderBy")(n("filter")(v.data,e),v.orderBy)}function f(){v.loading=!0,v.success=!1,a.getAll().then(function(e){var t=e.notifications;v.toread=e.toread,v.news=e.news,t.forEach(function(e){v.data.push(e)}),v.buffer=n("orderBy")(v.data,v.orderBy),v.success=!0},function(e){v.errmsg=e.errmsg,v.success=!1})["finally"](function(){v.loading=!1})}function p(){v.loading=!0,v.success=!1,v.errmsg=null,v.data=[],v.buffer=[],v.notifications=[],v.idx=0,v.step=2,v.query="",v.orderBy="-ts_create",f(),e.$watch("vm.buffer",function(){v.idx=0;var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.buffer.slice(v.idx,e),v.idx=e}),e.$on(s.ALL_READ,function(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0}),e.$on(s.SET_READ,function(e,t){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===t&&(n.read||(n.read=!0,v.toread--))}})}var v=this;v.loadMore=d,v.search=g,v.setRead=u,v.setAllRead=l,v.removeNews=m,p()}angular.module("metricapp").controller("NotificationsController",e),e.$inject=["$scope","$rootScope","$location","$filter","NotificationService","UserService","AuthService","NOTIFICATION_EVENTS","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,a,o,i,s,c){function u(e){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===e&&(n.read||(n.read=!0,v.toread--))}a.setReadById(e),t.$broadcast(c.SET_READ,e)}function l(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0,v.news=0,a.setAllRead(),t.$broadcast(c.ALL_READ)}function m(){v.news=0}function d(){if(v.idx<v.buffer.length){var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.notifications.concat(v.buffer.slice(v.idx,e)),v.idx=e}}function g(e){v.buffer=n("orderBy")(n("filter")(v.data,e),v.orderBy)}function f(){v.loading=!0,v.success=!1,a.getAll().then(function(e){var t=e.notifications;v.toread=e.toread,v.news=e.news;var r=[];return t.forEach(function(e){r.push(e.author)}),o.getInArray(r).then(function(e){var r=e.users;t.forEach(function(e){var t=e.author;e.author=angular.copy(r[t]),e.author&&v.data.push(e)}),v.buffer=n("orderBy")(v.data,v.orderBy),v.success=!0},function(e){v.errmsg=e.errmsg,v.success=!1})},function(e){v.errmsg=e.errmsg,v.success=!1})["finally"](function(){v.loading=!1})}function p(){v.loading=!0,v.success=!1,v.errmsg=null,v.data=[],v.buffer=[],v.notifications=[],v.idx=0,v.step=3,v.query="",v.orderBy="-ts_create",i.isLogged()&&f(),e.$on(s.LOGIN_SUCCESS,function(){f()}),e.$watch("vm.buffer",function(){v.idx=0;var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.buffer.slice(v.idx,e),v.idx=e}),e.$on(c.ALL_READ,function(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0,v.news=0}),e.$on(c.SET_READ,function(e,t){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===t&&(n.read||(n.read=!0,v.toread--))}})}var v=this;v.loadMore=d,v.search=g,v.setRead=u,v.setAllRead=l,v.removeNews=m,p()}angular.module("metricapp").controller("NotificationsWidgetController",e),e.$inject=["$scope","$rootScope","$location","$filter","NotificationService","UserService","AuthService","AUTH_EVENTS","NOTIFICATION_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){function a(){if(c.idx<c.buffer.length){var e=Math.min(c.idx+c.step,c.buffer.length);c.users=c.users.concat(c.buffer.slice(c.idx,e)),c.idx=e}}function o(e){c.buffer=r("orderBy")(r("filter")(c.data,e),c.orderBy)}function i(){c.loading=!0,c.success=!1,n.getAll().then(function(e){c.data=angular.copy(e.users),c.buffer=r("orderBy")(c.data,c.orderBy),c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function s(){c.loading=!0,c.success=!1,c.errmsg=null,c.data=[],c.buffer=[],c.users=[],c.idx=0,c.step=4,c.query="",c.orderBy="firstname",i(),e.$watch("vm.buffer",function(){c.idx=0;var e=Math.min(c.idx+c.step,c.buffer.length);c.users=c.buffer.slice(c.idx,e),c.idx=e})}var c=this;c.loadMore=a,c.search=o,s()}angular.module("metricapp").controller("OrganizationController",e),e.$inject=["$scope","$location","$filter","UserService"]}(),function(){"use strict";function e(e,t,r,n){function a(e){i.loading=!0,i.success=!1,n.getById(e).then(function(e){i.currQuestion=angular.copy(e.question),i.updtQuestion=angular.copy(i.currQuestion),i.success=!0},function(e){i.errmsg=e.errmsg,i.success=!1})["finally"](function(){i.loading=!1})}function o(){i.loading=!0,i.success=!1,i.errmsg=null,r.questionid||t.path("/questions"),i.currQuestion={id:r.questionid},a(i.currQuestion.id)}var i=this;o()}angular.module("metricapp").controller("QuestionController",e),e.$inject=["$scope","$location","$routeParams","QuestionService"]}(),function(){"use strict";function e(e,t,r,n){function a(){if(s.idx<s.buffer.length){var e=Math.min(s.idx+s.step,s.buffer.length);s.questions=s.questions.concat(s.buffer.slice(s.idx,e)),s.idx=e}}function o(e){s.buffer=r("orderBy")(r("filter")(s.data,e),s.orderBy)}function i(){s.loading=!0,s.success=!1,s.errmsg=null,s.data=[],s.buffer=[],s.questions=[],s.idx=0,s.step=4,s.query="",s.orderBy="name",_loadAllQuestions(),e.$watch("vm.buffer",function(){s.idx=0;var e=Math.min(s.idx+s.step,s.buffer.length);s.questions=s.buffer.slice(s.idx,e),s.idx=e})}var s=this;s.loadMore=a,s.search=o,i()}angular.module("metricapp").controller("QuestionsController",e),e.$inject=["$scope","$location","$filter","QuestionService"]}(),function(){"use strict";function e(e,t,r,n,a){function o(e){s.loading=!0,s.success=!1,r.getById(e).then(function(t){return s.currTeam=angular.copy(t.team),n.getAll(e).then(function(e){s.currTeam.analytics=angular.copy(e.analytics),s.success=!0},function(e){s.errmsg=e.errmsg,s.success=!1})},function(e){s.errmsg=e.errmsg,s.success=!1})["finally"](function(){s.loading=!1})}function i(){s.loading=!0,s.success=!1,s.errmsg=null,s.currTeam={id:t.teamid},o(s.currTeam.id)}var s=this;s.TEAM_ANALYTICS=a,i()}angular.module("metricapp").controller("TeamAnalyticsController",e),e.$inject=["$location","$routeParams","TeamService","TeamAnalyticsService","TEAM_ANALYTICS"]}(),function(){"use strict";function e(e,t,r,n,a,o,i,s,c){function u(e){g.loading=!0,g.success=!1,o.update(e).then(function(e){g.currTeam=angular.copy(e.team);var n=e.team.teamid;g.success=!0,r.path("/teams/"+n),t.$broadcast(c.UPDATE_SUCCESS)},function(e){g.errmsg=e.errmsg,g.success=!1,t.$broadcast(c.UPDATE_FAILURE)})["finally"](function(){g.loading=!1})}function l(e,t){t===s.QUESTIONER?delete g.updtTeam.questioners[e]:t===s.METRICATOR&&delete g.updtTeam.metricator[e]}function m(e){g.loading=!0,g.success=!1,o.getById(e).then(function(e){g.currTeam=angular.copy(e.team);var t={expert:i.getById(g.currTeam.expert),questioners:i.getInArray(g.currTeam.questioners),metricators:i.getInArray(g.currTeam.metricators)};return a.all(t).then(function(e){g.currTeam.expert=angular.copy(e.expert.user),g.currTeam.questioners=angular.copy(e.questioners.users),g.currTeam.metricators=angular.copy(e.metricators.users),g.updtTeam=angular.copy(g.currTeam),g.num_questioners=Object.keys(g.currTeam.questioners).length,g.num_metricators=Object.keys(g.currTeam.metricators).length,g.success=!0},function(e){g.errmsg=e.errmsg,g.success=!1})},function(e){g.errmsg=e.errmsg,g.success=!1})["finally"](function(){g.loading=!1})}function d(){g.loading=!0,g.success=!1,g.errmsg=null,g.orderBy="firstname",g.currTeam={id:n.teamid},m(g.currTeam.id)}var g=this;g.updateTeam=u,g.removeMember=l,d()}angular.module("metricapp").controller("TeamController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","$q","TeamService","UserService","ROLES","TEAM_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){if(u.idx<u.buffer.length){var e=Math.min(u.idx+u.step,u.buffer.length);u.teams=u.teams.concat(u.buffer.slice(u.idx,e)),u.idx=e}}function i(e){u.buffer=r("orderBy")(r("filter")(u.data,e),u.orderBy)}function s(){u.loading=!0,u.success=!1,n.getAll().then(function(e){u.data=angular.copy(e.teams),u.buffer=r("orderBy")(u.data,u.orderBy),u.success=!0},function(e){u.errmsg=e.errmsg,u.success=!1})["finally"](function(){u.loading=!1})}function c(){u.loading=!0,u.success=!1,u.errmsg=null,u.data=[],u.buffer=[],u.teams=[],u.idx=0,u.step=1,u.query="",u.orderBy="name",s(),e.$watch("vm.buffer",function(){u.idx=0;var e=Math.min(u.idx+u.step,u.buffer.length);u.teams=u.buffer.slice(u.idx,e),u.idx=e})}var u=this;c(),u.loadMore=o,u.search=i,c()}angular.module("metricapp").controller("TeamsController",e),e.$inject=["$scope","$location","$filter","TeamService","UserService"]}(),function(){"use strict";function e(e,t,r,n,a){function o(e){c.loading=!0,c.success=!1,r.getById(e).then(function(t){return c.currUser=angular.copy(t.user),n.getAll(e).then(function(e){c.currUser.analytics=angular.copy(e.analytics),s(),c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function i(){c.loading=!0,c.success=!1,c.errmsg=null,c.currUser={username:t.username},o(c.currUser.username)}function s(){c.chart_data=c.currUser.analytics[c.USER_ANALYTICS.TASKS_RECORD]}var c=this;c.USER_ANALYTICS=a,i(),c.chart_data=""}angular.module("metricapp").controller("UserAnalyticsController",e),e.$inject=["$location","$routeParams","UserService","UserAnalyticsService","USER_ANALYTICS"]}(),function(){"use strict";function e(e,t,r,n,a,o,i,s,c){function u(e){g.loading=!0,g.success=!1,a.update(e).then(function(e){g.currUser=angular.copy(e.user);var n=e.user.username;g.success=!0,r.path("/profile/"+n),t.$broadcast(s.UPDATE_SUCCESS,g.currUser)},function(e){g.errmsg=e.errmsg,g.success=!1,t.$broadcast(s.UPDATE_FAILURE)})["finally"](function(){g.loading=!1})}function l(e,n){g.loading=!0,g.success=!1,o.editPassword(e,n).then(function(e){return t.$broadcast(c.PASSWORD_UPDATE_SUCCESS),o.logout().then(function(e){g.success=!0,t.$broadcast(c.LOGOUT_SUCCESS),r.path("/")},function(e){g.errmsg=e.errmsg,g.success=!1,t.$broadcast(c.LOGOUT_FAILURE),r.path("/")})},function(e){g.errmsg=e.errmsg,alert(g.errmsg),t.$broadcast(c.PASSWORD_UPDATE_FAILURE),g.success=!1})["finally"](function(){g.loading=!1})}function m(e){g.loading=!0,g.success=!1,a.getById(e).then(function(e){g.currUser=angular.copy(e.user),g.updtUser=angular.copy(g.currUser),g.success=!0},function(e){g.errmsg=e.errmsg,alert(g.errmsg),g.success=!1})["finally"](function(){g.loading=!1})}function d(){if(g.loading=!0,g.success=!1,g.errmsg=null,!n.username){var t=o.getUser();return void(t?r.path("/profile/"+t.username):r.path("/"))}g.currUser={username:n.username},m(g.currUser.username),e.$on(s.UPDATE_SUCCESS,function(e,t){alert("ProfileController:USER_EVENTS.UPDATE_SUCCESS"),g.currUser=angular.copy(t)}),e.$on(s.UPDATE_FAILURE,function(e){alert("ProfileController:USER_EVENTS.UPDATE_FAILURE"),m(g.currUser.username)})}var g=this;g.GENDERS=i,g.show=1,g.updateProfile=u,g.updatePassword=l,g.projects=[{name:"ISSR Project1",description:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur",status:"active",progress:30},{name:"ISSR Project2",description:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur",status:"active",progress:65}],d()}angular.module("metricapp").controller("ProfileController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","UserService","AuthService","GENDERS","USER_EVENTS","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){e.globals&&e.globals.user?s.actions=n.getActionsForRole(e.globals.user.role):s.actions=[]}function i(){o(),t.$on(a.LOGIN_SUCCESS,o),t.$on(a.LOGOUT_SUCCESS,o)}var s=this;i()}angular.module("metricapp").controller("SidebarController",e),e.$inject=["$rootScope","$scope","$location","ActionService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){}angular.module("metricapp").controller("TopbarController",e),e.$inject=["$scope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){var a=["/login","/signup","/401","/404","/500"],o="/login";e.globals=t.getObject("globals")||{},e.globals.user&&(r.defaults.headers.common.Authorization="Basic "+e.globals.user.authdata),e.$on("$locationChangeStart",function(t,r,i){var s=$.inArray(n.path(),a)===-1,c=e.globals.user;s&&!c&&n.path(o)})}angular.module("metricapp").run(e),e.$inject=["$rootScope","$cookies","$http","$location"]}();