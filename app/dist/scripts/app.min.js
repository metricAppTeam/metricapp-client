!function(){"use strict";angular.module("metricapp",["ngRoute","ngCookies","ngMessages","ngFlash","smart-table","ui.ace","as.sortable","nvd3","angular.morris-chart","angular-svg-round-progress","angular-bubbletree","angularChart","ngCytoscape","ui.bootstrap"])}(),function(){"use strict";angular.module("metricapp").constant("EXPERT_ACTIONS",[{name:"Grids",href:"#/grids",icon:"codepen"},{name:"Teams",href:"#/teams",icon:"users"},{name:"Metrics",href:"#/metrics",icon:"fa fa-tasks"}])}(),function(){"use strict";angular.module("metricapp").constant("METRICATOR_ACTIONS",[{name:"MeasurementGoals",href:"#/metricator",icon:"fa fa-tasks"},{name:"Metrics",href:"#/metrics",icon:"fa fa-tasks"},{name:"Search MG",href:"#/measurementgoalsearch",icon:"fa fa-tasks"}])}(),function(){"use strict";angular.module("metricapp").constant("QUESTIONER_ACTIONS",[{name:"Profile",href:"#/profile",icon:"user"},{name:"Measurement Goals",href:"#/questionerMeasurementGoalList",icon:"list"},{name:"Search Questions",href:"#/questionSearch",icon:"list"},{name:"Create New Question",href:"#/questionCreation",icon:"plus"},{name:"Question list",href:"#/questionList",icon:"list"}])}(),function(){"use strict";angular.module("metricapp").constant("USER_ACTIONS",[{name:"Home",href:"#/home",icon:"desktop"},{name:"Profile",href:"#/profile",icon:"user"},{name:"Organization",href:"#/organization",icon:"sitemap"},{name:"Messages",href:"#/messages",icon:"comments"}])}(),function(){"use strict";angular.module("metricapp").constant("STATES",{CREATED:"Created",ONUPDATE:"OnUpdate",PENDING:"Pending",APPROVED:"Approved",ONUPDATEWAITING:"OnUpdateWaitingQuestions",ONUPDATEENDPOINT:"OnUpdateQuestionerEndpoint",REJECTED:"Rejected",SUSPENDED:"Suspended"})}(),function(){"use strict";angular.module("metricapp").constant("TEAM_ANALYTICS",{GQM_SCORE:"team.analytics.gqm.score",GRIDS_TOT:"team.analytics.grids.tot",ARTIFACTS_TOT:"team.analytics.artifacts.tot",ACCEPTANCE_RATIO:"team.analytics.acceptance.ratio",ARTIFACTS_MGOAL:"team.analytics.artifacts.mgoal",ARTIFACTS_RATE:"team.analytics.artifacts.rate",WORKTIME_RATIO:"team.analytics.worktime.ratio",TASKS_PROGRESS:"team.analytics.tasks.progress",TASKS_RECORD:"team.analytics.tasks.record"})}(),function(){"use strict";angular.module("metricapp").constant("USER_ANALYTICS",{GQM_SCORE:"user.analytics.gqm.score",GRIDS_TOT:"user.analytics.grids.tot",ARTIFACTS_TOT:"user.analytics.artifacts.tot",ACCEPTANCE_RATIO:"user.analytics.acceptance.ratio",ARTIFACTS_MGOAL:"user.analytics.artifacts.mgoal",ARTIFACTS_RATE:"user.analytics.artifacts.rate",WORKTIME_RATIO:"user.analytics.worktime.ratio",TASKS_PROGRESS:"user.analytics.tasks.progress",TASKS_RECORD:"user.analytics.tasks.record"})}(),function(){"use strict";angular.module("metricapp").constant("GENDERS",{MALE:"MALE",FEMALE:"FEMALE"})}(),function(){"use strict";angular.module("metricapp").constant("ROLES",{EXPERT:"EXPERT",QUESTIONER:"QUESTIONER",METRICATOR:"METRICATOR"})}(),function(){"use strict";angular.module("metricapp").constant("AUTH_EVENTS",{LOGIN_SUCCESS:"auth.login.success",LOGIN_FAILURE:"auth.login.failure",LOGOUT_SUCCESS:"auth.logout.success",LOGOUT_FAILURE:"auth.logout.failure",PASSWORD_UPDATE_SUCCESS:"auth.password.update.success",PASSWORD_UPDATE_FAILURE:"auth.password.update.failure",NOT_AUTHORIZED:"auth.not.authorized"})}(),function(){"use strict";angular.module("metricapp").constant("GRID_EVENTS",{CREATE_SUCCESS:"grid.create.success",CREATE_FAILURE:"grid.create.failure",READ_SUCCESS:"grid.read.success",READ_FAILURE:"grid.read.failure",UPDATE_SUCCESS:"grid.update.success",UPDATE_FAILURE:"grid.update.failure",DELETE_SUCCESS:"grid.delete.success",DELETE_FAILURE:"grid.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("METRIC_EVENTS",{CREATE_SUCCESS:"metric.create.success",CREATE_FAILURE:"metric.create.failure",READ_SUCCESS:"metric.read.success",READ_FAILURE:"metric.read.failure",UPDATE_SUCCESS:"metric.update.success",UPDATE_FAILURE:"metric.update.failure",DELETE_SUCCESS:"metric.delete.success",DELETE_FAILURE:"metric.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("MGOAL_EVENTS",{CREATE_SUCCESS:"mgoal.create.success",CREATE_FAILURE:"mgoal.create.failure",READ_SUCCESS:"mgoal.read.success",READ_FAILURE:"mgoal.read.failure",UPDATE_SUCCESS:"mgoal.update.success",UPDATE_FAILURE:"mgoal.update.failure",DELETE_SUCCESS:"mgoal.delete.success",DELETE_FAILURE:"mgoal.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("NOTIFICATION_EVENTS",{ALL_READ:"notification.all.read",SET_READ:"notification.set.read"})}(),function(){"use strict";angular.module("metricapp").constant("OGOAL_EVENTS",{CREATE_SUCCESS:"ogoal.create.success",CREATE_FAILURE:"ogoal.create.failure",READ_SUCCESS:"ogoal.read.success",READ_FAILURE:"ogoal.read.failure",UPDATE_SUCCESS:"ogoal.update.success",UPDATE_FAILURE:"ogoal.update.failure",DELETE_SUCCESS:"ogoal.delete.success",DELETE_FAILURE:"ogoal.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("QUESTION_EVENTS",{CREATE_SUCCESS:"question.create.success",CREATE_FAILURE:"question.create.failure",READ_SUCCESS:"question.read.success",READ_FAILURE:"question.read.failure",UPDATE_SUCCESS:"question.update.success",UPDATE_FAILURE:"question.update.failure",DELETE_SUCCESS:"question.delete.success",DELETE_FAILURE:"question.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("TEAM_EVENTS",{CREATE_SUCCESS:"team.create.success",CREATE_FAILURE:"team.create.failure",READ_SUCCESS:"team.read.success",READ_FAILURE:"team.read.failure",UPDATE_SUCCESS:"team.update.success",UPDATE_FAILURE:"team.update.failure",DELETE_SUCCESS:"team.delete.success",DELETE_FAILURE:"team.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("USER_EVENTS",{CREATE_SUCCESS:"user.create.success",CREATE_FAILURE:"user.create.failure",READ_SUCCESS:"user.read.success",READ_FAILURE:"user.read.failure",UPDATE_SUCCESS:"user.update.success",UPDATE_FAILURE:"user.update.failure",DELETE_SUCCESS:"user.delete.success",DELETE_FAILURE:"user.delete.failure"})}(),function(){"use strict";angular.module("metricapp").constant("REST_SERVICE",{DOMAIN:"metricapp.com",PORT:8090,URL:"metricapp.com:8090"})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_CONVERSATIONS",{"expert-gm":{"metricator-ag":{sender:"expert-gm",recipient:"metricator-ag",ts_update:new Date(2016,1,1,13,45,0,0),toread:2,messages:[{ts_create:new Date(2016,1,1,13,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,13,5,0,0),author:"metricator",content:"1."+e},{ts_create:new Date(2016,1,1,13,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,13,15,0,0),author:"metricator",content:"3."+e},{ts_create:new Date(2016,1,1,13,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,13,25,0,0),author:"metricator",content:"5."+e},{ts_create:new Date(2016,1,1,13,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,13,35,0,0),author:"metricator",content:"7."+e},{ts_create:new Date(2016,1,1,13,40,0,0),author:"metricator",content:"8."+e},{ts_create:new Date(2016,1,1,13,45,0,0),author:"metricator",content:"9."+e}]},"questioner-mp":{sender:"expert-gm",recipient:"questioner-mp",ts_update:new Date(2016,1,1,14,45,0,0),toread:3,messages:[{ts_create:new Date(2016,1,1,14,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,14,5,0,0),author:"questioner",content:"1."+e},{ts_create:new Date(2016,1,1,14,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,14,15,0,0),author:"questioner",content:"3."+e},{ts_create:new Date(2016,1,1,14,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,14,25,0,0),author:"questioner",content:"5."+e},{ts_create:new Date(2016,1,1,14,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,14,35,0,0),author:"questioner",content:"7."+e},{ts_create:new Date(2016,1,1,14,40,0,0),author:"questioner",content:"8."+e},{ts_create:new Date(2016,1,1,14,45,0,0),author:"questioner",content:"9."+e}]}},"metricator-ag":{"expert-gm":{sender:"metricator-ag",recipient:"expert-gm",ts_update:new Date(2016,1,1,13,45,0,0),toread:0,messages:[{ts_create:new Date(2016,1,1,13,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,13,5,0,0),author:"metricator",content:"1."+e},{ts_create:new Date(2016,1,1,13,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,13,15,0,0),author:"metricator",content:"3."+e},{ts_create:new Date(2016,1,1,13,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,13,25,0,0),author:"metricator",content:"5."+e},{ts_create:new Date(2016,1,1,13,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,13,35,0,0),author:"metricator",content:"7."+e},{ts_create:new Date(2016,1,1,13,40,0,0),author:"metricator",content:"8."+e},{ts_create:new Date(2016,1,1,13,45,0,0),author:"metricator",content:"9."+e}]}},"questioner-mp":{"expert-gm":{sender:"questioner-mp",recipient:"expert-gm",ts_update:new Date(2016,1,1,14,45,0,0),toread:0,messages:[{ts_create:new Date(2016,1,1,14,0,0,0),author:"expert",content:"0."+e},{ts_create:new Date(2016,1,1,14,5,0,0),author:"questioner",content:"1."+e},{ts_create:new Date(2016,1,1,14,10,0,0),author:"expert",content:"2."+e},{ts_create:new Date(2016,1,1,14,15,0,0),author:"questioner",content:"3."+e},{ts_create:new Date(2016,1,1,14,20,0,0),author:"expert",content:"4."+e},{ts_create:new Date(2016,1,1,14,25,0,0),author:"questioner",content:"5."+e},{ts_create:new Date(2016,1,1,14,30,0,0),author:"expert",content:"6."+e},{ts_create:new Date(2016,1,1,14,35,0,0),author:"questioner",content:"7."+e},{ts_create:new Date(2016,1,1,14,40,0,0),author:"questioner",content:"8."+e},{ts_create:new Date(2016,1,1,14,45,0,0),author:"questioner",content:"9."+e}]}}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_GRIDS",{1:{id:1,name:"Grid-1",description:e,expert:"expert-gm",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,15,10,10,45,500),ts_update:new Date(2016,1,21,10,40,45,500),mgoals:[101,102,103,104],questions:[201,202,203,204,205,206],metrics:[301,302,303,304],graph:{101:[201,202],102:[203,204],103:[205],104:[206],201:[301],202:[301],203:[302],204:[303],205:[304]}},2:{id:2,name:"Grid-2",description:e,expert:"expert-mp",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,16,10,10,45,500),ts_update:new Date(2016,1,22,10,40,45,500),mgoals:[105,106,107,108],questions:[207,208,209,210,211,212],metrics:[305,306,307,308],graph:{105:[207,208],106:[209,210],107:[211],108:[212],207:[305],208:[305],209:[306],210:[307],211:[308]}}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_METRICS",{301:{id:301,name:"Metric-301",description:e,grid:1,expert:"expert-gm",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,20,10,10,45,500),ts_update:new Date(2016,1,21,10,10,45,500)},302:{id:302,name:"Metric-302",description:e,grid:1,expert:"expert-gm",metricator:"metricator-ag",status:"METRIC_RUNNING",ts_create:new Date(2016,1,20,10,20,45,500),ts_update:new Date(2016,1,21,10,20,45,500)},303:{id:303,name:"Metric-303",description:e,grid:1,expert:"expert-gm",metricator:"metricator-af",status:"METRIC_RUNNING",ts_create:new Date(2016,1,20,10,30,45,500),ts_update:new Date(2016,1,21,10,30,45,500)},304:{id:304,name:"Metric-304",description:e,grid:1,expert:"expert-gm",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,20,10,40,45,500),ts_update:new Date(2016,1,21,10,40,45,500)},305:{id:305,name:"Metric-305",description:e,grid:2,expert:"expert-mp",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,21,10,10,45,500),ts_update:new Date(2016,1,22,10,10,45,500)},306:{id:306,name:"Metric-306",description:e,grid:2,expert:"expert-mp",metricator:"metricator-ag",status:"METRIC_RUNNING",ts_create:new Date(2016,1,21,10,20,45,500),ts_update:new Date(2016,1,22,10,20,45,500)},307:{id:307,name:"Metric-307",description:e,grid:2,expert:"expert-mp",metricator:"metricator-af",status:"METRIC_RUNNING",ts_create:new Date(2016,1,21,10,30,45,500),ts_update:new Date(2016,1,22,10,30,45,500)},308:{id:308,name:"Metric-308",description:e,grid:2,expert:"expert-mp",metricator:"metricator-ag",status:"METRIC_APPROVED",ts_create:new Date(2016,1,21,10,40,45,500),ts_update:new Date(2016,1,22,10,40,45,500)}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_MGOALS",{101:{id:101,name:"MGoal-101",description:e,expert:"expert-gm",questioner:"questioner-mp",metricator:"metricator-ag",status:"MGOAL_APPROVED",progress:100,ts_create:new Date(2016,1,16,10,10,45,500),ts_update:new Date(2016,1,17,10,10,45,500)},102:{id:102,name:"MGoal-102",description:e,expert:"expert-gm",questioner:"questioner-mp",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:75,ts_create:new Date(2016,1,16,10,20,45,500),ts_update:new Date(2016,1,17,10,20,45,500)},103:{id:103,name:"MGoal-103",description:e,expert:"expert-gm",questioner:"questioner-dn",metricator:"metricator-ag",status:"MGOAL_RUNNING",progress:50,ts_create:new Date(2016,1,16,10,30,45,500),ts_update:new Date(2016,1,17,10,30,45,500)},104:{id:104,name:"MGoal-104",description:e,expert:"expert-gm",questioner:"questioner-dn",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:25,ts_create:new Date(2016,1,16,10,40,45,500),ts_update:new Date(2016,1,17,10,40,45,500)},105:{id:105,name:"MGoal-105",description:e,expert:"expert-mp",questioner:"questioner-mp",metricator:"metricator-ag",status:"MGOAL_APPROVED",progress:100,ts_create:new Date(2016,1,16,10,50,45,500),ts_update:new Date(2016,1,17,10,50,45,500)},106:{id:106,name:"MGoal-106",description:e,expert:"expert-mp",questioner:"questioner-mp",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:75,ts_create:new Date(2016,1,16,11,0,45,500),ts_update:new Date(2016,1,17,11,0,45,500)},107:{id:107,name:"MGoal-107",description:e,expert:"expert-mp",questioner:"questioner-dn",metricator:"metricator-ag",status:"MGOAL_RUNNING",progress:50,ts_create:new Date(2016,1,16,11,10,45,500),ts_update:new Date(2016,1,17,11,10,45,500)},108:{id:108,name:"MGoal-108",description:e,expert:"expert-mp",questioner:"questioner-dn",metricator:"metricator-af",status:"MGOAL_RUNNING",progress:25,ts_create:new Date(2016,1,16,11,20,45,500),ts_update:new Date(2016,1,17,11,20,45,500)}})}(),function(){"use strict";angular.module("metricapp").value("DB_NOTIFICATIONS",{"expert-gm":{news:4,notifications:[{id:1,scope:"grids",artifact_id:1,name:"Created new organizational goal",author:"expert-gc",ts_create:new Date(2016,1,15,13,30,45,500),read:!1},{id:2,scope:"mgoals",artifact_id:101,name:"Created new measurement goal",author:"expert-gc",ts_create:new Date(2016,1,15,14,30,45,500),read:!1},{id:3,scope:"questions",artifact_id:201,name:"Created new question",author:"questioner-mp",ts_create:new Date(2016,1,15,15,30,45,500),read:!1},{id:4,scope:"metrics",artifact_id:301,name:"Created new metric",author:"metricator-ag",ts_create:new Date(2016,1,15,16,30,45,500),read:!1}]},"expert-mp":{news:0,notifications:[]},"expert-gc":{news:0,notifications:[]},"expert-mm":{news:0,notifications:[]},"metricator-ag":{news:0,notifications:[]},"metricator-af":{news:0,notifications:[]},"questioner-mp":{news:0,notifications:[]},"questioner-dn":{news:0,notifications:[]}})}(),function(){"use strict";var e="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";angular.module("metricapp").value("DB_QUESTIONS",{201:{id:201,name:"Question-201",description:e,expert:"expert-gm",grid:1,questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,10,45,500),ts_update:new Date(2016,1,19,10,10,45,500)},202:{id:202,name:"Question-202",description:e,expert:"expert-gm",questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,20,45,500),ts_update:new Date(2016,1,19,10,20,45,500)},203:{id:203,name:"Question-203",description:e,expert:"expert-gm",questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,30,45,500),ts_update:new Date(2016,1,19,10,30,45,500)},204:{id:204,name:"Question-204",description:e,expert:"expert-gm",questioner:"questioner-mp",ts_create:new Date(2016,1,18,10,40,45,500),ts_update:new Date(2016,1,19,10,40,45,500)},205:{id:205,name:"Question-205",description:e,expert:"expert-gm",questioner:"questioner-dn",ts_create:new Date(2016,1,18,10,50,45,500),ts_update:new Date(2016,1,19,10,50,45,500)},206:{id:206,name:"Question-206",description:e,expert:"expert-gm",questioner:"questioner-dn",ts_create:new Date(2016,1,18,11,0,45,500),ts_update:new Date(2016,1,19,11,0,45,500)},207:{id:207,name:"Question-207",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,10,45,500),ts_update:new Date(2016,1,20,10,10,45,500)},208:{id:208,name:"Question-208",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,20,45,500),ts_update:new Date(2016,1,20,10,20,45,500)},209:{id:209,name:"Question-209",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,30,45,500),ts_update:new Date(2016,1,20,10,30,45,500)},210:{id:210,name:"Question-210",description:e,grid:2,expert:"expert-mp",questioner:"questioner-mp",ts_create:new Date(2016,1,19,10,40,45,500),ts_update:new Date(2016,1,20,10,40,45,500)},211:{id:211,name:"Question-211",description:e,grid:2,expert:"expert-mp",questioner:"questioner-dn",ts_create:new Date(2016,1,19,10,50,45,500),ts_update:new Date(2016,1,20,10,50,45,500)},212:{id:212,name:"Question-212",description:e,grid:2,expert:"expert-mp",questioner:"questioner-dn",ts_create:new Date(2016,1,19,11,0,45,500),ts_update:new Date(2016,1,20,11,0,45,500)}})}(),function(){"use strict";angular.module("metricapp").value("DB_TEAMS",{1:{id:1,name:"Team-Grid-1",expert:"expert-gm",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,15,10,10,45,500),ts_update:new Date(2016,1,15,10,10,45,500)},2:{id:2,name:"Team-Grid-2",expert:"expert-mp",questioners:["questioner-mp","questioner-dn"],metricators:["metricator-ag","metricator-af"],ts_create:new Date(2016,1,16,10,10,45,500),ts_update:new Date(2016,1,16,10,10,45,500)}})}(),function(){"use strict";angular.module("metricapp").value("DB_USERS",{"expert-gm":{username:"expert-gm",password:"password",role:"EXPERT",firstname:"Giacomo",lastname:"Marciani",gender:"MALE",birthday:new Date(1990,6,27),email:"giacomo.marciani@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-gm.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tro Vergata.",online:!1},"expert-mp":{username:"expert-mp",password:"password",role:"EXPERT",firstname:"Michele",lastname:"Porretta",gender:"MALE",birthday:new Date(1990,6,27),email:"michele.porretta@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-mp.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"expert-gc":{username:"expert-gc",password:"password",role:"EXPERT",firstname:"Giovanni",lastname:"Cantone",gender:"MALE",birthday:new Date(1990,6,27),email:"giovanni.cantone@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-gc.svg",bio:"Full Professor in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"expert-mm":{username:"expert-mm",password:"password",role:"EXPERT",firstname:"Manuel",lastname:"Mastrofini",gender:"MALE",birthday:new Date(1990,6,27),email:"manuel.mastrofini@domain.com",mobile:"+39 12345678",picture:"uploads/users/expert-mm.svg",bio:"Associate Professor in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},metricator:{username:"metricator",password:"password",role:"METRICATOR",firstname:"Andrea",lastname:"Gennusa",gender:"MALE",birthday:new Date(1990,6,27),email:"andrea.gennusa@domain.com",mobile:"+39 12345678",picture:"uploads/users/metricator-ag.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"metricator-af":{username:"metricator-af",password:"password",role:"METRICATOR",firstname:"Alessandro",lastname:"Fazio",gender:"MALE",birthday:new Date(1990,6,27),email:"alessandro.fazio@domain.com",mobile:"+39 12345678",picture:"uploads/users/metricator-af.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"questioner-mp":{username:"questioner-mp",password:"password",role:"QUESTIONER",firstname:"Marco",lastname:"Piu",gender:"MALE",birthday:new Date(1990,6,27),email:"marco.piu@domain.com",mobile:"+39 12345678",picture:"uploads/users/questioner-mp.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1},"questioner-dn":{username:"questioner-dn",password:"password",role:"QUESTIONER",firstname:"Davide",lastname:"Nanni",gender:"MALE",birthday:new Date(1990,6,27),email:"davide.nanni@domain.com",mobile:"+39 12345678",picture:"uploads/users/questioner-dn.svg",bio:"MSc Student in Computer Science Engineering at University of Rome Tor Vergata.",online:!1}})}(),function(){"use strict";angular.module("metricapp").value("DB_PROFILES",[{username:"expert",firstname:"Giacomo",lastname:"Marciani",gender:"MALE",birthday:"27/06/1990",email:"giacomo.marciani@domain.com",picture:"uploads/profile-picture.png"},{username:"questioner",firstname:"Marco",lastname:"Piu",gender:"MALE",birthday:"27/06/1990",email:"marco.piu@domain.com",picture:"uploads/profile-picture.png"},{username:"metricator",firstname:"Andrea",lastname:"Gennusa",gender:"MALE",birthday:"06/05/1993",email:"andrea.gennusa@gmail.com",picture:"uploads/profile-picture.png"}])}(),function(){"use strict";function e(e){e.setTimeout(5e3),e.setShowClose(!0),e.setOnDismiss(function(){alert("flash message dismissed")})}angular.module("metricapp").config(e),e.$inject=["FlashProvider"]}(),function(){"use strict";function e(e){e.interceptors.push("Error401Interceptor"),e.interceptors.push("Error404Interceptor"),e.interceptors.push("Error500Interceptor")}angular.module("metricapp").config(e),e.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,t){e.when("/",{redirectTo:"/home"}).when("/home",{templateUrl:"dist/views/home/home.view.html"}).when("/login",{templateUrl:"dist/views/authentication/login.view.html"}).when("/signup",{templateUrl:"dist/views/authentication/signup.view.html"}).when("/profile",{templateUrl:"dist/views/user/profile.view.html"}).when("/profile/:username",{templateUrl:"dist/views/user/profile.view.html"}).when("/profile/:username/analytics",{templateUrl:"dist/views/user/analytics.view.html"}).when("/organization",{templateUrl:"dist/views/organization/organization.view.html"}).when("/messages",{templateUrl:"dist/views/chat/messages.view.html"}).when("/messages/:username",{templateUrl:"dist/views/chat/messages.view.html"}).when("/notifications",{templateUrl:"dist/views/notification/notifications.view.html"}).when("/grids",{templateUrl:"dist/views/grid/grids.view.html"}).when("/grids/:gridid",{templateUrl:"dist/views/grid/grid.view.html"}).when("/grids/:gridid/analytics",{templateUrl:"dist/views/grid/analytics.view.html"}).when("/teams",{templateUrl:"dist/views/team/teams.view.html"}).when("/teams/:teamid",{templateUrl:"dist/views/team/team.view.html"}).when("/teams/:teamid/analytics",{templateUrl:"dist/views/team/analytics.view.html"}).when("/mgoals",{templateUrl:"dist/views/mgoal/mgoals.view.html"}).when("/mgoals/:goalid",{templateUrl:"dist/views/mgoal/mgoal.view.html"}).when("/questions",{templateUrl:"dist/views/question/questions.view.html"}).when("/questions/:questionid",{templateUrl:"dist/views/question/question.view.html"}).when("/questionCreation",{templateUrl:"dist/views/questioner/questionerCreate/questionCreation.view.html"}).when("/questionSearch",{templateUrl:"dist/views/questioner/questionerSearch/questionSearch.view.html"}).when("/questionUpdate",{templateUrl:"dist/views/questioner/questionerUpdate/questionUpdate.view.html"}).when("/questionList",{templateUrl:"dist/views/questioner/questionerList/questionList.view.html"}).when("/questions/:questionId",{templateUrl:"dist/views/questioner/questionDetails.view.html"}).when("/measurementGoalQuestionList",{templateUrl:"dist/views/questioner/measurementGoal/measurementGoalQuestionsList.view.html"}).when("/measurementGoalAddExistingQuestion",{templateUrl:"dist/views/questioner/measurementGoal/measurementGoalAddExistingQuestion.view.html"}).when("/questionerMeasurementGoalList",{templateUrl:"dist/views/questioner/measurementGoal/measurementGoalList.view.html"}).when("/metrics",{templateUrl:"dist/views/metric/metrics.view.html"}).when("/metrics/:metricid",{templateUrl:"dist/views/metric/metricpage.view.html"}).when("/measurementgoal",{templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}).when("/measurementgoal/:measurementgoalid",{templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}).when("/metricatordashboard",{templateUrl:"dist/views/home/metricatordashboard/metricatordashboard.view.html"}).when("/measurementgoalsearch",{templateUrl:"dist/views/measurementgoal/measurementgoalsearch.view.html"}).when("/metricator",{templateUrl:"dist/views/metricator/metricator.view.html"}).when("/measurementgoalchangestate",{templateUrl:"dist/views/measurementgoal/measurementgoal.sendforapproval.view.html"}).when("/401",{templateUrl:"dist/views/error/error401.view.html"}).when("/404",{templateUrl:"dist/views/error/error404.view.html"}).when("/500",{templateUrl:"dist/views/error/error500.view.html"}).otherwise({redirectTo:"/404"})}angular.module("metricapp").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(r){return 401===r.status?(console.log("Error401Interceptor.responseError"),t.path("/401"),e.reject(r)):e.reject(r)}}}angular.module("metricapp").factory("Error401Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(r){return 404===r.status?null!==r.measurementGoals||null!==r.metrics||null!==r.questions?r:(console.log("Error404Interceptor.responseError"),t.path("/404"),e.reject(r)):e.reject(r)}}}angular.module("metricapp").factory("Error404Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(r){return 500===r.status?(console.log("Error500Interceptor.responseError"),t.path("/500"),e.reject(r)):e.reject(r)}}}angular.module("metricapp").factory("Error500Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){function r(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.assumption.html",controller:"AssumptionModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}function n(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.external.assumption.html",controller:"ExternalAssumptionModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var o=this;o.openAssumptionModal=r,o.openExternalAssumptionModal=n}angular.module("metricapp").service("AssumptionModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t){function r(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.contextfactor.html",controller:"ContextFactorModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}function n(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.external.contextfactor.html",controller:"ExternalContextFactorModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var o=this;o.openContextFactorModal=r,o.openExternalContextFactorModal=n}angular.module("metricapp").service("ContextFactorModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t){function r(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.wrapper.measurementgoal.html",controller:"MeasurementGoalModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var n=this;n.openMeasurementGoalModal=r}angular.module("metricapp").service("MeasurementGoalModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t){function r(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.metric.html",controller:"MetricModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}function n(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.external.metric.html",controller:"ExternalMetricModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var o=this;o.openMetricModal=r,o.openExternalMetricModal=n}angular.module("metricapp").service("MetricModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";var e=angular.module("metricapp");e.factory("QuestionsCrudFactory",["$http","$window","STATES",function(e,t,r){var n={};return n.STATES=r,n.create=function(t){return e.post("http://localhost:8080/question",t)},n.update=function(t){return e.put("http://localhost:8080/question?id="+t.metadata.id,t)},n["delete"]=function(t){return e["delete"]("http://localhost:8080/question?id="+t)},n.getAll=function(){var t={params:{id:"all"}};return e.get("http://localhost:8080/question",t)},n.getRecent=function(t){var r={params:{questionerId:t,recent:"true"}};return e.get("http://localhost:8080/question",r)},n.get=function(t,r){var n="http://localhost:8080/question?"+r[0]+"="+t[0],o=0;for(o=1;o<r.length;o++)n+=NaN+r[o]+"="+t[o];return e.get(n)},n.getInArray=function(e){var r,o=[];for(r=0;r<e.length;r++)n.get([e[r].metadata.id],["id"]).then(function(e){o.push(e.data.questionList[0])},function(n){t.alert("Error retrieving question "+e[r].metadata.id)});return o},n.getMetrics=function(t){return e.get("http://localhost:8080/metric?id="+t)},n.count=function(t,r){var n={params:{userid:r,state:t}};return e.get("http://localhost:8080/question/count",n)},n.countMeasurementGoalsByQuestionerIdAndState=function(t,r){var n="http://localhost:8080/measurementgoal/count?questionerId="+t+"&state="+r;return e.get(n)},n}])}(),function(){"use strict";var e=angular.module("metricapp");e.factory("QuestionStorageFactory",["$window",function(e){var t={},r={},n={},o={},a={};return t.setQuestioner=function(e){n=e},t.getQuestioner=function(){return n},t.setQuestion=function(e){r=e},t.getQuestion=function(){return r},t.getMeasurementGoal=function(){return a},t.setMeasurementGoal=function(e){a=e},t.setMetric=function(e){o=e},t.getMetric=function(e){return o},t}])}(),function(){"use strict";function e(e,t,r,n){function o(e){var t=a.ACTIONS.USER,r=a.ACTIONS[e],n=t.concat(r);return n}var a=this;a.ACTIONS={USER:e,EXPERT:t,METRICATOR:r,QUESTIONER:n},a.getActionsForRole=o}
angular.module("metricapp").service("ActionService",e),e.$inject=["USER_ACTIONS","EXPERT_ACTIONS","METRICATOR_ACTIONS","QUESTIONER_ACTIONS"]}(),function(){"use strict";function e(e,t,r,n,o){function a(e){u.assumptionDialog=e}function i(e){u.externalAssumptionDialog=e}function s(){return u.assumptionDialog}function c(){return u.externalAssumptionDialog}var u=this;u.assumptionDialog={},u.storeAssumption=a,u.storeExternalAssumption=i,u.getAssumptionDialog=s,u.getExternalAssumptionDialog=c}angular.module("metricapp").service("AssumptionService",e),e.$inject=["$http","$rootScope","$cookies","$window","AuthService"]}(),function(){"use strict";function e(e,t,r,n,o,a,i){function s(e){var t=e.username,r=e.password;return n(function(e,n){setTimeout(function(){var o=i[t];o?o.password===r?(o.online=!0,e({authuser:o})):n({errmsg:"Wrong password for: "+t}):n({errmsg:"Wrong username for: "+t})},500)})}function c(){var e=r.getObject("globals").user.username;return n(function(t,r){setTimeout(function(){var n=i[e];n?(n.online=!1,m(),t({username:e})):r({errmsg:"Wrong username for: "+e})},500)})}function u(){var e=r.getObject("globals");if(e){var t=e.user;if(t)return t}return null}function l(n){var o=n.username+":"+n.password+":"+n.role;t.globals={user:{}},t.globals.user=angular.copy(n),t.globals.user.authdata=o,r.putObject("globals",t.globals),e.defaults.headers.common.Authorization="Basic "+o}function m(){t.globals={},r.remove("globals"),e.defaults.headers.common.Authorization="Basic"}function d(){var e=r.getObject("globals");if(e){var t=e.user;if(t)return t.username}return null}function g(){var e=r.getObject("globals");if(e){var t=e.user;if(t)return!0}return!1}function f(e,t){var o=r.getObject("globals").user.username;return n(function(r,n){setTimeout(function(){var a=i[o];a?(a.password===e?(a.password=t,r({username:o,msg:"Successfully changed password for user "+o})):n({errmsg:"Wrong old password for user "+o}),a.online=!1,r({username:o})):n({errmsg:"User "+o+" not found"})},500)})}var p=this;p.ROLES=a,p.login=s,p.logout=c,p.getUser=u,p.setUser=l,p.clearUser=m,p.getUsername=d,p.isLogged=g,p.editPassword=f}angular.module("metricapp").service("AuthService",e),e.$inject=["$http","$rootScope","$cookies","$q","REST_SERVICE","ROLES","DB_USERS"]}(),function(){"use strict";function e(e,t,r,n,o){function a(e){u.contextFactorDialog=e}function i(e){u.externalContextFactorDialog=e}function s(){return u.contextFactorDialog}function c(){return u.externalContextFactorDialog}var u=this;u.contextFactorDialog={},u.storeContextFactor=a,u.getContextFactorDialog=s,u.getExternalContextFactorDialog=c,u.storeExternalContextFactor=i}angular.module("metricapp").service("ContextFactorService",e),e.$inject=["$http","$rootScope","$cookies","$window","AuthService"]}(),function(){"use strict";function e(e){function t(t){e.create("success",t,0,{"class":"custom-class",id:"custom-id"},!0)}function r(t){e.create("info",t,0,{"class":"custom-class",id:"custom-id"},!0)}function n(t){e.create("warning",t,0,{"class":"custom-class",id:"custom-id"},!0)}function o(t){e.create("danger",t,0,{"class":"custom-class",id:"custom-id"},!0)}var a=this;a.success=t,a.info=r,a.warning=n,a.danger=o}angular.module("metricapp").service("FlashService",e),e.$inject=["Flash"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){var e=Object.keys(o).reduce(function(e,t){return o[e]>o[t]?e:t});return e+1}function i(){return t(function(e,t){setTimeout(function(){var r=n.getUsername();if(r){var a=[];for(var i in o){var s=o[i];if(s.expert===r){var c=Math.floor(100*Math.random()+0);s.progress=c,a.push(s)}}e({grids:a})}else t({errmsg:"User not logged"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var a=n.getUsername();if(a){var i=o[e];if(i)if(i.expert===a){var s=Math.floor(100*Math.random()+0);i.progress=s,t({grid:i})}else r({errmsg:"Grid "+e+" not readable for user "+a});else r({errmsg:"Grid "+e+" not found"})}else r({errmsg:"User not logged"})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var r=a();e.id=r,e.ts_create=Date.now(),e.ts_update=Date.now(),o[r]=angular.copy(e),t({gridid:r,msg:"Thank you for creating grid "+r})},500)})}function u(e){return t(function(t,r){var n=userAttrs.gridid;setTimeout(function(){var a=o[n];if(a){for(var i in e)a[i]=angular.copy(e[i]);var s=Math.floor(100*Math.random()+0);a.progress=s,t({grid:a})}else r({errmsg:"Grid "+n+" not found"})},500)})}var l=this;l.getAll=i,l.getById=s,l.create=c,l.update=u}angular.module("metricapp").service("GridService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_GRIDS"]}(),function(){"use strict";function e(e,t,r,n,o){function a(e){return console.log("SUBMIT measurementGoal WITH name= "+e.name+" & object="+e.object+" & purpose="+e.purpose+" & viewPoint="+e.viewPoint+" & focus="+e.focus),console.log("PUT MEASUREMENT GOAL"),console.log(JSON.stringify(e)),!1}function i(t){return console.log("GET Measurement Goals with userid="+o.getUser().username+"&state="+t),e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal/count/?userid="+o.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function s(t){return console.log("GET Measurement Goals with userid="+o.getUser().username+"&state="+t),e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal?userid="+o.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function c(){return console.log("GET Measurement Goals with userid="+o.getUser().username),e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal?userid="+o.getUser().username).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function u(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/contextfactor/all").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET EXTERNAL CONTEXT FACTORS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET EXTERNAL CONTEXT FACTORS"),console.log(t),t})}function l(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/assumption/all").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET EXTERNAL ASSUMPTIONS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET EXTERNAL ASSUMPTIONS"),console.log(t),t})}function m(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/measurementgoal?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function d(t,r){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal?"+r+"="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function g(e,t){var r=void 0==t.metadata?t.id:t.metadata.id,n={objIdLocalToPhase:"",typeObj:e,instance:r,busVersion:"",tags:[]};switch(e){case"Metric":return f(E.measurementGoalToUpdate.metrics,t)?(E.measurementGoalToUpdate.metrics.push(t),E.measurementGoalToUpdate.measurementGoal.metrics.push(n),!0):!1;case"Question":return f(E.measurementGoalToUpdate.questions,t)?(E.measurementGoalToUpdate.questions.push(t),E.measurementGoalToUpdate.measurementGoal.questions.push(n),!0):!1;case"ContextFactor":return f(E.measurementGoalToUpdate.contextFactors,t)?(E.measurementGoalToUpdate.contextFactors.push(t),E.measurementGoalToUpdate.measurementGoal.contextFactors.push(n),!0):!1;case"Assumption":return f(E.measurementGoalToUpdate.assumptions,t)?(E.measurementGoalToUpdate.assumptions.push(t),E.measurementGoalToUpdate.measurementGoal.assumptions.push(n),!0):!1}}function f(e,t){if(void 0==t.metadata){for(var r=0,n=e.length;n>r;r++)if(void 0==e[r].metadata){if(e[r].id==t.id)return!1}else if(e[r].metadata.id==t.id)return!1}else for(var r=0,n=e.length;n>r;r++)if(void 0==e[r].metadata){if(e[r].id==t.metadata.id)return!1}else if(e[r].metadata.id==t.metadata.id)return!1;return!0}function p(e){E.measurementGoalToUpdate=e}function v(){return E.measurementGoalToUpdate}var E=this;E.measurementGoalToUpdate={},E.submitMeasurementGoal=a,E.getMeasurementGoalsByState=s,E.getMeasurementGoalsBy=d,E.getMyMeasurementGoals=c,E.toUpdateMeasurementGoal=p,E.getUpdateMeasurementGoal=v,E.getMeasurementGoalExternals=m,E.getExternalContextFactors=u,E.getExternalAssumptions=l,E.countMeasurementGoalsByState=i,E.addSomethingToMeasurementGoal=g}angular.module("metricapp").service("MeasurementGoalService",e),e.$inject=["$http","$rootScope","$cookies","$window","AuthService"]}(),function(){"use strict";function e(e,t,r,n,o,a,i){function s(){return t(function(e,t){var r=a.getUsername();r||t({errmsg:"User not logged"}),setTimeout(function(){var n=[],o=0,a=i[r];if(a){for(var s in a){var c=a[s];n.push(c),o+=c.toread}e({conversations:n,toread:o})}else t({errmsg:"Conversations not found for user "+r})},500)})}function c(e,r){return t(function(t,n){var o=a.getUsername();o||n({errmsg:"User not logged"}),setTimeout(function(){var a=i[o];if(a){var s=a[e];if(s)if(0>r)t({conversation:s});else{var c={sender:s.sender,recipient:s.recipient,ts_update:s.ts_update,toread:s.toread},u=s.messages,l=Math.max(u.length-r-1,0);c.messages=u.slice(l,u.length-1),t({conversation:c})}else n({errmsg:"Conversation not found for user "+o+" with recipient "+e})}else n({errmsg:"Conversations not found for user "+o})},500)})}function u(e,r){return t(function(t,o){var s=a.getUsername();s||o({errmsg:"User not logged"}),setTimeout(function(){var a=i[s];if(a){var c=[],u=0;for(var l in a){var m=a[l];c.push(m),u+=m.toread}var d=n("orderBy")(c,"-ts_update"),g=d.slice(e,r);t({conversations:g,toread:u})}else o({errmsg:"Conversations not found for user "+s})},500)})}function l(){return t(function(e,t){var r=a.getUsername();r||t({errmsg:"User not logged"}),setTimeout(function(){var n=i[r];if(n){var o,a=new Date(0);for(var s in n){var c=n[s];c.ts_update>a&&(o=c.recipient)}e({lastRecipient:o})}else t({errmsg:"Conversations not found for user "+r})},500)})}var m=this;m.getAll=s,m.getById=c,m.getNFrom=u,m.getLastRecipient=l}angular.module("metricapp").service("MessageService",e),e.$inject=["$http","$q","$cookies","$filter","REST_SERVICE","AuthService","DB_CONVERSATIONS"]}(),function(){"use strict";function e(e,t,r,n,o,a,i){function s(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET ALL METRICS"),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET ALL METRICS"),i.danger("Error in retrieving Metrics"),t})}function c(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?bus=true").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),i.danger("Error in retrieving Metrics"),t})}function u(t){return e.put("http://qips.sweng.uniroma2.it/metricapp-server/metric/",t).then(function(e){console.log("SUCCESS PUT metric");var t=e.data;return i.success("Metric updated: "+t.metricsDTO[0].name),t},function(e){var t=e.data;return console.log("FAILURE PUT metric"),i.danger("Error in updating Metric"),t})}function l(t){return e.put("http://qips.sweng.uniroma2.it/metricapp-server/metric?onlychangestate=true",t).then(function(e){console.log("SUCCESS PUT metric");var t=e.data;return i.success("Metric updated"),t},function(e){var t=e.data;return console.log("FAILURE PUT metric"),i.danger("Error in updating Metric"),t})}function m(){var t={description:null,hasMax:!1,hasMin:!1,hasUserDefinedList:!1,isOrdered:!1,max:0,metadata:{creationDate:null,creatorId:n.getUser().username,entityType:"Metric",id:null,lastVersionDate:null,releaseNote:null,state:"Created",tags:[],version:"0",versionBus:null},metricatorId:n.getUser().username,min:0,name:null,scaleType:"ordinalScale",set:"integers",unit:null,userDefinedList:[]};return e.post("http://qips.sweng.uniroma2.it/metricapp-server/metric/",t).then(function(e){console.log("SUCCESS POST metric");var t=e.data;return mmetric=t.metricsDTO[0],i.success("Metric created!"),t},function(e){var t=e.data;return console.log("FAILURE POST metric"),i.danger("Error in creating Metrics"),t})}function d(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+n.getUser().username).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),i.danger("Error in retrieving Metrics"),t})}function g(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRIC"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRIC"),console.log(t),i.danger("Error in retrieving Metrics"),t})}function f(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),i.danger("Error in retrieving Metrics"),t})}function p(t){return console.log("GET Metrics with userid="+n.getUser().username+"&state="+t),e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric/count?userid="+n.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function g(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRIC BY ID"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS BY ID"),console.log(t),i.danger("Error in retrieving Metrics"),t})}function v(t,r){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+r+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY State and User VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),i.danger("Error in retrieving Metrics"),t})}function E(){return w.metricDialog}function h(){return w.externalMetricDialog}function S(e){w.metricDialog=e}function M(e){w.externalMetricDialog=e}function T(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY State and User VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),i.danger("Error in retrieving Metrics"),t})}function A(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid="+n.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY State and User VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),i.danger("Error in retrieving Metrics"),t})}var w=this;w.getAll=s,w.getById=g,w.update=u,w.changeState=l,w.create=m,w.getAllMine=d,w.getByUser=f,w.getAllApproved=c,w.getByStateAndUser=v,w.getMineByState=A,w.getByState=T,w.countMetricsByState=p,w.storeMetric=S,w.storeExternalMetric=M,w.getMetricDialog=E,w.getExternalMetricDialog=h,w.metricDialog={},w.externalMetricDialog=[]}angular.module("metricapp").service("MetricService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_METRICS","$window","FlashService"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){return t(function(e,t){setTimeout(function(){var t=[];for(var r in o)t.push(o[r]);e({mgoals:t})},500)})}function i(e){return t(function(t,r){setTimeout(function(){var n=o[e];n?t({mgoal:n}):r({errmsg:"MGoal "+e+" not found"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=o[e];t&&(r[e]=t)}),t({mgoals:r})},500)})}function c(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],a=Object.keys(o).length,i=-1===r?a:Math.min(e+r,a),s=e;i>s;s++)n.push(o[s]);t({mgoals:n,nummgoals:a})},500)})}function u(e){return t(function(t,r){var n=e.goalid;setTimeout(function(){o[n]?r({errmsg:"MGoal "+n+" already registered"}):(o[n]=angular.copy(e),t({goalid:n,msg:"Thank you for creating "+n}))},500)})}function l(e){return t(function(t,r){var n=e.goalid;setTimeout(function(){var a=o[n];if(a){for(var i in e)a[i]=angular.copy(e[i]);t({mgoal:a})}else r({errmsg:"MGoal "+n+" not found"})},500)})}var m=this;m.getAll=a,m.getById=i,m.getInArray=s,m.getNFrom=c,m.create=u,m.update=l}angular.module("metricapp").service("MGoalService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_MGOALS"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){return t(function(e,t){setTimeout(function(){var r=n.getUsername();if(r){var a=o[r];if(a){var i=a.notifications,s=a.news,c=0;i.forEach(function(e){e.read||c++}),e({notifications:i,news:s,toread:c})}else t({errmsg:"Notifications not found for user "+r})}else t({errmsg:"User not logged"})},500)})}function i(e){return t(function(t,r){setTimeout(function(){var a=n.getUsername();if(a){var i=o[a];if(i){var s=i.notifications,c=i.news;s.forEach(function(r){return r.id===e?void t({notification:r,"new":c}):void 0}),r({errmsg:"Notification "+e+" not found for user "+a})}else r({errmsg:"Notifications not found for user "+a})}else r({errmsg:"User not logged"})},500)})}function s(e,r){return t(function(t,a){setTimeout(function(){var i=n.getUsername();if(i){var s=o[i];if(s){for(var c=s.news,u=s.notifications,l=[],m=0,d=-1===r?u.length:Math.min(e+r,u.length),g=e;d>g;g++)l.push(u[g]),u[g].read||m++;t({notifications:l,news:c,toread:m})}else a({errmsg:"Notifications not found for user "+i})}else a({errmsg:"User not logged"})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var a=n.getUsername();if(a){var i=o[a];if(i){var s=i.notifications,c=s.indexOf(function(t){return t.id===e});c>=0?(s[c].read=!0,t({msg:"Notification "+e+" marked as read"})):r({errmsg:"Notification "+e+" not found for user "+a})}else r({errmsg:"Notifications not found for user "+a})}else r({errmsg:"User not logged"})},500)})}function u(){return t(function(e,t){setTimeout(function(){var r=n.getUsername();if(r){var a=o[r];if(a){var i=a.notifications;i.forEach(function(e){e.read=!0}),e({msg:"All notifications marked as read"})}else t({errmsg:"Notifications not found for user "+r})}else t({errmsg:"User not logged"})},500)})}var l=this;l.getAll=a,l.getById=i,l.getNFrom=s,l.setReadById=c,l.setAllRead=u}angular.module("metricapp").service("NotificationService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_NOTIFICATIONS"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){return t(function(e,t){setTimeout(function(){var t=[];for(var r in o)t.push(o[r]);e({questions:t})},500)})}function i(e){return t(function(t,r){setTimeout(function(){var n=o[e];n?t({question:n}):r({errmsg:"Question "+e+" not found"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=o[e];t&&(r[e]=t)}),t({questions:r})},500)})}function c(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],a=Object.keys(o).length,i=-1===r?a:Math.min(e+r,a),s=e;i>s;s++)n.push(o[s]);t({questions:n,numquestions:a})},500)})}function u(e){return t(function(t,r){var n=e.questionid;setTimeout(function(){o[n]?r({errmsg:"Question "+n+" already registered"}):(o[n]=angular.copy(e),t({questionid:n,msg:"Thank you for creating "+n}))},500)})}function l(e){return t(function(t,r){var n=e.questionid;setTimeout(function(){var a=o[n];if(a){for(var i in e)a[i]=angular.copy(e[i]);t({question:a})}else r({errmsg:"Question "+n+" not found"})},500)})}var m=this;m.getAll=a,m.getById=i,m.getInArray=s,m.getNFrom=c,m.create=u,m.update=l}angular.module("metricapp").service("QuestionService",e),e.$inject=["$http","$q","REST_SERVICE","AuthService","DB_QUESTIONS"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(e){return t(function(t,r){setTimeout(function(){var n=a[e];if(n){for(var i={},s=Math.floor(100*Math.random()+0),c=Math.floor(100*Math.random()+0),u=Math.floor(100*Math.random()+0),l=Math.floor(100*Math.random()+0),m=Math.floor(100*Math.random()+0),d=Math.floor(100*Math.random()+0),g=Math.floor(100*Math.random()+0),f=Math.floor(100*Math.random()+0),p=[],v=0;30>v;v++){var E=new Date(2016,1,v,12,30,0,0),h=Math.floor(10*Math.random()+0),S=Math.floor(10*Math.random()+0),M=Math.floor(10*Math.random()+0),T={ts:E,assigned:h,submitted:S,accepted:M};p.push(T)}i[o.GQM_SCORE]=s,i[o.GRIDS_TOT]=c,i[o.ARTIFACTS_TOT]=u,i[o.ACCEPTANCE_RATIO]=l,i[o.ARTIFACTS_MGOAL]=m,i[o.ARTIFACTS_RATE]=d,i[o.WORKTIME_RATIO]=g,i[o.TASKS_PROGRESS]=f,i[o.TASKS_RECORD]=p,t({analytics:i,teamid:e})}else r({errmsg:"Team "+e+" not found"})},500)})}var s=this;s.getAll=i}angular.module("metricapp").service("TeamAnalyticsService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","TEAM_ANALYTICS","DB_TEAMS"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){return t(function(e,t){setTimeout(function(){var r=o.getUsername();if(r){var n=[];for(var i in a){var s=a[i];s.expert===r&&n.push(s)}e({teams:n})}else t({errmsg:"User not logged"})},500)})}function s(e){return t(function(t,r){setTimeout(function(){var n=a[e];n?t({team:n}):r({errmsg:"Team "+e+" not found"})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=a[e];t&&(r[e]=t)}),t({teams:r})},500)})}function u(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],o=Object.keys(a).length,i=-1===r?o:Math.min(e+r,o),s=e;i>s;s++)n.push(a[s]);t({teams:n,numteams:o})},500)})}function l(e){return t(function(t,r){var n=e.teamid;setTimeout(function(){a[n]?r({errmsg:"Team "+n+" already registered"}):(a[n]=angular.copy(e),t({teamid:n,msg:"Thank you for creating team "+n}))},500)})}function m(e){return t(function(t,r){setTimeout(function(){var n=o.getUsername();if(n){var i=e.teamid,s=a[i];if(s)if(s.expert===n){for(var c in e)s[c]=angular.copy(e[c]);t({team:s})}else r({errmsg:"The current user "+n+" cannot update team "+i});else r({errmsg:"Team "+i+" not found"})}else r({errmsg:"User not logged"})},500)})}var d=this;d.getAll=i,d.getById=s,d.getInArray=c,d.getNFrom=u,d.create=l,d.update=m}angular.module("metricapp").service("TeamService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","AuthService","DB_TEAMS"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(e){return t(function(t,r){setTimeout(function(){var n=a[e];if(n){for(var i={},s=Math.floor(100*Math.random()+0),c=Math.floor(100*Math.random()+0),u=Math.floor(100*Math.random()+0),l=Math.floor(100*Math.random()+0),m=Math.floor(100*Math.random()+0),d=Math.floor(100*Math.random()+0),g=Math.floor(100*Math.random()+0),f=Math.floor(100*Math.random()+0),p=[],v=0;30>v;v++){var E=new Date(2016,1,v,12,30,0,0),h=Math.floor(10*Math.random()+0),S=Math.floor(10*Math.random()+0),M=Math.floor(10*Math.random()+0),T={ts:E,assigned:h,submitted:S,accepted:M};p.push(T)}i[o.GQM_SCORE]=s,i[o.GRIDS_TOT]=c,i[o.ARTIFACTS_TOT]=u,i[o.ACCEPTANCE_RATIO]=l,i[o.ARTIFACTS_MGOAL]=m,i[o.ARTIFACTS_RATE]=d,i[o.WORKTIME_RATIO]=g,i[o.TASKS_PROGRESS]=f,i[o.TASKS_RECORD]=p,t({analytics:i,username:e})}else r({errmsg:"User "+e+" not found"})},500)})}var s=this;s.getAll=i}angular.module("metricapp").service("UserAnalyticsService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","USER_ANALYTICS","DB_USERS"]}(),function(){"use strict";function e(e,t,r,n,o,a,i){function s(){return t(function(e,t){setTimeout(function(){var t=[];for(var r in i)t.push(i[r]);e({users:t})},500)})}function c(e){return t(function(t,r){setTimeout(function(){var n=i[e];n?t({user:n}):r({errmsg:"User "+e+" not found"})},500)})}function u(e){return t(function(t,r){setTimeout(function(){var r={};e.forEach(function(e){var t=i[e];t&&(r[e]=t)}),t({users:r})},500)})}function l(e,r){return t(function(t,n){setTimeout(function(){for(var n=[],o=Object.keys(i).length,a=-1===r?o:Math.min(e+r,o),s=e;a>s;s++)n.push(i[s]);t({users:n,numusers:o})},500)})}function m(e){return t(function(t,r){var n=e.username;setTimeout(function(){i[n]?r({errmsg:"User "+n+" already registered"}):(i[n]=angular.copy(e),i[n].online=!1,t({username:n,msg:"Thank you for signing up "+n}))},500)})}function d(e){return t(function(t,r){setTimeout(function(){var n=o.getUsername();if(n){var a=e.username;if(n===a){var s=i[a];if(s){for(var c in e)s[c]=angular.copy(e[c]);t({user:s})}else r({errmsg:"User "+a+" not found"})}else r({errmsg:"The current user "+n+" cannot update user "+a})}else r({errmsg:"User not logged"})},500)})}var g=this;g.getAll=s,g.getById=c,g.getInArray=u,g.getNFrom=l,g.create=m,g.update=d}angular.module("metricapp").service("UserService",e),e.$inject=["$http","$q","$cookies","REST_SERVICE","AuthService","ROLES","DB_USERS"]}(),function(){"use strict";var e=angular.module("metricapp");e.factory("QuestionModalFactory",["$window","$uibModal",function(e,t){var r={};return r.openQuestionModal=function(){var e=t.open({templateUrl:"dist/views/questioner/questionerModal/questionModal.view.html",controller:"QuestionModalCtrl",controllerAs:"qstModal",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})},r}])}(),function(){"use strict";var e=angular.module("metricapp");e.factory("QuestionerMeasurementGoalModalFactory",["$window","$uibModal",function(e,t){var r={};return r.openMeasurementGoalModal=function(){var e=t.open({templateUrl:"dist/views/questioner/questionerModal/measurementGoalModal.view.html",controller:"QuestionerMeasurementGoalModalCtrl",controllerAs:"mgModal",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})},r}])}(),function(){"use strict";var e=angular.module("metricapp");e.factory("QuestionerMetricModalFactory",["$window","$uibModal",function(e,t){var r={};return r.openMetricModal=function(){var e=t.open({templateUrl:"dist/views/questioner/questionerModal/metricModal.view.html",controller:"QuestionerMetricModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})},r}])}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/home/expertdashboard/expertdashboard.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/home/metricatordashboard/metricatordashboard.view.html"}}angular.module("metricapp").directive("viewexpertdashboard",e),angular.module("metricapp").directive("viewmetricatordashboard",t)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.update.view.html"}}function r(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.read.view.html"}}angular.module("metricapp").directive("measurementgoal",e),angular.module("metricapp").directive("measurementgoalupdate",t),angular.module("metricapp").directive("measurementgoalread",r)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.sendforapproval.view.html"}}angular.module("metricapp").directive("measurementgoalsendforapproval",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoalsearch.view.html"}}angular.module("metricapp").directive("measurementgoalsearch",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metric/metricpage.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/metric/metricupdate.view.html"}}function r(){return{restrict:"E",templateUrl:"dist/views/metric/metricread.view.html"}}angular.module("metricapp").directive("metricPage",e),angular.module("metricapp").directive("metricupdate",t),angular.module("metricapp").directive("metricread",r)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/metric/metrics.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/metric/metric.view.html"}}angular.module("metricapp").directive("metrics",e),angular.module("metricapp").directive("widget",t)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metricator/metricator.view.html"}}angular.module("metricapp").directive("metricator",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metricator/modal/modal.measurementgoal.html"}}angular.module("metricapp").directive("questionModal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metricator/modal/modal.body.measurementgoal.html"}}angular.module("metricapp").directive("modalmeasurementgoal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionerDashboard.view.html"}}angular.module("metricapp").directive("questionerDashboard",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/viewabout.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/viewprojects.view.html"}}function r(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/viewstatistics.view.html"}}function n(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/vieweditprofile.view.html"}}function o(){return{restrict:"E",templateUrl:"dist/views/user/viewuserprofile/vieweditcredentials.view.html"}}angular.module("metricapp").directive("viewabout",e),angular.module("metricapp").directive("viewprojects",t),angular.module("metricapp").directive("viewstatistics",r),angular.module("metricapp").directive("vieweditprofile",n),angular.module("metricapp").directive("vieweditcredentials",o)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){t.bind("error",function(){t.attr("src",r.mFallbackSrc)})}}}angular.module("metricapp").directive("mFallbackSrc",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){var n=t[0],o=r.mWhenScrollBottom;$(n).bind("scroll",function(){n.scrollTop+n.offsetHeight>=n.scrollHeight&&e.$apply(o)})}}}angular.module("metricapp").directive("mWhenScrollBottom",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){var n=t[0],o=r.mWhenScrollTop;$(n).bind("scroll",function(){n.scrollTop+n.offsetHeight>=n.scrollHeight&&e.$apply(o)})}}}angular.module("metricapp").directive("mWhenScrollTop",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,r,n){n.$validators.match=function(e,t){return r.mMatch===e}}}}angular.module("metricapp").directive("mMatch",e)}(),function(){"use strict";
function e(e,t){return{restrict:"A",require:"ngModel",link:function(r,n,o,a){var i=o.mUnique;a.$asyncValidators.unique=function(r,n){var o=n;console.log("m-unique WITH value="+o);var a=t.defer();return e.post(i,o).then(function(e){e.data.exist?a.reject():a.resolve()}),a.promise}}}}angular.module("metricapp").directive("mUnique",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionCreation.view.html"}}angular.module("metricapp").directive("questionCreate",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionList.view.html"}}angular.module("metricapp").directive("questionList",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionModal.view.html"}}angular.module("metricapp").directive("questionModal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionSearch.view.html"}}angular.module("metricapp").directive("questionSearch",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionUpdate.view.html"}}angular.module("metricapp").directive("questionUpdate",e)}(),function(){"use strict";function e(){function e(e){var t=new Date,r=e.getDate(),n=e.getMonth();switch(n){case 1:n="Jan";break;case 2:n="Feb";break;case 3:n="Mar";break;case 4:n="Apr";break;case 5:n="May";break;case 6:n="Jun";break;case 7:n="Jul";break;case 8:n="Aug";break;case 9:n="Sep";break;case 10:n="Oct";break;case 11:n="Nov";break;case 12:n="Dec";break;default:n="Unknown"}var o=e.getFullYear();o===t.getFullYear()&&(o="");var a=e.getHours(),i=e.getMinutes(),s="on "+[r,n,o].join(" "),c="at "+[a,i].join(":"),u=[s,c].join(" ");return u}function t(t){var r=new Date;if(t.getDate()===r.getDate()){if(t.getHours()===r.getHours()){var n=r.getMinutes()-t.getMinutes();return 0===n?"now":n+"m"+(n>1?"s":"")}var o=r.getHours()-t.getHours();return o+"h"+(o>1?"s":"")}if(t.getDate()===new Date(r-864e5)){var a=t.getHours(),i=t.getMinutes();return"Yesterday at "+[a,i].join(":")}return e(t)}return function(r,n){return angular.isDate(r)?"normal"===n?e(r):"ago"===n?t(r):e(r):r}}angular.module("metricapp").filter("datetimeFilter",e)}(),function(){"use strict";function e(){return function(e,t){return e?void 0:t}}angular.module("metricapp").filter("textFallback",e)}(),function(){"use strict";function e(){return function(e,t){var r=[];return t?(t.toLowerCase(),e.forEach(function(e){(e.fname.toLowerCase().indexOf(t)>=0||e.lname.toLowerCase().indexOf(t)>=0)&&r.push(e)}),r):e}}function t(){return function(e){if(!e)return e;var t=[e.firstname,e.lastname].join(" ");return t}}angular.module("metricapp").filter("userFilterByName",e),angular.module("metricapp").filter("userFullname",t)}(),function(){"use strict";function e(e,t,r,n){function o(o){a.loading=!0,a.success=!1,r.login(o).then(function(o){var i=o.authuser;r.setUser(i),a.success=!0,e.$broadcast(n.LOGIN_SUCCESS),t.path("/home")},function(t){a.errmsg=t.errmsg,alert(a.errmsg),a.success=!1,e.$broadcast(n.LOGIN_FAILURE)})["finally"](function(){a.loading=!1})}var a=this;a.login=o}angular.module("metricapp").controller("LoginController",e),e.$inject=["$rootScope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){function o(){i.loading=!0,r.logout().then(function(r){i.success=!0,e.$broadcast(n.LOGOUT_SUCCESS),t.path("/")},function(r){i.errmsg=r.errmsg,alert(i.errmsg),i.success=!1,e.$broadcast(n.LOGOUT_FAILURE),t.path("/")})["finally"](function(){i.loading=!1})}function a(){i.loading=!1,i.success=!1,i.errmsg=null}var i=this;i.logout=o,a()}angular.module("metricapp").controller("LogoutController",e),e.$inject=["$rootScope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(e){u.loading=!0,u.success=!1,r.create(e).then(function(e){var r=e.msg;u.success=!0,alert(r),t.path("/")},function(e){var t=e.errmsg;alert(t),u.success=!1})["finally"](function(){u.loading=!1})}function s(){t.path("/")}function c(){u.loading=!1,u.success=!1,u.errmsg=null}var u=this;u.ROLES=o,u.GENDERS=a,u.signup=i,u.cancelSignup=s,c()}angular.module("metricapp").controller("SignupController",e),e.$inject=["$scope","$location","UserService","FlashService","ROLES","GENDERS"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){}function s(e){var t={ts_create:new Date,author:$rootScope.globals.user.username,content:e};l.currConversation.messages.push(t)}function c(e){l.loading=!0,l.success=!1,o.getById(e,-1).then(function(e){return l.currConversation=angular.copy(e.conversation),a.getUser(l.currConversation.recipient).then(function(e){l.currConversation.recipient=angular.copy(e.user),l.success=!0},function(e){l.errmsg=e.errmsg,l.success=!1})},function(e){l.errmsg=e.errmsg,l.success=!1})["finally"](function(){l.loading=!1})}function u(){l.loading=!0,l.success=!1,l.errmsg=null,r.username&&(l.currConversation={recipient:{username:r.username}},c(l.currConversation.recipient.username))}var l=this;l.loadMore=i,l.sendMessage=s,u()}angular.module("metricapp").controller("ChatController",e),e.$inject=["$scope","$location","$routeParams","$filter","MessageService","UserService"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){if(u.idx<u.buffer.length){var e=Math.min(u.idx+u.step,u.buffer.length);u.conversations=u.conversations.concat(u.buffer.slice(u.idx,e)),u.idx=e}}function s(){u.loading=!0,u.success=!1,o.getAll().then(function(e){var t=e.conversations;u.toread=e.toread;var r=[];return t.forEach(function(e){r.push(e.recipient)}),a.getInArray(r).then(function(e){for(var r=e.users,o=0;o<t.length;o++){var a=t[o],i=a.recipient;a.recipient=angular.copy(r[i]),a.recipient&&u.data.push(a)}u.buffer=n("orderBy")(u.data,u.orderBy),u.success=!0},function(e){u.errmsg=e.errmsg,u.success=!1})},function(e){u.errmsg=e.errmsg,u.success=!1})["finally"](function(){u.loading=!1})}function c(){u.loading=!0,u.success=!1,u.errmsg=null,u.data=[],u.buffer=[],u.conversations=[],u.idx=0,u.step=10,u.orderBy="-ts_update",u.toread=0,s(),e.$watch("vm.buffer",function(){u.idx=0;var e=Math.min(u.idx+u.step,u.buffer.length);u.conversations=u.buffer.slice(u.idx,e),u.idx=e})}var u=this;u.loadMore=i,c()}angular.module("metricapp").controller("ChatsController",e),e.$inject=["$scope","$location","$routeParams","$filter","MessageService","UserService"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(e,t){c.loading=!0,c.success=!1,r.getNFrom(e,t).then(function(e){var t=e.conversations;c.toread=e.toread;var r=[];return t.forEach(function(e){r.push(e.recipient)}),n.getInArray(r).then(function(e){for(var r=e.users,n=0;n<t.length;n++){var o=t[n],a=o.recipient;o.recipient=angular.copy(r[a]),o.recipient&&c.conversations.push(o)}c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function s(){c.loading=!0,c.success=!1,c.errmsg=null,c.conversations=[],c.toread=0,o.isLogged()&&i(0,5),e.$on(a.LOGIN_SUCCESS,function(){i(0,5)})}var c=this;s()}angular.module("metricapp").controller("ChatsWidgetController",e),e.$inject=["$scope","$location","MessageService","UserService","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t){function r(){t.path("/home")}function n(){e.history.back()}var o=this;o.goHome=r,o.goBack=n}angular.module("metricapp").controller("Error401Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t){function r(){t.path("/home")}function n(){e.history.back()}var o=this;o.goHome=r,o.goBack=n}angular.module("metricapp").controller("Error404Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t){function r(){t.path("/home")}function n(){e.history.back()}var o=this;o.goHome=r,o.goBack=n}angular.module("metricapp").controller("Error500Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t,r,n){function o(e){i.loading=!0,i.success=!1,n.getById(e).then(function(e){i.currGrid=angular.copy(e.grid),i.success=!0},function(e){i.errmsg=e.errmsg,i.success=!1})["finally"](function(){i.loading=!1})}function a(){i.loading=!0,i.success=!1,i.errmsg=null,i.currGrid={id:r.gridid},o(i.currGrid.id)}var i=this;a()}angular.module("metricapp").controller("GridAnalyticsController",e),e.$inject=["$scope","$location","$routeParams","GridService"]}(),function(){"use strict";function e(e,t,r,n,o){function a(e){s.loading=!0,s.success=!1,r.create(e).then(function(e){var r=e.gridid;e.msg;s.success=!0,t.path("/grids/"+r)},function(e){s.errmsg=e.errmsg,s.success=!1})["finally"](function(){s.loading=!1})}function i(){s.loading=!1,s.success=!0,s.errmsg=null,s.currUser=o.getUser(),s.grid={id:null,name:null,description:null,expert:s.currUser.username,questioners:[],metricators:[],ts_create:null,ts_update:null,mgoals:[],questions:[],metrics:[],graph:{}}}var s=this;s.createGrid=a,i()}angular.module("metricapp").controller("CreateGridController",e),e.$inject=["$scope","$location","GridService","UserService","AuthService"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,c,u,l,m,d){function g(e){E.loading=!0,E.success=!1,a.update(e).then(function(e){E.currGrid=angular.copy(e.grid);var n=e.grid.gridid;E.success=!0,r.path("/grids/"+n),t.$broadcast(m.UPDATE_SUCCESS)},function(e){E.errmsg=e.errmsg,E.success=!1,t.$broadcast(m.UPDATE_FAILURE)})["finally"](function(){E.loading=!1})}function f(e,t){t===l.QUESTIONER?delete E.updtGrid.questioners[e]:t===l.METRICATOR&&delete E.updtGrid.metricator[e]}function p(e){E.loading=!0,E.success=!1,a.getById(e).then(function(e){E.currGrid=angular.copy(e.grid);var t={expert:u.getById(E.currGrid.expert),questioners:u.getInArray(E.currGrid.questioners),metricators:u.getInArray(E.currGrid.metricators),mgoals:i.getInArray(E.currGrid.mgoals),questions:s.getInArray(E.currGrid.questions),metrics:c.getInArray(E.currGrid.metrics)};return o.all(t).then(function(e){E.currGrid.expert=angular.copy(e.expert.user),E.currGrid.questioners=angular.copy(e.questioners.users),E.currGrid.metricators=angular.copy(e.metricators.users),E.currGrid.mgoals=angular.copy(e.mgoals.mgoals),E.currGrid.questions=angular.copy(e.questions.questions),E.currGrid.metrics=angular.copy(e.metrics.metrics),E.updtGrid=angular.copy(E.currGrid),E.num_questions=Object.keys(E.currGrid.questions).length,E.num_mgoals=Object.keys(E.currGrid.mgoals).length,E.num_metrics=Object.keys(E.currGrid.metrics).length,E.success=!0},function(e){E.errmsg=e.errmsg,alert(E.errmsg),E.success=!1})},function(e){E.errmsg=e.errmsg,E.success=!1})["finally"](function(){E.loading=!1})}function v(){E.loading=!0,E.success=!1,E.errmsg=null,E.currGrid={id:n.gridid},p(E.currGrid.id)}var E=this;E.updateGrid=g,E.removeMember=f,v(),e.vm.options={textureOnViewport:!0,pixelRatio:"auto",motionBlur:!1,hideEdgesOnViewport:!0},e.vm.layout={name:"circle"},e.vm.elements={n1:{group:"nodes",data:{weight:30,color:"orange",name:"Metric 1"}},n2:{group:"nodes",data:{weight:30,color:"red",name:"MG 2"}},n3:{group:"nodes",data:{weight:30,color:"blue",name:"Question 1"}},n4:{group:"nodes",data:{weight:30,color:"green",name:"Org. Goal 1"}},e1:{group:"edges",data:{target:"n1",source:"n1"}},e2:{group:"edges",data:{target:"n1",source:"n2"}},e3:{group:"edges",data:{target:"n1",source:"n3"}},e4:{group:"edges",data:{target:"n1",source:"n1"}}},e.vm.style=[{selector:"node",style:{height:"data(weight)",width:"data(weight)",shape:"ellipse","border-width":0,"background-color":"data(color)"}}],e.node_name="",e.node_description="",e.node_creation="",e.node_update="",e.$on("cy:node:mouseover",function(t,r){e.event.name="cy:node:mouseover";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:mouseout",function(t,r){e.event.name="cy:node:mouseout";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:mousedown",function(t,r){e.event.name="cy:node:mousedown";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:mouseup",function(t,r){e.event.name="cy:node:mouseup";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()}),e.$on("cy:node:click",function(t,r){e.event.name="cy:node:click";r.cyTarget;e.node_name="eddaicazzo..",e.$apply()})}angular.module("metricapp").controller("GridController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","$q","GridService","MGoalService","QuestionService","MetricService","UserService","ROLES","GRID_EVENTS","cytoData"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){if(l.idx<l.buffer.length){var e=Math.min(l.idx+l.step,l.buffer.length);l.grids=l.grids.concat(l.buffer.slice(l.idx,e)),l.idx=e}}function s(e){l.buffer=r("orderBy")(r("filter")(l.data,e),l.orderBy)}function c(){l.loading=!0,l.success=!1,n.getAll().then(function(e){l.data=angular.copy(e.grids),l.buffer=r("orderBy")(l.data,l.orderBy),l.success=!0},function(e){l.errmsg=e.errmsg,l.success=!1})["finally"](function(){l.loading=!1})}function u(){l.loading=!0,l.success=!1,l.errmsg=null,l.data=[],l.buffer=[],l.grids=[],l.idx=0,l.step=1,l.query="",l.orderBy="name",c(),e.$watch("vm.buffer",function(){l.idx=0;var e=Math.min(l.idx+l.step,l.buffer.length);l.grids=l.buffer.slice(l.idx,e),l.idx=e})}var l=this;l.ROLES=a,l.loadMore=i,l.search=s,u()}angular.module("metricapp").controller("GridsController",e),e.$inject=["$scope","$location","$filter","GridService","UserService","ROLES"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){s.loading=!0,s.success=!1,s.currUser=o.getUser(),s.success=!0,s.loading=!1}function i(){s.loading=!0,s.success=!1,s.errmsg=null,a()}var s=this;i(),s.active_questioners=10,s.active_metricators=15,s.active_experts=1,s.inactive_questioners=3,s.inactive_metricators=2,s.inactive_experts=0,s.active_tasks=10,s.active_teams=2,s.total_active_users=s.active_questioners+s.active_metricators+s.active_experts,s.total_inactive_users=s.inactive_experts+s.inactive_metricators+s.inactive_questioners,s.total_users=s.total_inactive_users+s.total_active_users,s.active_users_chart_data=[{label:"Metricators",value:s.active_questioners},{label:"Questioners",value:s.active_metricators},{label:"Experts",value:s.active_experts}],s.trend_active_users=[{y:"Q2/15",questioners:19,metricators:29},{y:"Q3/15",questioners:30,metricators:35},{y:"Q1/16",questioners:55,metricators:45},{y:"Q2/16",questioners:78,metricators:80}],s.projects=[{name:"ISSR Project",status:"active",progress:30},{name:"ISSR Project2",status:"active",progress:70}],s.date=new Date,s.exportDataXLS=function(){var e=new Blob([document.getElementById("exportable").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(e,"Report.xls")}}angular.module("metricapp").controller("HomeController",e),e.$inject=["$rootScope","$scope","$location","$timeout","AuthService"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,c,u,l,m,d){function g(){Q.measurementGoalDialog=r.getUpdateMeasurementGoal().measurementGoal,Q.metrics=r.getUpdateMeasurementGoal().metrics,Q.contextFactors=r.getUpdateMeasurementGoal().contextFactors,Q.assumptions=r.getUpdateMeasurementGoal().assumptions,Q.organizationalGoal=r.getUpdateMeasurementGoal().organizationalGoal,Q.instanceProject=r.getUpdateMeasurementGoal().instanceProject}function f(){d.measurementgoalid?(Q.modifying=!1,Q.currMeasurementGoalId={id:d.measurementgoalid},r.getMeasurementGoalsBy(Q.currMeasurementGoalId.id,"id").then(function(e){Q.measurementGoalDialog=e.measurementGoals[0],r.getMeasurementGoalExternals(Q.currMeasurementGoalId.id).then(function(e){console.log("Success in read to get Measurement Goal Externals"),console.log(e),Q.metrics=e.metrics,Q.contextFactors=e.contextFactors,Q.assumptions=e.assumptions,Q.organizationalGoal=e.organizationalGoal,Q.instanceProject=e.instanceProject;var t={measurementGoal:Q.measurementGoalDialog,metrics:e.metrics,contextFactors:e.contextFactors,assumptions:e.assumptions,organizationalGoal:e.organizationalGoal,instanceProject:e.instanceProject};r.toUpdateMeasurementGoal(t)},function(e){console.log("Failure get Measurement Goal Externals"),console.log(e)})},function(e){Q.error=!0})):(Q.modifying=!0,g())}function p(e){void 0!==e&&(Q.measurementGoalDialog.metadata.state=e),r.submitMeasurementGoal(Q.measurementGoalDialog).then(function(e){Q.measurementGoalDialog=e.measurementGoals[0],o.alert("Measurement Goal Submitted"),t.path("/metricator")},function(e){alert(e)})}function v(){Q.metrics=r.getUpdateMeasurementGoal().metrics}function E(){Q.contextFactors=r.getUpdateMeasurementGoal().contextFactors}function h(){Q.assumptions=r.getUpdateMeasurementGoal().assumptions}function S(e){switch(e){case i.PENDING:M();break;case i.APPROVED:w();break;case i.REJECTED:T();break;case i.SUSPENDED:U();break;case i.ONUPDATEWAITINGQUESTIONS:A()}}function M(){p(i.PENDING)}function T(){p(i.REJECTED)}function A(){p(i.ONUPDATEWAITINGQUESTIONS)}function w(){p(i.APPROVED)}function U(){p(i.SUSPENDED)}function G(){0===Q.externalMetricDialog.length?n.getAllApproved().then(function(e){console.log("SUCCESS GET APPROVED METRICS"),console.log(e.metricsDTO),n.storeExternalMetric(e.metricsDTO),s.openExternalMetricModal()},function(e){alert("Error retriving Metrics")}):s.openExternalMetricModal()}function D(){0===Q.externalContextFactorDialog.length?r.getExternalContextFactors().then(function(e){console.log("SUCCESS GET EXTERNAL CONTEXT FACTORS"),console.log(e),c.storeExternalContextFactor(e),l.openExternalContextFactorModal()},function(e){alert("Error retrieving Context Factors")}):l.openExternalContextFactorModal()}function C(){0===Q.externalAssumptionDialog.length?r.getExternalAssumptions().then(function(e){console.log("SUCCESS GET EXTERNAL ASSUMPTIONS"),console.log(e),u.storeExternalAssumption(e),m.openExternalAssumptionModal()},function(e){alert("Error retrieving Assumptions")}):m.openExternalAssumptionModal()}function R(e){n.storeMetric(Q.metrics[e]),s.openMetricModal()}function y(e){c.storeContextFactor(Q.contextFactors[e]),l.openContextFactorModal()}function _(e){u.storeAssumption(Q.assumptions[e]),m.openAssumptionModal()}function x(){t.path("/measurementgoal")}function I(){Q.measurementGoalDialog.metadata.tags.push(Q.newTag)}function $(e){Q.measurementGoalDialog.metadata.tags.splice(e,1)}function q(e,t){switch(e){case"Metric":Q.measurementGoalDialog.metrics.splice(t,1),Q.metrics.splice(t,1);break;case"Question":Q.measurementGoalDialog.questions.splice(t,1),Q.questions.splice(t,1);break;case"ContextFactor":Q.measurementGoalDialog.contextFactors.splice(t,1),Q.contextFactors.splice(t,1);break;case"Assumption":Q.measurementGoalDialog.assumptions.splice(t,1),Q.assumptions.splice(t,1)}o.alert("Item removed"),console.log("MEASUREMENT GOAL AFTER REMOVE"),console.log(Q.measurementGoalDialog)}function b(){return Q.measurementGoalDialog.metricatorId==a.getUser().username&&!("Pending"==Q.measurementGoalDialog.metadata.state)}function O(){return"METRICATOR"==a.getUser().role&&Q.measurementGoalDialog.metricatorId==a.getUser().username&&"OnUpdateQuestionerEndpoint"==Q.measurementGoalDialog.metadata.state}function F(){return"EXPERT"==a.getUser().role&&"Pending"==Q.measurementGoalDialog.metadata.state}function N(){return"EXPERT"==a.getUser().role&&"Pending"==Q.measurementGoalDialog.metadata.state}function L(){return"EXPERT"==a.getUser().role&&"Approved"==Q.measurementGoalDialog.metadata.state}function P(){Q.loading=!1}var Q=this;Q.externalMetricDialog=n.getExternalMetricDialog(),Q.externalContextFactorDialog=[],Q.externalAssumptionDialog=[],Q.submitMeasurementGoal=p,Q.goToUpdateMeasurementGoal=x,Q.addTagToMeasurementGoal=I,Q.removeTagFromMeasurementGoal=$,Q.getApprovedMetrics=G,Q.removeSomethingFromMeasurementGoal=q,Q.isModifiable=b,Q.getExternalContextFactors=D,Q.getExternalAssumptions=C,Q.getMetricsToUpdate=v,Q.setMetricDialog=R,Q.getContextFactorsToUpdate=E,Q.getAssumptionsToUpdate=h,Q.setContextFactorDialog=y,Q.setAssumptionDialog=_,Q.commitChangeState=S,Q.isForApproval=O,Q.isToApprove=N,Q.isToSuspend=L,Q.isToReject=F,P(),f()}angular.module("metricapp").controller("MeasurementGoalController",e),e.$inject=["$scope","$location","MeasurementGoalService","MetricService","$window","AuthService","STATES","MetricModalService","ContextFactorService","AssumptionService","ContextFactorModalService","AssumptionModalService","$routeParams"]}(),function(){"use strict";function e(e,r,n,o,a,i){function s(){o.getMeasurementGoals().then(function(e){console.log(e.measurementGoals),g.measurementGoals=e.measurementGoals},function(e){alert("Error retriving Measurement Goals")})}function c(e,t){null!=e&&null!=t?o.getMeasurementGoalsBy(e,t).then(function(e){console.log(e.measurementGoals),g.measurementGoals=e.measurementGoals,0===g.measurementGoals.length&&a.alert(e.error)},function(e){alert("Error retriving Measurement Goals")}):a.alert("You must enter keyword and field")}function u(){n.getMetrics().then(function(e){console.log(e.metricsDTO),g.results.metrics=e.metricsDTO},function(e){alert("Error retriving Metrics")})}function l(e){o.getMeasurementGoalExternals(e).then(function(e){g.metrics=e.metrics,g.contextFactors=e.contextFactors,g.assumptions=e.assumptions,g.organizationalGoal=e.organizationalGoal,g.instanceProject=e.instanceProject},function(e){alert("Error retriving Metrics")})}function m(e){g.measurementGoalDialog=g.measurementGoals[e],l(g.measurementGoals[e].metadata.id);var t={measurementGoal:g.measurementGoalDialog,metrics:g.metrics,contextFactors:g.contextFactors,assumptions:g.assumptions,organizationalGoal:g.organizationalGoal,instanceProject:g.instanceProject};o.toUpdateMeasurementGoal(t),i.openMeasurementGoalModal()}function d(){var e={measurementGoal:g.measurementGoalDialog,metrics:g.metrics,contextFactors:g.contextFactors,assumptions:g.assumptions,organizationalGoal:g.organizationalGoal,instanceProject:g.instanceProject};o.toUpdateMeasurementGoal(e),console.log("Going to Update Measurement Goal"),r.path("/measurementgoal"),console.log(r.path("/measurementgoal"))}var g=this;g.measurementGoals=[],g.metrics=[],g.contextFactors=[],g.assumptions=[],g.organizationalGoal={},g.instanceProject={},g.measurementGoalDialog={},g.modal="",g.getMeasurementGoals=s,g.getMetrics=u,g.goToUpdateMeasurementGoal=d,g.getMeasurementGoalExternals=l,g.setMeasurementGoalDialog=m,g.getMeasurementGoalsBy=c,t()}function t(){}angular.module("metricapp").controller("MeasurementGoalSearchController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window","MeasurementGoalModalService"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s){function c(){T.modifying=!1,T.copyDialogToModel(),T.setLabelState(),T.setRights()}function u(){r.metricid||n.path("/metrics"),T.currMetricId={id:r.metricid},o.getById(T.currMetricId.id).then(function(e){T.loadedMetric=e.metricsDTO[0],T.loading=!1,c()},function(e){T.error=!0})}function l(){T.newMetric=angular.copy(T.loadedMetric)}function m(e,t){-1!=t.indexOf(e)||angular.isUndefined(e)||e.length>1&&e.length<31&&t.push(e)}function d(){T.stateLabel=t("filter")(T.labelsForState,function(e){return e.state==T.newMetric.metadata.state})[0].label}function g(){if(T.canIUpdateVar=!1,T.isExpert=!1,T.canIApprove=!1,T.canIRequestChange=!1,T.canISendForApproval=!1,!angular.isUndefined(T.newMetric)){var e=T.newMetric;return e.metricatorId==a.getUser().username&&"METRICATOR"==a.getUser().role?("OnUpdate"==e.metadata.state&&(T.canIUpdateVar=!0,T.canISendForApproval=!0),"Rejected"==e.metadata.state&&(T.canIUpdateVar=!0),void("Created"==e.metadata.state&&(T.canIUpdateVar=!0))):void("EXPERT"==a.getUser().role&&(T.isExpert=!0,"OnUpdate"==e.metadata.state&&(T.canIUpdateVar=!0,T.canISendForApproval=!0),"Created"==e.metadata.state&&(T.canIUpdateVar=!0),"Pending"==e.metadata.state&&(T.canIApprove=!0),"Approved"==e.metadata.state&&(T.canIRequestChange=!0),"Rejected"==e.metadata.state&&(T.canIUpdateVar=!0)))}}function f(e){console.log(e),"Rejected"!=e.metadata.state&&"Created"!=e.metadata.state||(e.metadata.state="OnUpdate"),o.update(e).then(function(e){T.newMetric=void 0,u()},function(e){T.newMetric=void 0,u()})}function p(){console.log("Go to read"),T.modifying=!1,u()}function v(){console.log("Go to modify"),T.modifying=!0}function E(){console.log("Send for approval"),T.newMetric.metadata.state="Pending",o.changeState(T.newMetric).then(function(e){T.goToRead()},function(e){T.goToRead()})}function h(){console.log("Change Request"),T.newMetric.metadata.state="OnUpdate",o.changeState(T.newMetric).then(function(e){T.goToRead()},function(e){T.goToRead()})}function S(){console.log("Approve"),T.newMetric.metadata.state="Approved",o.changeState(T.newMetric).then(function(e){T.goToRead()},function(e){T.goToRead()})}function M(){console.log("Reject"),T.newMetric.metadata.state="Rejected",o.changeState(T.newMetric).then(function(e){T.goToRead()},function(e){T.goToRead()})}var T=this;$("body").removeClass("modal-open"),T.loading=!0,T.modifying=!1,T.canIUpdateVar=!1,T.isExpert=!1,T.canIApprove=!1,T.canIRequestChange=!1,T.canISendForApproval=!1,T.listOfSet=[{value:"integers",option:"Integers"},{value:"reals",option:"Reals"}],T.listOfScaleType=[{value:"nominalScale",option:"Nominal Scale"},{value:"ordinalScale",option:"Ordinal Scale"},{value:"intervalScale",option:"Interval Scale"},{value:"ratioScale",option:"Ratio Scale"},{value:"absoluteScale",option:"Absolute Scale"}],T.labelsForState=[{state:"OnUpdate",label:"label label-primary label-form"},{state:"Pending",label:"label label-default label-form"},{state:"Created",label:"label label-default label-form"},{state:"Approved",label:"label label-warning label-form"},{state:"Rejected",label:"label label-danger label-form"}],T.copyDialogToModel=l,T.pushIfNotExists=m,T.submitMetric=f,T.setLabelState=d,T.setRights=g,T.goToRead=p,T.goToModify=v,T.sendForApproval=E,T.changeRequest=h,T.approve=S,T.reject=M,u()}angular.module("metricapp").controller("MetricPageController",e),e.$inject=["$scope","$filter","$routeParams","$location","MetricService","AuthService","$window","FlashService"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){if(S.idx<S.buffer.length){var e=Math.min(S.idx+S.step,S.buffer.length);S.metrics=S.metrics.concat(S.buffer.slice(S.idx,e)),S.idx=e}}function i(e){console.log("go to #/metrics/"+e),t.path("#/metrics/"+e)}function s(e){S.buffer=r("orderBy")(r("filter")(S.data,e),S.orderBy,!0)}function c(){E()}function u(e){S.metricDialog=e,S.modal=!0}function l(){S.mine?S.approved?f():d():S.approved?g():m()}function m(){S.loading=!0,S.success=!1,n.getAll().then(function(e){S.data=angular.copy(e.metricsDTO),S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function d(){S.loading=!0,S.success=!1,n.getAllMine().then(function(e){S.data=angular.copy(e.metricsDTO),S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function g(){S.loading=!0,S.success=!1,n.getAllApproved().then(function(e){S.data=[],S.data=angular.copy(e.metricsDTO),S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function f(){S.loading=!0,S.success=!1,n.getAllApproved().then(function(e){S.data=[];var t=angular.copy(e.metricsDTO);for(var n in t)t[n].metricatorId==S.user&&S.data.push(angular.copy(t[n]));S.buffer=r("orderBy")(S.data,S.orderBy,!0),S.success=!0},function(e){S.errmsg=e.errmsg,S.success=!1})["finally"](function(){S.loading=!1})}function p(){n.create().then(function(e){},function(e){})["finally"](function(){S.update()})}function v(){l(),S.search(S.query)}function E(){S.userId=o.getUser().username,S.role=o.getUser().role,S.metricator=!1,"METRICATOR"==S.role&&(S.metricator=!0),S.loading=!0,S.success=!0,S.errmsg=null,S.data=[],S.buffer=[],S.metrics=[],S.mine=!1,S.modal=!1,S.idx=0,S.step=9,S.query="",S.approved=!1,S.orderBy="metadata.lastVersionDate","METRICATOR"==S.role&&(S.mine=!0),l(),e.$watch("vm.buffer",function(){S.idx=0;var e=Math.min(S.idx+S.step,S.buffer.length);S.metrics=S.buffer.slice(S.idx,e),S.idx=e})}function h(e){return r("filter")(S.labelsForState,function(t){return t.state==e})[0].label}var S=this;S.loadMore=a,S.search=s,S.reset=c,S.update=v,S.create=p,S.openModal=u,S.goToRead=i,S.getLabelState=h,S.labelsForState=[{state:"OnUpdate",label:"label label-primary label-form"},{state:"Pending",label:"label label-default label-form"},{state:"Created",label:"label label-default label-form"},{state:"Approved",label:"label label-warning label-form"},{state:"Rejected",label:"label label-danger label-form"}],E()}angular.module("metricapp").controller("MetricsController",e),e.$inject=["$scope","$location","$filter","MetricService","AuthService"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s){function c(){n.getMyMeasurementGoals().then(function(e){console.log(e.measurementGoals),f.measurementGoals=e.measurementGoals},function(e){alert("Error retriving Measurement Goals")})}function u(e,t){f.loading=!0,console.log("Inside getMeasurementGoalsBy"),null!=e&&null!=t?n.getMeasurementGoalsBy(e,t).then(function(e){console.log(e.measurementGoals),f.measurementGoals=e.measurementGoals,0===f.measurementGoals.length&&o.alert(e.error),f.loading=!1},function(e){alert("Error retriving Measurement Goals"),f.loading=!1}):o.alert("You must enter keyword and field"),f.loading=!1}function l(e){n.getMeasurementGoalExternals(e).then(function(t){f.metrics=t.metrics,f.contextFactors=t.contextFactors,f.assumptions=t.assumptions,f.organizationalGoal=t.organizationalGoal,f.instanceProject=t.instanceProject;var r={measurementGoal:f.measurementGoalDialog,metrics:t.metrics,contextFactors:t.contextFactors,assumptions:t.assumptions,organizationalGoal:t.organizationalGoal,instanceProject:t.instanceProject};f.modalIds.push([e,r]),n.toUpdateMeasurementGoal(r),s.openMeasurementGoalModal(),console.log("Retrieving Externals")},function(e){alert("Error retriving Externals")})}function m(e){f.measurementGoalDialog=f.measurementGoals[e];for(var t=f.measurementGoals[e].metadata.id,r=!1,o=0,a=f.modalIds.length;a>o;o++)if(f.modalIds[o][0]===t){n.toUpdateMeasurementGoal(f.modalIds[o][1]),s.openMeasurementGoalModal(),r=!0;break}r||l(t)}function d(){var e={measurementGoal:f.measurementGoalDialog,metrics:f.metrics,contextFactors:f.contextFactors,assumptions:f.assumptions,organizationalGoal:f.organizationalGoal,instanceProject:f.instanceProject};n.toUpdateMeasurementGoal(e),t.path("/measurementgoal")}function g(){f.loading=!1}var f=this;f.states=[a.ONUPDATEENDPOINT,a.ONUPDATEWAITING],f.measurementGoals=[],f.metrics=[],f.contextFactors=[],f.assumptions=[],f.organizationalGoal={},f.instanceProject={},f.measurementGoalDialog={},f.modalIds=[],f.setMeasurementGoalDialog=m,f.getMeasurementGoalsBy=u,f.goToUpdateMeasurementGoal=d,f.getMeasurementGoalExternals=l,c(),g()}angular.module("metricapp").controller("MetricatorController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window","STATES","AuthService","MeasurementGoalModalService"]}(),function(){"use strict";function e(e,t,r,n){function o(e){i.loading=!0,i.success=!1,n.getById(e).then(function(e){i.currMGoal=angular.copy(e.mgoal),i.updtMGoal=angular.copy(i.currMGoal),i.success=!0},function(e){i.errmsg=e.errmsg,i.success=!1})["finally"](function(){i.loading=!1})}function a(){return i.loading=!0,i.success=!1,i.errmsg=null,r.goalid?(i.currMGoal={id:r.goalid},void o(i.currMGoal.id)):void t.path("/mgoals")}var i=this;a()}angular.module("metricapp").controller("MGoalController",e),e.$inject=["$scope","$location","$routeParams","MGoalService"]}(),function(){"use strict";function e(e,t,r,n){function o(){if(c.idx<c.buffer.length){var e=Math.min(c.idx+c.step,c.buffer.length);c.mgoals=c.mgoals.concat(c.buffer.slice(c.idx,e)),c.idx=e}}function a(e){c.buffer=r("orderBy")(r("filter")(c.data,e),c.orderBy);
}function i(){c.loading=!0,c.success=!1,n.getAll().then(function(e){c.data=angular.copy(e.mgoals),c.buffer=r("orderBy")(c.data,c.orderBy),c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function s(){c.loading=!0,c.success=!1,c.errmsg=null,c.data=[],c.buffer=[],c.mgoals=[],c.idx=0,c.step=4,c.query="",c.orderBy="name",i(),e.$watch("vm.buffer",function(){c.idx=0;var e=Math.min(c.idx+c.step,c.buffer.length);c.mgoals=c.buffer.slice(c.idx,e),c.idx=e})}var c=this;c.loadMore=o,c.search=a,s()}angular.module("metricapp").controller("MGoalsController",e),e.$inject=["$scope","$location","$filter","MGoalService"]}(),function(){"use strict";function e(e,t,r,n){function o(e){r.storeAssumption(a.externalAssumptionDialog[e]),AssumptionModalService.openAssumptionModal()}var a=this;a.assumptionDialog=r.getAssumptionDialog(),a.setAssumptionDialog=o,a.closeModal=function(){n.dismiss("closing")}}angular.module("metricapp").controller("AssumptionModalCtrl",e),e.$inject=["$window","$uibModal","AssumptionService","$uibModalInstance"]}(),function(){"use strict";function e(e,t,r,n){function o(e){r.storeContextFactor(a.contextFactorDialog[e]),ContextFactorModalService.openContextFactorModal()}var a=this;a.contextFactorDialog=r.getContextFactorDialog(),console.log("vm.contextFactorDialog"),console.log(a.contextFactorDialog),a.setContextFactorDialog=o,a.closeModal=function(){n.dismiss("closing")}}angular.module("metricapp").controller("ContextFactorModalCtrl",e),e.$inject=["$window","$uibModal","ContextFactorService","$uibModalInstance"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){n.dismiss("closing")}function s(e){r.storeAssumption(u.externalAssumptionDialog[e]),o.openAssumptionModal()}function c(t){console.log("Adding item"),a.addSomethingToMeasurementGoal("Assumption",t)?e.alert("Item added"):e.alert("You cannot add this item")}var u=this;u.externalAssumptionDialog=r.getExternalAssumptionDialog(),u.closeModal=i,u.setAssumptionDialog=s,u.addAssumptionToMeasurementGoal=c}angular.module("metricapp").controller("ExternalAssumptionModalCtrl",e),e.$inject=["$window","$uibModal","AssumptionService","$uibModalInstance","AssumptionModalService","MeasurementGoalService"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){n.dismiss("closing")}function s(e){r.storeContextFactor(u.externalContextFactorDialog[e]),o.openContextFactorModal()}function c(t){console.log("Adding item"),a.addSomethingToMeasurementGoal("ContextFactor",t)?e.alert("Item added"):e.alert("You cannot add this item")}var u=this;u.externalContextFactorDialog=r.getExternalContextFactorDialog(),u.closeModal=i,u.setContextFactorDialog=s,u.addContextFactorToMeasurementGoal=c}angular.module("metricapp").controller("ExternalContextFactorModalCtrl",e),e.$inject=["$window","$uibModal","ContextFactorService","$uibModalInstance","ContextFactorModalService","MeasurementGoalService"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){n.dismiss("closing")}function s(e){r.storeMetric(u.externalMetricDialog[e]),o.openMetricModal()}function c(t){console.log("Adding item"),a.addSomethingToMeasurementGoal("Metric",t)?e.alert("Item added"):e.alert("You cannot add this item")}var u=this;u.externalMetricDialog=r.getExternalMetricDialog(),u.closeModal=i,u.setMetricDialog=s,u.addMetricToMeasurementGoal=c}angular.module("metricapp").controller("ExternalMetricModalCtrl",e),e.$inject=["$window","$uibModal","MetricService","$uibModalInstance","MetricModalService","MeasurementGoalService"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){n.dismiss("closing")}function s(){return"METRICATOR"!=o.getUser().role||f.measurementGoalDialog.metricatorId!=o.getUser().username?!1:"Created"!=f.measurementGoalDialog.metadata.state&&"Pending"!=f.measurementGoalDialog.metadata.state&&"Suspended"!=f.measurementGoalDialog.metadata.state}function c(){return"METRICATOR"==o.getUser().role&&f.measurementGoalDialog.metricatorId==o.getUser().username&&"OnUpdateQuestionerEndpoint"==f.measurementGoalDialog.metadata.state}function u(){return"EXPERT"==o.getUser().role&&"Pending"==f.measurementGoalDialog.metadata.state}function l(){return"EXPERT"==o.getUser().role&&"Pending"==f.measurementGoalDialog.metadata.state}function m(){return"EXPERT"==o.getUser().role&&"Approved"==f.measurementGoalDialog.metadata.state}function d(){i(),a.path("/measurementgoal")}function g(){i(),a.path("/measurementgoalchangestate")}var f=this;f.measurementGoalDialog=r.getUpdateMeasurementGoal().measurementGoal,f.metrics=r.getUpdateMeasurementGoal().metrics,f.contextFactors=r.getUpdateMeasurementGoal().contextFactors,f.assumptions=r.getUpdateMeasurementGoal().assumptions,f.organizationalGoal=r.getUpdateMeasurementGoal().organizationalGoal,f.instanceProject=r.getUpdateMeasurementGoal().instanceProject,f.functionJavascript=f.measurementGoalDialog.interpretationModel.functionJavascript,f.isModifiable=s,f.isForApproval=c,f.isToReject=u,f.isToSuspend=m,f.isToApprove=l,f.closeModal=i,f.goToUpdateMeasurementGoal=d,f.changeState=g}angular.module("metricapp").controller("MeasurementGoalModalCtrl",e),e.$inject=["$window","$uibModal","MeasurementGoalService","$uibModalInstance","AuthService","$location"]}(),function(){"use strict";function e(e,t,r,n){function o(){n.dismiss("closing")}var a=this;a.metricDialog=r.getMetricDialog(),a.closeModal=o}angular.module("metricapp").controller("MetricModalCtrl",e),e.$inject=["$window","$uibModal","MetricService","$uibModalInstance"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,c){function u(e){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===e&&(n.read||(n.read=!0,v.toread--))}o.setReadById(e),t.$broadcast(s.SET_READ,e)}function l(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0,v.news=0,o.setAllRead(),t.$broadcast(s.ALL_READ)}function m(){v.news=0}function d(){if(v.idx<v.buffer.length){var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.notifications.concat(v.buffer.slice(v.idx,e)),v.idx=e}}function g(e){v.buffer=n("orderBy")(n("filter")(v.data,e),v.orderBy)}function f(){v.loading=!0,v.success=!1,o.getAll().then(function(e){var t=e.notifications;v.toread=e.toread,v.news=e.news,t.forEach(function(e){v.data.push(e)}),v.buffer=n("orderBy")(v.data,v.orderBy),v.success=!0},function(e){v.errmsg=e.errmsg,v.success=!1})["finally"](function(){v.loading=!1})}function p(){v.loading=!0,v.success=!1,v.errmsg=null,v.data=[],v.buffer=[],v.notifications=[],v.idx=0,v.step=2,v.query="",v.orderBy="-ts_create",f(),e.$watch("vm.buffer",function(){v.idx=0;var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.buffer.slice(v.idx,e),v.idx=e}),e.$on(s.ALL_READ,function(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0}),e.$on(s.SET_READ,function(e,t){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===t&&(n.read||(n.read=!0,v.toread--))}})}var v=this;v.loadMore=d,v.search=g,v.setRead=u,v.setAllRead=l,v.removeNews=m,p()}angular.module("metricapp").controller("NotificationsController",e),e.$inject=["$scope","$rootScope","$location","$filter","NotificationService","UserService","AuthService","NOTIFICATION_EVENTS","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,c){function u(e){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===e&&(n.read||(n.read=!0,v.toread--))}o.setReadById(e),t.$broadcast(c.SET_READ,e)}function l(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0,v.news=0,o.setAllRead(),t.$broadcast(c.ALL_READ)}function m(){v.news=0}function d(){if(v.idx<v.buffer.length){var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.notifications.concat(v.buffer.slice(v.idx,e)),v.idx=e}}function g(e){v.buffer=n("orderBy")(n("filter")(v.data,e),v.orderBy)}function f(){v.loading=!0,v.success=!1,o.getAll().then(function(e){var t=e.notifications;v.toread=e.toread,v.news=e.news;var r=[];return t.forEach(function(e){r.push(e.author)}),a.getInArray(r).then(function(e){var r=e.users;t.forEach(function(e){var t=e.author;e.author=angular.copy(r[t]),e.author&&v.data.push(e)}),v.buffer=n("orderBy")(v.data,v.orderBy),v.success=!0},function(e){v.errmsg=e.errmsg,v.success=!1})},function(e){v.errmsg=e.errmsg,v.success=!1})["finally"](function(){v.loading=!1})}function p(){v.loading=!0,v.success=!1,v.errmsg=null,v.data=[],v.buffer=[],v.notifications=[],v.idx=0,v.step=3,v.query="",v.orderBy="-ts_create",i.isLogged()&&f(),e.$on(s.LOGIN_SUCCESS,function(){f()}),e.$watch("vm.buffer",function(){v.idx=0;var e=Math.min(v.idx+v.step,v.buffer.length);v.notifications=v.buffer.slice(v.idx,e),v.idx=e}),e.$on(c.ALL_READ,function(){v.buffer.forEach(function(e){e.read=!0}),v.toread=0,v.news=0}),e.$on(c.SET_READ,function(e,t){for(var r=0;r<v.buffer.length;r++){var n=v.buffer[r];n.id===t&&(n.read||(n.read=!0,v.toread--))}})}var v=this;v.loadMore=d,v.search=g,v.setRead=u,v.setAllRead=l,v.removeNews=m,p()}angular.module("metricapp").controller("NotificationsWidgetController",e),e.$inject=["$scope","$rootScope","$location","$filter","NotificationService","UserService","AuthService","AUTH_EVENTS","NOTIFICATION_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){function o(){if(c.idx<c.buffer.length){var e=Math.min(c.idx+c.step,c.buffer.length);c.users=c.users.concat(c.buffer.slice(c.idx,e)),c.idx=e}}function a(e){c.buffer=r("orderBy")(r("filter")(c.data,e),c.orderBy)}function i(){c.loading=!0,c.success=!1,n.getAll().then(function(e){c.data=angular.copy(e.users),c.buffer=r("orderBy")(c.data,c.orderBy),c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function s(){c.loading=!0,c.success=!1,c.errmsg=null,c.data=[],c.buffer=[],c.users=[],c.idx=0,c.step=4,c.query="",c.orderBy="firstname",i(),e.$watch("vm.buffer",function(){c.idx=0;var e=Math.min(c.idx+c.step,c.buffer.length);c.users=c.buffer.slice(c.idx,e),c.idx=e})}var c=this;c.loadMore=o,c.search=a,s()}angular.module("metricapp").controller("OrganizationController",e),e.$inject=["$scope","$location","$filter","UserService"]}(),function(){"use strict";function e(e,t,r,n){function o(e){i.loading=!0,i.success=!1,n.getById(e).then(function(e){i.currQuestion=angular.copy(e.question),i.updtQuestion=angular.copy(i.currQuestion),i.success=!0},function(e){i.errmsg=e.errmsg,i.success=!1})["finally"](function(){i.loading=!1})}function a(){i.loading=!0,i.success=!1,i.errmsg=null,r.questionid||t.path("/questions"),i.currQuestion={id:r.questionid},o(i.currQuestion.id)}var i=this;a()}angular.module("metricapp").controller("QuestionController",e),e.$inject=["$scope","$location","$routeParams","QuestionService"]}(),function(){"use strict";function e(e,t,r,n){function o(){if(s.idx<s.buffer.length){var e=Math.min(s.idx+s.step,s.buffer.length);s.questions=s.questions.concat(s.buffer.slice(s.idx,e)),s.idx=e}}function a(e){s.buffer=r("orderBy")(r("filter")(s.data,e),s.orderBy)}function i(){s.loading=!0,s.success=!1,s.errmsg=null,s.data=[],s.buffer=[],s.questions=[],s.idx=0,s.step=4,s.query="",s.orderBy="name",_loadAllQuestions(),e.$watch("vm.buffer",function(){s.idx=0;var e=Math.min(s.idx+s.step,s.buffer.length);s.questions=s.buffer.slice(s.idx,e),s.idx=e})}var s=this;s.loadMore=o,s.search=a,i()}angular.module("metricapp").controller("QuestionsController",e),e.$inject=["$scope","$location","$filter","QuestionService"]}(),function(){"use strict";function e(e,t,r,n,o){var a=this;a.questionDialog={},n.get([o.questionId],["id"]).then(function(e){console.log(e),a.questionDialog=e.data.questionList[0]},function(e){t.alert("Error retrieving question")})}angular.module("metricapp").controller("QuestionDetailsCtrl",e),e.$inject=["$location","$window","QuestionStorageFactory","QuestionsCrudFactory","$routeParams"]}(),function(){"use strict";function e(e,t,r,n){function o(){r.count(r.STATES.ONUPDATE,t.getQuestioner().username).then(function(e){u.onUpdateQuestions=e.data.count},function(e){alert("Error retrieving onUpdate Questions")})}function a(){r.count(r.STATES.APPROVED,t.getQuestioner().username).then(function(e){u.approvedQuestions=e.data.count},function(e){alert("Error retrieving approved Questions")})}function i(){r.count(r.STATES.REJECTED,t.getQuestioner().username).then(function(e){u.rejectedQuestions=e.data.count},function(e){alert("Error retrieving rejected Questions")})}function s(){r.countMeasurementGoalsByQuestionerIdAndState(t.getQuestioner().username,r.STATES.APPROVED).then(function(e){console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(e),u.approvedMeasurementGoals=e.data.count},function(e){console.log("FAILURE GET MEASUREMENT GOALS"),console.log(e)})}function c(){r.countMeasurementGoalsByQuestionerIdAndState(t.getQuestioner().username,r.STATES.ONUPDATEWAITING).then(function(e){console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(e),u.waitingForQuestionsMeasurementGoals=e.data.count},function(e){console.log("FAILURE GET MEASUREMENT GOALS"),console.log(e)})}var u=this;u.user=e.getUser(),t.setQuestioner(u.user),u.date=new Date,u.messagesInbox=12,u.onUpdateQuestions=-1,u.approvedQuestions=-1,u.rejectedQuestions=-1,u.approvedMeasurementGoals=-1,u.waitingForQuestionsMeasurementGoals=-1,u.countQuestionsOnUpdate=o,u.countQuestionsApproved=a,u.countQuestionsRejected=i,u.countMeasurmentGoalsApproved=s,u.countMeasurmentGoalsWaitingForQuestion=c,o(),a(),i(),c(),s()}angular.module("metricapp").controller("QuestionerCtrl",e),e.$inject=["AuthService","QuestionStorageFactory","QuestionsCrudFactory","$window"]}(),function(){"use strict";function e(e,t,r,n,o){function a(e){s.loading=!0,s.success=!1,r.getById(e).then(function(t){return s.currTeam=angular.copy(t.team),n.getAll(e).then(function(e){s.currTeam.analytics=angular.copy(e.analytics),s.success=!0},function(e){s.errmsg=e.errmsg,s.success=!1})},function(e){s.errmsg=e.errmsg,s.success=!1})["finally"](function(){s.loading=!1})}function i(){s.loading=!0,s.success=!1,s.errmsg=null,s.currTeam={id:t.teamid},a(s.currTeam.id)}var s=this;s.TEAM_ANALYTICS=o,i()}angular.module("metricapp").controller("TeamAnalyticsController",e),e.$inject=["$location","$routeParams","TeamService","TeamAnalyticsService","TEAM_ANALYTICS"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,c){function u(e){g.loading=!0,g.success=!1,a.update(e).then(function(e){g.currTeam=angular.copy(e.team);var n=e.team.teamid;g.success=!0,r.path("/teams/"+n),t.$broadcast(c.UPDATE_SUCCESS)},function(e){g.errmsg=e.errmsg,g.success=!1,t.$broadcast(c.UPDATE_FAILURE)})["finally"](function(){g.loading=!1})}function l(e,t){t===s.QUESTIONER?delete g.updtTeam.questioners[e]:t===s.METRICATOR&&delete g.updtTeam.metricator[e]}function m(e){g.loading=!0,g.success=!1,a.getById(e).then(function(e){g.currTeam=angular.copy(e.team);var t={expert:i.getById(g.currTeam.expert),questioners:i.getInArray(g.currTeam.questioners),metricators:i.getInArray(g.currTeam.metricators)};return o.all(t).then(function(e){g.currTeam.expert=angular.copy(e.expert.user),g.currTeam.questioners=angular.copy(e.questioners.users),g.currTeam.metricators=angular.copy(e.metricators.users),g.updtTeam=angular.copy(g.currTeam),g.num_questioners=Object.keys(g.currTeam.questioners).length,g.num_metricators=Object.keys(g.currTeam.metricators).length,g.success=!0},function(e){g.errmsg=e.errmsg,g.success=!1})},function(e){g.errmsg=e.errmsg,g.success=!1})["finally"](function(){g.loading=!1})}function d(){g.loading=!0,g.success=!1,g.errmsg=null,g.orderBy="firstname",g.currTeam={id:n.teamid},m(g.currTeam.id)}var g=this;g.updateTeam=u,g.removeMember=l,d()}angular.module("metricapp").controller("TeamController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","$q","TeamService","UserService","ROLES","TEAM_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){if(u.idx<u.buffer.length){var e=Math.min(u.idx+u.step,u.buffer.length);u.teams=u.teams.concat(u.buffer.slice(u.idx,e)),u.idx=e}}function i(e){u.buffer=r("orderBy")(r("filter")(u.data,e),u.orderBy)}function s(){u.loading=!0,u.success=!1,n.getAll().then(function(e){u.data=angular.copy(e.teams),u.buffer=r("orderBy")(u.data,u.orderBy),u.success=!0},function(e){u.errmsg=e.errmsg,u.success=!1})["finally"](function(){u.loading=!1})}function c(){u.loading=!0,u.success=!1,u.errmsg=null,u.data=[],u.buffer=[],u.teams=[],u.idx=0,u.step=1,u.query="",u.orderBy="name",s(),e.$watch("vm.buffer",function(){u.idx=0;var e=Math.min(u.idx+u.step,u.buffer.length);u.teams=u.buffer.slice(u.idx,e),u.idx=e})}var u=this;c(),u.loadMore=a,u.search=i,c()}angular.module("metricapp").controller("TeamsController",e),e.$inject=["$scope","$location","$filter","TeamService","UserService"]}(),function(){"use strict";function e(e,t,r,n,o){function a(e){c.loading=!0,c.success=!1,r.getById(e).then(function(t){return c.currUser=angular.copy(t.user),n.getAll(e).then(function(e){c.currUser.analytics=angular.copy(e.analytics),s(),c.success=!0},function(e){c.errmsg=e.errmsg,c.success=!1})},function(e){c.errmsg=e.errmsg,c.success=!1})["finally"](function(){c.loading=!1})}function i(){c.loading=!0,c.success=!1,c.errmsg=null,c.currUser={username:t.username},a(c.currUser.username)}function s(){c.chart_data=c.currUser.analytics[c.USER_ANALYTICS.TASKS_RECORD]}var c=this;c.USER_ANALYTICS=o,i(),c.chart_data=""}angular.module("metricapp").controller("UserAnalyticsController",e),e.$inject=["$location","$routeParams","UserService","UserAnalyticsService","USER_ANALYTICS"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,c){function u(e){g.loading=!0,g.success=!1,o.update(e).then(function(e){g.currUser=angular.copy(e.user);var n=e.user.username;g.success=!0,r.path("/profile/"+n),t.$broadcast(s.UPDATE_SUCCESS,g.currUser)},function(e){g.errmsg=e.errmsg,g.success=!1,t.$broadcast(s.UPDATE_FAILURE)})["finally"](function(){g.loading=!1})}function l(e,n){g.loading=!0,g.success=!1,a.editPassword(e,n).then(function(e){return t.$broadcast(c.PASSWORD_UPDATE_SUCCESS),a.logout().then(function(e){g.success=!0,t.$broadcast(c.LOGOUT_SUCCESS),r.path("/")},function(e){g.errmsg=e.errmsg,g.success=!1,t.$broadcast(c.LOGOUT_FAILURE),r.path("/")})},function(e){g.errmsg=e.errmsg,alert(g.errmsg),t.$broadcast(c.PASSWORD_UPDATE_FAILURE),g.success=!1})["finally"](function(){g.loading=!1})}function m(e){g.loading=!0,g.success=!1,o.getById(e).then(function(e){g.currUser=angular.copy(e.user),g.updtUser=angular.copy(g.currUser),g.success=!0},function(e){g.errmsg=e.errmsg,alert(g.errmsg),g.success=!1})["finally"](function(){g.loading=!1})}function d(){if(g.loading=!0,g.success=!1,g.errmsg=null,!n.username){var t=a.getUser();return void(t?r.path("/profile/"+t.username):r.path("/"))}g.currUser={username:n.username},m(g.currUser.username),e.$on(s.UPDATE_SUCCESS,function(e,t){alert("ProfileController:USER_EVENTS.UPDATE_SUCCESS"),g.currUser=angular.copy(t)}),e.$on(s.UPDATE_FAILURE,function(e){alert("ProfileController:USER_EVENTS.UPDATE_FAILURE"),m(g.currUser.username)})}var g=this;g.GENDERS=i,g.show=1,g.updateProfile=u,g.updatePassword=l,g.projects=[{name:"ISSR Project1",description:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur",status:"active",progress:30},{name:"ISSR Project2",description:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur",status:"active",progress:65}],d()}angular.module("metricapp").controller("ProfileController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","UserService","AuthService","GENDERS","USER_EVENTS","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){console.log("Retrieving some informations about Measurement Goals"),u.measurementGoalStates.forEach(function(e){n.countMeasurementGoalsByState(e).then(function(t){console.log(t.measurementGoals),u.measurementGoals[e]=t.count,console.log("vm.measurementGoals["+e+"] = "+t.count)},function(e){alert("Error retriving Measurement Goals")})},u),console.log(u.measurementGoals)}function s(){console.log("Retrieving some informations about Metrics"),u.metricStates.forEach(function(e){r.countMetricsByState(e).then(function(t){console.log(t.metricsDTO),u.metrics[e]=t.count,console.log("vm.metrics["+e+"] = "+t.count)},function(e){alert("Error retriving Metrics")})},u)}function c(){}var u=this;u.date=new Date,u.measurementGoalStates=[a.APPROVED,a.ONUPDATEENDPOINT,a.PENDING],u.metricStates=[a.APPROVED,a.ONUPDATE,a.PENDING],u.measurementGoals={},u.metrics={},i(),s(),c()}angular.module("metricapp").controller("MetricatorDashboardController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window","STATES"]}(),function(){"use strict";function e(e,t,r,n,o){function a(){e.globals&&e.globals.user?s.actions=n.getActionsForRole(e.globals.user.role):s.actions=[]}function i(){a(),t.$on(o.LOGIN_SUCCESS,a),t.$on(o.LOGOUT_SUCCESS,a)}var s=this;i()}angular.module("metricapp").controller("SidebarController",e),e.$inject=["$rootScope","$scope","$location","ActionService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n){}angular.module("metricapp").controller("TopbarController",e),e.$inject=["$scope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,r,n,o){var a=this;a.getMeasurementGoals=function(){r.getMeasurementGoalsBy(n.getQuestioner().username,"questionerId").then(function(e){console.log(e),a.measurementGoals=e.measurementGoals},function(e){alert("Error retrieving Measurement Goals")})},a.open=function(e){n.setMeasurementGoal(a.measurementGoals[e]),o.openMeasurementGoalModal()},this.getMeasurementGoals()}angular.module("metricapp").controller("QuestionerMeasurementGoalListCtrl",e),e.$inject=["$location","$window","MeasurementGoalService","QuestionStorageFactory","QuestionerMeasurementGoalModalFactory"]}(),function(){"use strict";function e(e,t,r,n,o,a){function s(){}var c=this;c.questions=[],c.mgDialog=n.getMeasurementGoal(),s(),c.getQuestions=function(){t.get([t.STATES.APPROVED],["state"]).then(function(e){c.questions=e.data.questionList},function(e){a.alert("Error retrieving question "+c.mgDialog.questions[i].instance)})},c.open=function(e){n.setQuestion(c.questions[e]),o.openQuestionModal()},c.addToMeasurementGoal=function(e){var t;for(t=0;t<c.mgDialog.questions.length;t++)if(c.questions[e].metadata.id==c.mgDialog.questions[t].instance)return void a.alert("The question is already present in the Measurement Goal");var n={busVersion:"",instance:c.questions[e].metadata.id,objIdLocalToPhase:"",tags:c.questions[e].metadata.tags,typeObj:"Question"};a.alert("this should insert the question in the MG"),c.mgDialog.questions.push(n),a.alert(JSON.stringify(c.mgDialog));r.submitMeasurementGoal(c.mgDialog)},this.getQuestions()}angular.module("metricapp").controller("QuestionMeasurementGoalAddCtrl",e),e.$inject=["$location","QuestionsCrudFactory","MeasurementGoalService","QuestionStorageFactory","QuestionModalFactory","$window"]}(),function(){"use strict";function e(e,t,r,n,o,a,i){function s(){}var c=this;c.questions=[],c.metrics=[],c.mgDialog=n.getMeasurementGoal(),s(),c.getQuestions=function(){var e;for(e=0;e<c.mgDialog.questions.length;e++)t.get([c.mgDialog.questions[e].instance],["id"]).then(function(e){c.questions.push(e.data.questionList[0])},function(t){a.alert("Error retrieving question "+c.mgDialog.questions[e].instance)})},c.getMetrics=function(){var e;for(e=0;e<c.mgDialog.metrics.length;e++)t.getMetrics([c.mgDialog.metrics[e].instance]).then(function(e){c.metrics.push(e.data.metricsDTO[0])},function(t){a.alert("Error retrieving question "+c.mgDialog.questions[e].instance)})},c.openQuestion=function(e){n.setQuestion(c.questions[e]),o.openQuestionModal()},c.openMetric=function(e){n.setMetric(c.metrics[e]),i.openMetricModal()},c.getMeasurementGoalData=function(e){var t=r.getWholeMeasurementGoalById(e);a.alert(JSON.stringify(t.data)),a.alert(JSON.stringify(t.data.questions)),a.alert(JSON.stringify(t.data.metrics)),c.questions=t.questions,c.metrics=t.metrics},this.getQuestions(),this.getMetrics()}angular.module("metricapp").controller("QuestionMeasurementGoalListCtrl",e),e.$inject=["$location","QuestionsCrudFactory","MeasurementGoalService","QuestionStorageFactory","QuestionModalFactory","$window","QuestionerMetricModalFactory"]}(),function(){"use strict";function e(e,t,r,n,o,a){var i=this;i.question={description:null,focus:null,subject:null,questionerId:n.getQuestioner().username,metadata:{id:null,creatorId:null,creationDate:null,lastVersionDate:null,releaseNote:null,state:r.STATES.CREATED,entityType:"Question",tags:[]}},i.clearForm=function(){i.question={description:null,focus:null,subject:null,questionerId:n.getQuestioner().username,metadata:{id:null,creatorId:null,creationDate:null,lastVersionDate:null,releaseNote:null,state:r.STATES.CREATED,entityType:"Question",tags:[]}}},i.createNewQuestion=function(){r.create(i.question).then(function(t,r){e.alert("Question Submitted!"),n.setQuestion(t.data.questionList[0]),o.openQuestionModal(),a.path("/home")},function(e,t){alert("Error in submitting Question")})},i.getTags=function(){return i.question.metadata.tags.join()},i.addTagToQuestion=function(){i.question.metadata.tags.push(i.newTag)},i.removeTagFromQuestion=function(e){i.question.metadata.tags.splice(e,1)}}angular.module("metricapp").controller("QuestionCreationCtrl",e),e.$inject=["$window","$http","QuestionsCrudFactory","QuestionStorageFactory","QuestionModalFactory","$location"]}(),function(){"use strict";function e(e,t,r,n,o,a){function i(){r.get([n.getQuestioner().username],["questionerId"]).then(function(e){console.log(e.data.questionList),c.questions=e.data.questionList},function(e){alert("Error retrieving Questions")})}function s(){}var c=this;c.getQuestions=i,c.questions=[],c.questionDialog=null,c.getQuestions(),s(),c.open=function(e){n.setQuestion(c.questions[e]),o.openQuestionModal()}}angular.module("metricapp").controller("QuestionListCtrl",e),e.$inject=["AuthService","$location","QuestionsCrudFactory","QuestionStorageFactory","QuestionModalFactory","$window"]}(),function(){"use strict";function e(e,t,r,n,o){var a=this;a.questionDialog=o.getQuestion(),a.deleteQuestion=function(e,t){},a.closeModal=function(){t.dismiss("closing")},a.editQuestion=function(r){t.dismiss("closing"),o.setQuestion(r),e.path("/questionUpdate")},a.sendForApproval=function(){t.dismiss("closing"),a.questionDialog.metadata.state==n.STATES.CREATED||a.questionDialog.metadata.state==n.STATES.ONUPDATE||a.questionDialog.metadata.state==n.STATES.REJECTED?(a.questionDialog.metadata.state=n.STATES.PENDING,n.update(a.questionDialog).then(function(t,n){r.alert("Question sent for approval"),e.path("/questionList")},function(e,t){r.alert("Error: status "+t)})):a.questionDialog.metadata.state==n.STATES.APPROVED?r.alert("The question has already been approved"):r.alert("The Question cannot be sent for approval")}}angular.module("metricapp").controller("QuestionModalCtrl",e),e.$inject=["$location","$uibModalInstance","$window","QuestionsCrudFactory","QuestionStorageFactory"]}(),function(){"use strict";function e(e,t,r,n,o,a){var i=this;i.mgDialog=o.getMeasurementGoal(),i.stateIsWaiting=i.mgDialog.metadata.state==a.STATES.ONUPDATEWAITING,i.showReleaseNote=!1,i.closeModal=function(){t.dismiss("closing"),i.mgDialog.metadata.releaseNote=i.oldReleaseNote},i.showQuestions=function(){t.dismiss("closing"),o.setMeasurementGoal(i.mgDialog),e.path("/measurementGoalQuestionList")},i.addExistingQuestion=function(){t.dismiss("closing"),o.setMeasurementGoal(i.mgDialog),e.path("/measurementGoalAddExistingQuestion")},i.askForQuestionEndpoint=function(){i.mgDialog.metadata.state=a.STATES.ONUPDATEENDPOINT,n.submitGoalService(i.mgDialog),i.oldReleaseNote=i.mgDialog.metadata.releaseNote,i.stateIsWaiting=!1,i.showReleaseNote=!1},i.inputReleaseNote=function(){i.showReleaseNote=!0,i.oldReleaseNote=angular.copy(i.mgDialog.metadata.releaseNote)}}angular.module("metricapp").controller("QuestionerMeasurementGoalModalCtrl",e),e.$inject=["$location","$uibModalInstance","$window","MeasurementGoalService","QuestionStorageFactory","QuestionsCrudFactory"]}(),function(){"use strict";function e(e,t,r,n,o){var a=this;a.report="",a.metricDialog=o.getMetric(),a.closeModal=function(){t.dismiss("closing")},a.sendReport=function(){t.dismiss("closing"),a.metricDialog.metadata.releaseNote=report,r.alert("This should send the following report to the GQM Expert"),r.alert(a.metricDialog.metadata.releaseNote)}}angular.module("metricapp").controller("QuestionerMetricModalCtrl",e),e.$inject=["$location","$uibModalInstance","$window","QuestionsCrudFactory","QuestionStorageFactory"]}(),function(){"use strict";function e(e,t,r,n,o){var a=this;a.searchBy=function(e,n){r.get([e],[n]).then(function(e,t){a.questions=e.data.questionList},function(e,r){t.alert(r)})},a.open=function(e){n.setQuestion(a.questions[e]),o.openQuestionModal()}}angular.module("metricapp").controller("QuestionSearchCtrl",e),e.$inject=["$location","$window","QuestionsCrudFactory","QuestionStorageFactory","QuestionModalFactory"]}(),function(){"use strict";function e(e,t,r,n){var o=this;o.question=angular.copy(r.getQuestion()),o.isCommitted=!1,o.reset=function(){o.question=angular.copy(r.getQuestion())},o.updateQuestion=function(){o.question.metadata.state==n.STATES.CREATED?o.question.metadata.state=n.STATES.ONUPDATE:o.question.metadata.state==n.STATES.REJECTED&&(o.question.meteadata.state=n.STATES.ONUPDATE),e.alert(o.question.metadata.state),n.update(o.question).then(function(t,n){r.setQuestion(t.data.questionList[0]),o.question=angular.copy(r.getQuestion()),e.alert("update committed"),o.isCommitted=!0},function(t,r){e.alert("Error: status "+r)})},o.getTags=function(){return o.question.metadata.tags.join()},o.addTagToQuestion=function(){o.question.metadata.tags.push(o.newTag)},o.removeTagFromQuestion=function(e){o.question.metadata.tags.splice(e,1)},o.getStates=function(){return n.STATES}}angular.module("metricapp").controller("QuestionUpdateCtrl",e),e.$inject=["$window","$location","QuestionStorageFactory","QuestionsCrudFactory"]}(),function(){"use strict";function e(e,t,r,n){var o=["/login","/signup","/401","/404","/500"],a="/login";e.globals=t.getObject("globals")||{},e.globals.user&&(r.defaults.headers.common.Authorization="Basic "+e.globals.user.authdata),e.$on("$locationChangeStart",function(t,r,i){var s=-1===$.inArray(n.path(),o),c=e.globals.user;s&&!c&&n.path(a)})}angular.module("metricapp").run(e),e.$inject=["$rootScope","$cookies","$http","$location"]}();