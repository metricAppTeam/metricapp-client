!function(){"use strict";angular.module("metricapp",["ngRoute","ngCookies","ngMessages","ngFlash","ngMockE2E","nvd3","angular.morris-chart","ui.ace","ui.bootstrap"])}(),function(){"use strict";angular.module("metricapp").constant("MESSAGE_STATE",{READ:"READ",UNREAD:"UNREAD"})}(),function(){"use strict";angular.module("metricapp").constant("AUTH_EVENTS",{LOGIN_SUCCESS:"auth.login.success",LOGIN_FAILURE:"auth.login.failure",LOGOUT_SUCCESS:"auth.logout.success",LOGOUT_FAILURE:"auth.logout.failure",NOT_AUTHORIZED:"auth.not.authorized"})}(),function(){"use strict";angular.module("metricapp").constant("TEAM_EVENTS",{TEAM_EVENT_A:"team.event.a",TEAM_EVENT_B:"team.event.b",TEAM_EVENT_C:"team.event.c"})}(),function(){"use strict";angular.module("metricapp").constant("METRIC_EVENTS",{METRIC_EVENT_A:"metric.event.a",METRIC_EVENT_B:"metric.event.b",METRIC_EVENT_C:"metric.event.c"})}(),function(){"use strict";angular.module("metricapp").constant("QUESTION_EVENTS",{QUESTION_EVENT_A:"question.event.a",QUESTION_EVENT_B:"question.event.b",QUESTION_EVENT_C:"question.event.c"})}(),function(){"use strict";angular.module("metricapp").constant("GOAL_EVENTS",{GOAL_EVENT_A:"goal.event.a",GOAL_EVENT_B:"goal.event.b",GOAL_EVENT_C:"goal.event.c"})}(),function(){"use strict";angular.module("metricapp").constant("REST_SERVICE",{DOMAIN:"metricapp.com",PORT:8090,URL:"metricapp.com:8090"})}(),function(){"use strict";angular.module("metricapp").constant("EXPERT_ACTIONS",[{name:"Profile",href:"#/profile",icon:"user"},{name:"Grid",href:"#/grid",icon:"codepen"},{name:"Graph draft",href:"#/graph_draft",icon:"codepen"},{name:"Profile Pop-Up",href:"#/profile_pop_up",icon:"user"},{name:"Team",href:"#/team",icon:"users"},{name:"Settings",href:"#/settings",icon:"cog"}])}(),function(){"use strict";angular.module("metricapp").constant("METRICATOR_ACTIONS",[{name:"Profile",href:"#/profile"},{name:"Dashboard",href:"#/metricator"},{name:"Settings",href:"#/settings"},{name:"Search MG",href:"#/measurementgoalsearch"}])}(),function(){"use strict";angular.module("metricapp").constant("QUESTIONER_ACTIONS",[{name:"Profile",href:"/#profile"},{name:"QUESTIONER_ACTION_2",href:"#/questioner_action_2"},{name:"Settings",href:"#/settings"}])}(),function(){"use strict";angular.module("metricapp").constant("GENDERS",{MALE:"MALE",FEMALE:"FEMALE"})}(),function(){"use strict";angular.module("metricapp").constant("ROLES",{EXPERT:"EXPERT",QUESTIONER:"QUESTIONER",METRICATOR:"METRICATOR"})}(),function(){"use strict";angular.module("metricapp").constant("STATES",{CREATED:"Created",ONUPDATEWAITINGQUESTIONS:"OnUpdateWaitingQuestions",ONUPDATEQUESTIONERENDPOINT:"OnUpdateQuestionerEndpoint",PENDING:"Pending",REJECTED:"Rejected",SUSPENDED:"Suspended",APPROVED:"Approved"})}(),function(){"use strict";angular.module("metricapp").constant("STATES_METRIC",{CREATED:"Created",ONUPDATE:"OnUpdate",PENDING:"Pending",REJECTED:"Rejected",SUSPENDED:"Suspended",APPROVED:"Approved"})}(),function(){"use strict";angular.module("metricapp").value("DB_PROFILES",[{username:"expert",firstname:"Giacomo",lastname:"Marciani",gender:"MALE",birthday:"27/06/1990",email:"giacomo.marciani@domain.com",picture:"uploads/profile-picture.png"},{username:"questioner",firstname:"Marco",lastname:"Piu",gender:"MALE",birthday:"27/06/1990",email:"marco.piu@domain.com",picture:"uploads/profile-picture.png"},{username:"metricator",firstname:"Andrea",lastname:"Gennusa",gender:"MALE",birthday:"27/06/1990",email:"andrea.gennusa@domain.com",picture:"uploads/profile-picture.png"}])}(),function(){"use strict";angular.module("metricapp").value("DB_USERS",[{username:"expert",password:"password",role:"EXPERT"},{username:"questioner",password:"password",role:"QUESTIONER"},{username:"metricator",password:"password",role:"METRICATOR"}])}(),function(){"use strict";function e(e){e.setTimeout(5e3),e.setShowClose(!0),e.setOnDismiss(function(){alert("flash message dismissed")})}angular.module("metricapp").config(e),e.$inject=["FlashProvider"]}(),function(){"use strict";function e(e){e.interceptors.push("Error401Interceptor"),e.interceptors.push("Error404Interceptor"),e.interceptors.push("Error500Interceptor")}angular.module("metricapp").config(e),e.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,t){e.when("/",{redirectTo:"/home"}).when("/signup",{templateUrl:"dist/views/authentication/signup.view.html"}).when("/login",{templateUrl:"dist/views/authentication/login.view.html"}).when("/home",{templateUrl:"dist/views/home/home.view.html"}).when("/notifications",{templateUrl:"dist/views/notification/notifications.view.html"}).when("/messages",{templateUrl:"dist/views/message/messages.view.html"}).when("/profile",{templateUrl:"dist/views/people/profile.view.html"}).when("/profile_pop_up",{templateUrl:"dist/views/people/profile_pop_up.view.html"}).when("/settings",{templateUrl:"dist/views/setting/settings.view.html"}).when("/grid",{templateUrl:"dist/views/graph/grid/grid.view.html"}).when("/graph_draft",{templateUrl:"dist/views/graph/draft/draft.view.html"}).when("/team",{templateUrl:"dist/views/team/team.view.html"}).when("/401",{templateUrl:"dist/views/error/error401.view.html"}).when("/404",{templateUrl:"dist/views/error/error404.view.html"}).when("/500",{templateUrl:"dist/views/error/error500.view.html"}).when("/measurementgoal",{templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}).when("/metricatordashboard",{templateUrl:"dist/views/home/metricatordashboard/metricatordashboard.view.html"}).when("/measurementgoalsearch",{templateUrl:"dist/views/measurementgoal/measurementgoalsearch.view.html"}).when("/metricator",{templateUrl:"dist/views/metricator/metricator.view.html"}).when("/measurementgoal/sendforapproval",{templateUrl:"dist/views/measurementgoal/measurementgoal.sendforapproval.view.html"}).otherwise({redirectTo:"/404"})}angular.module("metricapp").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(o){return 401===o.status?(console.log("Error401Interceptor.responseError"),t.path("/401"),e.reject(o)):e.reject(o)}}}angular.module("metricapp").factory("Error401Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(o){return 404===o.status?null!==o.measurementGoals||null!==o.metrics?o:(console.log("Error404Interceptor.responseError"),t.path("/404"),e.reject(o)):e.reject(o)}}}angular.module("metricapp").factory("Error404Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){return{response:function(e){return e},responseError:function(o){return 500===o.status?(console.log("Error500Interceptor.responseError"),t.path("/500"),e.reject(o)):e.reject(o)}}}angular.module("metricapp").factory("Error500Interceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";function e(e,t){function o(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.assumption.html",controller:"AssumptionModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}function a(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.external.assumption.html",controller:"ExternalAssumptionModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var n=this;n.openAssumptionModal=o,n.openExternalAssumptionModal=a}angular.module("metricapp").service("AssumptionModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t){function o(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.contextfactor.html",controller:"ContextFactorModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}function a(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.external.contextfactor.html",controller:"ExternalContextFactorModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var n=this;n.openContextFactorModal=o,n.openExternalContextFactorModal=a}angular.module("metricapp").service("ContextFactorModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t){function o(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.measurementgoal.html",controller:"MeasurementGoalModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var a=this;a.openMeasurementGoalModal=o}angular.module("metricapp").service("MeasurementGoalModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t){function o(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.metric.html",controller:"MetricModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}function a(){var e=t.open({templateUrl:"dist/views/metricator/modal/modal.external.metric.html",controller:"ExternalMetricModalCtrl",controllerAs:"vm",size:"lg"});e.result.then(function(){console.log("Modal showing")},function(){console.log("Modal dismissed")})}var n=this;n.openMetricModal=o,n.openExternalMetricModal=a}angular.module("metricapp").service("MetricModalService",e),e.$inject=["$window","$uibModal"]}(),function(){"use strict";function e(e,t,o,a){var n=this;n.ROLES=e,n.GENDERS=t,n.USERS=o,n.PROFILES=a}angular.module("metricapp").service("DbMockService",e),e.$inject=["ROLES","GENDERS","DB_USERS","DB_PROFILES"]}(),function(){"use strict";function e(e,t,o){var a=this;a.DASHBOARDS={EXPERT:"/dashboardExpert",METRICATOR:"/dashboardMetricator",QUESTIONER:"/dashboardQuestioner"},a.ACTIONS={EXPERT:e,METRICATOR:t,QUESTIONER:o}}angular.module("metricapp").service("ActionService",e),e.$inject=["EXPERT_ACTIONS","METRICATOR_ACTIONS","QUESTIONER_ACTIONS"]}(),function(){"use strict";function e(e,t,o,a,n){function r(e){c.assumptionDialog=e}function i(e){c.externalAssumptionDialog=e}function s(){return c.assumptionDialog}function l(){return c.externalAssumptionDialog}var c=this;c.assumptionDialog={},c.storeAssumption=r,c.storeExternalAssumption=i,c.getAssumptionDialog=s,c.getExternalAssumptionDialog=l}angular.module("metricapp").service("AssumptionService",e),e.$inject=["$http","$rootScope","$cookies","$window","AuthService"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(t){return console.log("LOGIN user WITH username="+t.username+" & password="+t.password),e.post(n.URL+"/api/login",t).then(function(e){var t=e.data;return console.log("SUCCESS LOGIN user WITH username="+t.username+" & password="+t.password+" & role="+t.role),t},function(e){return console.log("FAILURE LOGIN user WITH username="+t.username+" & password="+t.password),null})}function s(){return console.log("LOGOUT user"),e.post(n.URL+"/api/logout").then(function(e){var t=e.data;return console.log("SUCCESS LOGOUT user WITH username="+t),t},function(e){var t=e.data;console.log("FAILURE LOGOUT user WITH username="+t);var o="Cannot logout "+t;return o})}function l(){var e=o.getObject("globals").user;return e}function c(a){console.log("SET-USER cookie WITH username="+a.username+" & password="+a.password+" & role="+a.role);var n=a.username+":"+a.password+":"+a.role;t.globals={user:{username:a.username,role:a.role,authdata:n}},o.putObject("globals",t.globals),console.log("PUT-COOKIE globals.user WITH username="+t.globals.user.username+" & role="+t.globals.user.role+" & authdata="+t.globals.user.authdata),e.defaults.headers.common.Authorization="Basic "+n,console.log("SET-HEADER common WITH Authorization="+e.defaults.headers.common.Authorization)}function u(){console.log("CLEAR-USER cookie"),t.globals={},o.remove("globals"),console.log("REMOVE-COOKIE globals"),e.defaults.headers.common.Authorization="Basic",console.log("SET-HEADER common WITH Authorization="+e.defaults.headers.common.Authorization)}var m=this;m.ROLES=r,m.login=i,m.logout=s,m.getUser=l,m.setUser=c,m.clearUser=u}angular.module("metricapp").service("AuthService",e),e.$inject=["$http","$rootScope","$cookies","UserService","REST_SERVICE","ROLES"]}(),function(){"use strict";function e(e,t,o,a,n){function r(e){c.contextFactorDialog=e}function i(e){c.externalContextFactorDialog=e}function s(){return c.contextFactorDialog}function l(){return c.externalContextFactorDialog}var c=this;c.contextFactorDialog={},c.storeContextFactor=r,c.getContextFactorDialog=s,c.getExternalContextFactorDialog=l,c.storeExternalContextFactor=i}angular.module("metricapp").service("ContextFactorService",e),e.$inject=["$http","$rootScope","$cookies","$window","AuthService"]}(),function(){"use strict";function e(){function e(e){return e}function t(e){return e}var o=this;o.encode=e,o.decode=t}angular.module("metricapp").service("CryptoService",e)}(),function(){"use strict";function e(e){function t(t){e.create("success",t,0,{"class":"custom-class",id:"custom-id"},!0)}function o(t){e.create("info",t,0,{"class":"custom-class",id:"custom-id"},!0)}function a(t){e.create("warning",t,0,{"class":"custom-class",id:"custom-id"},!0)}function n(t){e.create("danger",t,0,{"class":"custom-class",id:"custom-id"},!0)}var r=this;r.success=t,r.info=o,r.warning=a,r.danger=n}angular.module("metricapp").service("FlashService",e),e.$inject=["Flash"]}(),function(){"use strict";function e(e,t,o,a,n){function r(t,o){return console.log("SUBMIT measurementGoal WITH name= "+t.name+" & object="+t.object+" & purpose="+t.purpose+" & viewPoint="+t.viewPoint+" & focus="+t.focus),console.log("PUT MEASUREMENT GOAL"),console.log(JSON.stringify(t)),e.put("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal/",t).then(function(e){console.log("SUCCESS GET measurementGoal");var t=e.data;return t},function(e){var t=e.data;return console.log("FAILURE GET measurementGoal"),t})}function i(t){return console.log("GET Measurement Goals with userid="+n.getUser().username+"&state="+t),e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal/count/?userid="+n.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function s(t){return console.log("GET Measurement Goals with userid="+n.getUser().username+"&state="+t),e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal?userid="+n.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function l(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/contextfactor/all").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET EXTERNAL CONTEXT FACTORS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET EXTERNAL CONTEXT FACTORS"),console.log(t),t})}function c(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/assumption/all").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET EXTERNAL ASSUMPTIONS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET EXTERNAL ASSUMPTIONS"),console.log(t),t})}function u(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/measurementgoal?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function m(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/external/organizationalgoal?id=1").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET ORGANIZATIONAL GOAL"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET ORGANIZATIONAL GOAL"),console.log(t),t})}function p(t,o){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/measurementgoal?"+o+"="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function g(e,t){var o=void 0==t.metadata?t.id:t.metadata.id,a={objIdLocalToPhase:"",typeObj:e,instance:o,busVersion:"",tags:[]};switch(e){case"Metric":return d(v.measurementGoalToUpdate.metrics,t)?(v.measurementGoalToUpdate.metrics.push(t),v.measurementGoalToUpdate.measurementGoal.metrics.push(a),!0):!1;case"Question":return d(v.measurementGoalToUpdate.questions,t)?(v.measurementGoalToUpdate.questions.push(t),v.measurementGoalToUpdate.measurementGoal.questions.push(a),!0):!1;case"ContextFactor":return d(v.measurementGoalToUpdate.contextFactors,t)?(v.measurementGoalToUpdate.contextFactors.push(t),v.measurementGoalToUpdate.measurementGoal.contextFactors.push(a),!0):!1;case"Assumption":return d(v.measurementGoalToUpdate.assumptions,t)?(v.measurementGoalToUpdate.assumptions.push(t),v.measurementGoalToUpdate.measurementGoal.assumptions.push(a),!0):!1}}function d(e,t){if(void 0==t.metadata){for(var o=0,a=e.length;a>o;o++)if(void 0==e[o].metadata){if(e[o].id==t.id)return!1}else if(e[o].metadata.id==t.id)return!1}else for(var o=0,a=e.length;a>o;o++)if(void 0==e[o].metadata){if(e[o].id==t.id)return!1}else if(e[o].metadata.id==t.id)return!1;return!0}function f(e){v.measurementGoalToUpdate=e}function E(){return v.measurementGoalToUpdate}var v=this;v.measurementGoalToUpdate={},v.submitMeasurementGoal=r,v.getMeasurementGoals=s,v.getMeasurementGoalsBy=p,v.toUpdateMeasurementGoal=f,v.getUpdateMeasurementGoal=E,v.getOrganizationalGoalById=m,v.getMeasurementGoalExternals=u,v.getExternalContextFactors=l,v.getExternalAssumptions=c,v.countMeasurementGoalsByState=i,v.addSomethingToMeasurementGoal=g}angular.module("metricapp").service("MeasurementGoalService",e),e.$inject=["$http","$rootScope","$cookies","$window","AuthService"]}(),function(){"use strict";function e(e,t,o){function a(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?userid=metricator").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function n(t){return console.log("GET Metrics with userid="+o.getUser().username+"&state="+t),e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric/count?userid="+o.getUser().username+"&state="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET MEASUREMENT GOALS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET MEASUREMENT GOALS"),console.log(t),t})}function r(t){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?id="+t).then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}function i(){return m.metricDialog}function s(){return m.externalMetricDialog}function l(e){m.metricDialog=e}function c(e){m.externalMetricDialog=e}function u(){return e.get("http://qips.sweng.uniroma2.it/metricapp-server/metric?state=Approved").then(function(e){var t=angular.fromJson(e.data);return console.log("SUCCESS GET METRICS BY APPROVED VERSION"),console.log(t),t},function(e){var t=angular.fromJson(e.data);return console.log("FAILURE GET METRICS"),console.log(t),t})}var m=this;m.metricDialog={},m.externalMetricDialog=[],m.getMetrics=a,m.getApprovedMetrics=u,m.getMetricsById=r,m.countMetricsByState=n,m.storeMetric=l,m.storeExternalMetric=c,m.getMetricDialog=i,m.getExternalMetricDialog=s}angular.module("metricapp").service("MetricService",e),e.$inject=["$http","$window","AuthService"]}(),function(){"use strict";function e(e){function t(e,t,o){}var o=this;o.foo=t}angular.module("metricapp").service("ProfileService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(t,o){console.log("SIGN-UP user WITH username="+t.username+" & password="+t.password+" & role="+t.role+" & firstname="+o.firstname+" & lastname="+o.lastname+" & gender="+o.gender+" & birthday="+o.birthday+" & email="+o.email+" & picture="+o.picture);var a={user:t,profile:o};return e.post(n.URL+"/api/signup",a).then(function(e){var o=e.data;return console.log("SUCCESS SIGN-UP user WITH username="+t.username+" & password="+t.password+" & role="+t.role),{success:!0,message:o}},function(e){var t=e.data;return console.log("FAILURE SIGN-UP user WITH username="+credentials.username+" & password="+credential.username),{success:!1,message:t}})}var s=this;s.ROLES=r,s.signup=i}angular.module("metricapp").service("SignupService",e),e.$inject=["$http","$rootScope","$cookies","UserService","REST_SERVICE","ROLES"]}(),function(){"use strict";function e(e,t){function o(){return e.get(t+"/api/users").then(function(e){return e.data},function(e){return{success:!1,message:e}})}function a(o){var a={filter:"username",value:o};return e.get(t+"/api/users",a).then(function(e){return e.data},function(e){return{success:!1,message:e}})}function n(o){return e.post(t+"/api/users/create",o).then(function(e){return e.data},function(e){return{success:!1,message:e}})}function r(o){return e.post(t+"/api/users/remove",o).then(function(e){return e.data},function(e){return{success:!1,message:e}})}var i=this;i.getAll=o,i.getByUsername=a,i.create=n,i.remove=r}angular.module("metricapp").service("UserService",e),e.$inject=["$http","REST_SERVICE"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/home/expertdashboard/expertdashboard.view.html"}}angular.module("metricapp").directive("viewexpertdashboard",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.view.html"}}angular.module("metricapp").directive("measurementgoal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoal.sendforapproval.view.html"}}angular.module("metricapp").directive("measurementgoalsendforapproval",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/measurementgoal/measurementgoalsearch.view.html"}}angular.module("metricapp").directive("measurementgoalsearch",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metricator/metricator.view.html"}}angular.module("metricapp").directive("metricator",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/metricator/modal/modal.measurementgoal.html"}}angular.module("metricapp").directive("questionModal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/questioner/questionModal.view.html"}}angular.module("metricapp").directive("questionModal",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/page/page.view.html"}}angular.module("metricapp").directive("page",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"dist/views/people/viewpersonalprofile/viewabout.view.html"}}function t(){return{restrict:"E",templateUrl:"dist/views/people/viewpersonalprofile/viewprojects.view.html"}}function o(){return{restrict:"E",templateUrl:"dist/views/people/viewpersonalprofile/viewstatistics.view.html"}}function a(){return{restrict:"E",templateUrl:"dist/views/people/viewpersonalprofile/vieweditprofile.view.html"}}function n(){return{restrict:"E",templateUrl:"dist/views/people/viewpersonalprofile/vieweditcredentials.view.html"}}angular.module("metricapp").directive("viewabout",e),angular.module("metricapp").directive("viewprojects",t),angular.module("metricapp").directive("viewstatistics",o),angular.module("metricapp").directive("vieweditprofile",a),angular.module("metricapp").directive("vieweditcredentials",n)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,o,a){a.$validators.match=function(e,t){return o.mMatch===e}}}}angular.module("metricapp").directive("mMatch",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",require:"ngModel",link:function(o,a,n,r){var i=n.mUnique;r.$asyncValidators.unique=function(o,a){var n=a;console.log("m-unique WITH value="+n);var r=t.defer();return e.post(i,n).then(function(e){e.data.exist?r.reject():r.resolve()}),r.promise}}}}angular.module("metricapp").directive("mUnique",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(){return{restrict:"E",scope:!1,controller:"SidebarController as vm",templateUrl:"dist/views/navigation/sidebar/sidebar.view.html"}}angular.module("metricapp").directive("sidebar",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:!1,controller:"TopbarController as vm",templateUrl:"dist/views/navigation/topbar/topbar.view.html"}}angular.module("metricapp").directive("topbar",e)}(),function(){"use strict";function e(e,t,o,a){function n(){r.loading=!0;var n={username:r.username,password:r.password};o.login(n).then(function(n){n?(o.setUser(n),e.$broadcast(a.LOGIN_SUCCESS),t.path("/home")):(alert("Invalid username or password"),e.$broadcast(a.LOGIN_FAILURE))}),r.loading=!1}var r=this;r.loading=!1,r.login=n}angular.module("metricapp").controller("LoginController",e),e.$inject=["$rootScope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,o,a){function n(){r.loading=!0,o.logout().then(function(n){o.clearUser(),e.$broadcast(a.LOGOUT_SUCCESS),r.loading=!1,t.path("/")},function(t){alert(t),e.$broadcast(a.LOGIN_FAILURE),r.loading=!1})}var r=this;r.loading=!1,r.logout=n}angular.module("metricapp").controller("LogoutController",e),e.$inject=["$rootScope","$location","AuthService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(){var e={username:c.username,password:c.password,role:c.role},n={firstname:c.firstname,lastname:c.lastname,gender:c.gender,birthday:c.birthday,email:c.email,picture:c.picture};o.signup(e,n).then(function(e){e.success?(a.success(e.message),t.path("/")):a.success(e.message)})}function s(){t.path("/")}function l(){c.loading=!1}var c=this;c.ROLES=n,c.GENDERS=r,c.signup=i,c.cancelSignup=s,l()}angular.module("metricapp").controller("SignupController",e),e.$inject=["$scope","$location","SignupService","FlashService","ROLES","GENDERS"]}(),function(){"use strict";function e(e,t){function o(e,t,o){}var a=this;a.foo=o}angular.module("metricapp").controller("CommentController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(e,t){function o(){t.path("/home")}function a(){e.history.back()}var n=this;n.goHome=o,n.goBack=a}angular.module("metricapp").controller("Error401Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t){function o(){t.path("/home")}function a(){e.history.back()}var n=this;n.goHome=o,n.goBack=a}angular.module("metricapp").controller("Error404Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t){function o(){t.path("/home")}function a(){e.history.back()}var n=this;n.goHome=o,n.goBack=a}angular.module("metricapp").controller("Error500Controller",e),e.$inject=["$window","$location"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(e){return n.ACTIONS[e]}function s(){}var l=this;l.getActionsForRole=i,l.active_questioners=10,l.active_metricators=15,l.active_experts=1,l.inactive_questioners=3,l.inactive_metricators=2,l.inactive_experts=0,l.active_tasks=10,l.active_teams=2,l.total_active_users=l.active_questioners+l.active_metricators+l.active_experts,l.total_inactive_users=l.inactive_experts+l.inactive_metricators+l.inactive_questioners,l.total_users=l.total_inactive_users+l.total_active_users,l.active_users_chart_data=[{label:"Metricators",value:l.active_questioners},{label:"Questioners",value:l.active_metricators},{label:"Experts",value:l.active_experts}],l.trend_active_users=[{y:"Q2/15",questioners:19,metricators:29},{y:"Q3/15",questioners:30,metricators:35},{y:"Q1/16",questioners:55,metricators:45},{y:"Q2/16",questioners:78,metricators:80}],l.teams_productivity_trend=[{y:"01/11",questions:10,metrics:12},{y:"02/16",questions:8,metrics:3},{y:"03/16",questions:9,metrics:11},{y:"04/16",questions:12,metrics:12},{y:"05/16",questions:14,metrics:13},{y:"06/16",questions:11,metrics:9},{y:"07/16",questions:5,metrics:6}],l.projects=[{grid_name:"ISSR Project",status:"active",progress:30},{grid_name:"ISSR Project2",status:"active",progress:70}],l.date=new Date,s()}angular.module("metricapp").controller("HomeController",e),e.$inject=["$rootScope","$scope","$location","AuthService","ActionService","$filter"]}(),function(){"use strict";function e(e,t,o,a,n,r,i,s,l,c,u,m){function p(e){var t=void 0!==j.object?j.object:j.measurementGoalDialog.object,a=void 0!==j.purpose?j.purpose:j.measurementGoalDialog.purpose,n=void 0!==j.viewPoint?j.viewPoint:j.measurementGoalDialog.viewPoint,r=void 0!==j.qualityFocus?j.qualityFocus:j.measurementGoalDialog.qualityFocus,i=void 0!==j.queryNoSQL?j.queryNoSQL:j.measurementGoalDialog.interpretationModel.queryNoSQL,s=void 0!==j.sendMessage?j.sendMessage:j.measurementGoalDialog.metadata.releaseNote,l=null!=e?e:j.measurementGoalDialog.metadata.state,c={userid:j.measurementGoalDialog.userid,name:j.name,object:t,viewPoint:n,qualityFocus:r,purpose:a,OrganizationalGoalId:j.measurementGoalDialog.OrganizationalGoalId,metrics:j.measurementGoalDialog.metrics,questions:j.measurementGoalDialog.questions,metricatorId:j.measurementGoalDialog.metricatorId,questionersId:j.measurementGoalDialog.questionersId,contextFactors:j.measurementGoalDialog.contextFactors,assumptions:j.measurementGoalDialog.assumptions,interpretationModel:{functionJavascript:j.measurementGoalDialog.interpretationModel.functionJavascript,queryNoSQL:i},metadata:{id:j.measurementGoalDialog.metadata.id,version:j.measurementGoalDialog.metadata.version,tags:j.measurementGoalDialog.metadata.tags,creatorId:j.measurementGoalDialog.metadata.creatorId,state:l,releaseNote:s,entityType:j.measurementGoalDialog.metadata.entityType,versionBus:j.measurementGoalDialog.metadata.versionBus,creationDate:j.measurementGoalDialog.metadata.creationDate,lastVersionDate:j.measurementGoalDialog.metadata.lastVersionDate}};o.submitMeasurementGoal(c,e).then(function(e){j.measurementGoalDialog=e.measurementGoals[0],$("#modal_large_measurementgoal").modal("show")},function(e){alert(e)})}function g(){j.metrics=o.getUpdateMeasurementGoal().metrics}function d(){j.contextFactors=o.getUpdateMeasurementGoal().contextFactors}function f(){j.assumptions=o.getUpdateMeasurementGoal().assumptions}function E(){p("Pending")}function v(){a.getMetricsByMeasurementGoalId(j.measurementGoalDialog.metadata.id).then(function(e){console.log("SUCCESS GET METRICS BY MEASUREMENT GOAL"),console.log(e.metrics),j.metricsDialog=e.metrics},function(e){alert("Error retriving Metrics")})}function h(){0===j.externalMetricDialog.length?a.getApprovedMetrics().then(function(e){console.log("SUCCESS GET APPROVED METRICS"),console.log(e.metricsDTO),a.storeExternalMetric(e.metricsDTO),s.openExternalMetricModal()},function(e){alert("Error retriving Metrics")}):s.openExternalMetricModal()}function S(){o.getExternalContextFactors().then(function(e){console.log("SUCCESS GET EXTERNAL CONTEXT FACTORS"),console.log(e),l.storeExternalContextFactor(e),u.openExternalContextFactorModal()},function(e){alert("Error retrieving Context Factors")})}
function M(){o.getExternalAssumptions().then(function(e){console.log("SUCCESS GET EXTERNAL ASSUMPTIONS"),console.log(e),c.storeExternalAssumption(e),m.openExternalAssumptionModal()},function(e){alert("Error retrieving Assumptions")})}function G(e){o.getOrganizationalGoalById(e).then(function(e){console.log("getOrganizationalGoalDialog"),console.log(e),j.organizationalGoalDialog=e},function(e){alert("Error retriving Measurement Goals by state")})}function T(){t.path("/measurementgoal")}function w(e){j.measurementGoalDialog=j.measurementGoals[e],null!==j.measurementGoalDialog&&C(j.measurementGoalDialog.organizatoinalGoalId)}function U(e){a.storeMetric(j.metrics[e]),s.openMetricModal()}function A(e){l.storeContextFactor(j.contextFactors[e]),u.openContextFactorModal()}function D(e){c.storeAssumption(j.assumptions[e]),m.openAssumptionModal()}function C(e){null!==e&&(G(e),console.log(j.organizationalGoalDialog))}function I(){null!==j.measurementGoalDialog&&C("1")}function x(){o.toUpdateMeasurementGoal(j.measurementGoalDialog),t.path("/measurementgoal"),console.log(t.path("/measurementgoal"))}function R(){j.measurementGoalDialog.metadata.tags.push(j.newTag)}function O(e){j.measurementGoalDialog.metadata.tags.splice(e,1)}function N(e){for(var t=0;t<j.metrics.length;t++)if(j.externalMetricDialog[e].metadata.id==j.metrics[t].metadata.id)return n.alert("You cannot add a metric twice!"),!0;var o={objIdLocalToPhase:"",typeObj:"Metric",instance:j.externalMetricDialog[e].metadata.id,busVersion:"",tags:[]};return j.measurementGoalDialog.metrics.push(o),j.metrics.push(j.externalMetricDialog[e]),n.alert("Item added"),console.log(j.measurementGoalDialog),!1}function b(e){j.measurementGoalDialog.metrics.splice(e,1),j.metrics.splice(e,1),n.alert("Item removed"),console.log(j.measurementGoalDialog)}function F(e,t){switch(e){case"Metric":j.measurementGoalDialog.metrics.splice(t,1),j.metrics.splice(t,1);break;case"Question":j.measurementGoalDialog.questions.splice(t,1),j.questions.splice(t,1);break;case"ContextFactor":j.measurementGoalDialog.contextFactors.splice(t,1),j.contextFactors.splice(t,1);break;case"Assumption":j.measurementGoalDialog.assumptions.splice(t,1),j.assumptions.splice(t,1)}n.alert("Item removed"),console.log("MEASUREMENT GOAL AFTER REMOVE"),console.log(j.measurementGoalDialog)}function _(){return j.measurementGoalDialog.metricatorId==r.getUser().username&&"Pending"==!j.measurementGoalDialog.metadata.state}function L(){return j.measurementGoalDialog.metricatorId==r.getUser().username&&"OnUpdateQuestionerEndpoint"==j.measurementGoalDialog.metadata.state}function P(){j.loading=!1}var j=this;j.measurementGoals=[],j.measurementGoalDialog=o.getUpdateMeasurementGoal().measurementGoal,j.metrics=o.getUpdateMeasurementGoal().metrics,j.contextFactors=o.getUpdateMeasurementGoal().contextFactors,j.assumptions=o.getUpdateMeasurementGoal().assumptions,j.organizationalGoal=o.getUpdateMeasurementGoal().organizationalGoal,j.instanceProject=o.getUpdateMeasurementGoal().instanceProject,j.functionJavascript=j.measurementGoalDialog.interpretationModel.functionJavascript,j.externalMetricDialog=a.getExternalMetricDialog(),j.externalQuestionDialog=[],j.externalContextFactorDialog=[],j.externalAssumptionDialog=[],j.submitMeasurementGoal=p,j.cancelSubmit=T,j.getOrganizationalGoalById=G,j.goToUpdateMeasurementGoal=x,j.setMeasurementGoalDialog=w,j.setOrganizationalGoalDialog=C,j.setMetricDialog=U,j.initOrganizationalGoalDialog=I,j.addTagToMeasurementGoal=R,j.removeTagFromMeasurementGoal=O,j.getMetricsByMeasurementGoal=v,j.getApprovedMetrics=h,j.addMetricToMeasurementGoal=N,j.removeMetricFromMeasurementGoal=b,j.removeSomethingFromMeasurementGoal=F,j.isModifiable=_,j.isSubmittable=L,j.getExternalContextFactors=S,j.getExternalAssumptions=M,j.sendForApproval=E,j.getMetricsToUpdate=g,j.getContextFactorsToUpdate=d,j.getAssumptionsToUpdate=f,j.setContextFactorDialog=A,j.setAssumptionDialog=D,P()}angular.module("metricapp").controller("MeasurementGoalController",e),e.$inject=["$scope","$location","MeasurementGoalService","MetricService","$window","AuthService","STATES","MetricModalService","ContextFactorService","AssumptionService","ContextFactorModalService","AssumptionModalService"]}(),function(){"use strict";function e(e,o,a,n,r,i){function s(){n.getMeasurementGoals().then(function(e){console.log(e.measurementGoals),g.measurementGoals=e.measurementGoals},function(e){alert("Error retriving Measurement Goals")})}function l(e,t){null!=e&&null!=t?n.getMeasurementGoalsBy(e,t).then(function(e){console.log(e.measurementGoals),g.measurementGoals=e.measurementGoals,0===g.measurementGoals.length&&r.alert(e.error)},function(e){alert("Error retriving Measurement Goals")}):r.alert("You must enter keyword and field")}function c(){a.getMetrics().then(function(e){console.log(e.metricsDTO),g.results.metrics=e.metricsDTO},function(e){alert("Error retriving Metrics")})}function u(e){n.getMeasurementGoalExternals(e).then(function(e){g.metrics=e.metrics,g.contextFactors=e.contextFactors,g.assumptions=e.assumptions,g.organizationalGoal=e.organizationalGoal,g.instanceProject=e.instanceProject},function(e){alert("Error retriving Metrics")})}function m(e){g.measurementGoalDialog=g.measurementGoals[e],u(g.measurementGoals[e].metadata.id);var t={measurementGoal:g.measurementGoalDialog,metrics:g.metrics,contextFactors:g.contextFactors,assumptions:g.assumptions,organizationalGoal:g.organizationalGoal,instanceProject:g.instanceProject};n.toUpdateMeasurementGoal(t),i.openMeasurementGoalModal()}function p(){var e={measurementGoal:g.measurementGoalDialog,metrics:g.metrics,contextFactors:g.contextFactors,assumptions:g.assumptions,organizationalGoal:g.organizationalGoal,instanceProject:g.instanceProject};n.toUpdateMeasurementGoal(e),console.log("Going to Update Measurement Goal"),o.path("/measurementgoal"),console.log(o.path("/measurementgoal"))}var g=this;g.measurementGoals=[],g.metrics=[],g.contextFactors=[],g.assumptions=[],g.organizationalGoal={},g.instanceProject={},g.measurementGoalDialog={},g.modal="",g.getMeasurementGoals=s,g.getMetrics=c,g.goToUpdateMeasurementGoal=p,g.getMeasurementGoalExternals=u,g.setMeasurementGoalDialog=m,g.getMeasurementGoalsBy=l,t()}function t(){}angular.module("metricapp").controller("MeasurementGoalSearchController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window","MeasurementGoalModalService"]}(),function(){"use strict";function e(e,t,o){function a(){return i.messages.length}function n(){for(var e=0,t=0;t<i.messages.length;t++){var a=i.messages[t];a.state===o.UNREAD&&e++}return e}function r(){i.messages=[{author:"giacomo.marciani",content:"Lorem ipsum dolor sit amet.",state:o.UNREAD},{author:"michele.porretta",content:"Lorem ipsum dolor sit amet.",state:o.UNREAD},{author:"marco.piu",content:"Lorem ipsum dolor sit amet.",state:o.READ}]}var i=this;r(),i.getNumberOfMessages=a,i.getNumberOfUnreadMessages=n}angular.module("metricapp").controller("MessageController",e),e.$inject=["$scope","$location","MESSAGE_STATE"]}(),function(){"use strict";function e(e,o,a,n,r,i,s,l){function c(e){n.getMeasurementGoals(h.states[e]).then(function(t){console.log(t.measurementGoals),h.measurementGoals[e]=t.measurementGoals},function(e){alert("Error retriving Measurement Goals")})}function u(){for(var e=0;e<h.states.length;e++)c(e)}function m(){a.getMetrics().then(function(e){console.log(e.metricsDTO),h.results.metrics=e.metricsDTO},function(e){alert("Error retriving Metrics")})}function p(e){n.getMeasurementGoalExternals(e).then(function(e){h.metrics=e.metrics,h.contextFactors=e.contextFactors,h.assumptions=e.assumptions,h.organizationalGoal=e.organizationalGoal,h.instanceProject=e.instanceProject;var t={measurementGoal:h.measurementGoalDialog,metrics:e.metrics,contextFactors:e.contextFactors,assumptions:e.assumptions,organizationalGoal:e.organizationalGoal,instanceProject:e.instanceProject};n.toUpdateMeasurementGoal(t),l.openMeasurementGoalModal()},function(e){alert("Error retriving Externals")})}function g(e,t){h.measurementGoalDialog=h.measurementGoals[e][t],p(h.measurementGoals[e][t].metadata.id)}function d(){var e={measurementGoal:h.measurementGoalDialog,metrics:h.metrics,contextFactors:h.contextFactors,assumptions:h.assumptions,organizationalGoal:h.organizationalGoal,instanceProject:h.instanceProject};n.toUpdateMeasurementGoal(e),console.log("Going to Update Measurement Goal"),o.path("/measurementgoal"),console.log(o.path("/measurementgoal"))}function f(){return h.measurementGoalDialog.metricatorId==s.getUser().username}function E(){return h.measurementGoalDialog.metricatorId==s.getUser().username&&"OnUpdateQuestionerEndpoint"==h.measurementGoalDialog.metadata.state}function v(){var e={measurementGoal:h.measurementGoalDialog,metrics:h.metrics,contextFactors:h.contextFactors,assumptions:h.assumptions,organizationalGoal:h.organizationalGoal,instanceProject:h.instanceProject};n.toUpdateMeasurementGoal(e),o.path("/measurementgoal/sendforapproval")}var h=this;h.getMeasurementGoals=u,h.getMeasurementGoalsByState=c,h.getMetrics=m,h.goToUpdateMeasurementGoal=d,h.getMeasurementGoalExternals=p,h.states=[i.ONUPDATEQUESTIONERENDPOINT,i.ONUPDATEWAITINGQUESTIONS],h.measurementGoals=[void 0,void 0],h.metrics=[],h.contextFactors=[],h.assumptions=[],h.organizationalGoal={},h.instanceProject={},h.measurementGoalDialog={},h.modal="",h.setMeasurementGoalDialog=g,h.isModifiable=f,h.isSubmittable=E,h.sendForApproval=v,h.getMeasurementGoals(),t()}function t(){}angular.module("metricapp").controller("MetricatorController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window","STATES","AuthService","MeasurementGoalModalService"]}(),function(){"use strict";function e(e,t,o,a){function n(e){o.storeAssumption(r.externalAssumptionDialog[e]),AssumptionModalService.openAssumptionModal()}var r=this;r.assumptionDialog=o.getAssumptionDialog(),r.setAssumptionDialog=n,r.closeModal=function(){a.dismiss("closing")}}angular.module("metricapp").controller("AssumptionModalCtrl",e),e.$inject=["$window","$uibModal","AssumptionService","$uibModalInstance"]}(),function(){"use strict";function e(e,t,o,a){function n(e){o.storeContextFactor(r.contextFactorDialog[e]),ContextFactorModalService.openContextFactorModal()}var r=this;r.contextFactorDialog=o.getContextFactorDialog(),console.log("vm.contextFactorDialog"),console.log(r.contextFactorDialog),r.setContextFactorDialog=n,r.closeModal=function(){a.dismiss("closing")}}angular.module("metricapp").controller("ContextFactorModalCtrl",e),e.$inject=["$window","$uibModal","ContextFactorService","$uibModalInstance"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(){a.dismiss("closing")}function s(e){o.storeAssumption(c.externalAssumptionDialog[e]),n.openAssumptionModal()}function l(t){console.log("Adding item"),r.addSomethingToMeasurementGoal("Assumption",t)?e.alert("Item added"):e.alert("You cannot add this item")}var c=this;c.externalAssumptionDialog=o.getExternalAssumptionDialog(),c.closeModal=i,c.setAssumptionDialog=s,c.addAssumptionToMeasurementGoal=l}angular.module("metricapp").controller("ExternalAssumptionModalCtrl",e),e.$inject=["$window","$uibModal","AssumptionService","$uibModalInstance","AssumptionModalService","MeasurementGoalService"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(){a.dismiss("closing")}function s(e){o.storeContextFactor(c.externalContextFactorDialog[e]),n.openContextFactorModal()}function l(t){console.log("Adding item"),r.addSomethingToMeasurementGoal("ContextFactor",t)?e.alert("Item added"):e.alert("You cannot add this item")}var c=this;c.externalContextFactorDialog=o.getExternalContextFactorDialog(),c.closeModal=i,c.setContextFactorDialog=s,c.addContextFactorToMeasurementGoal=l}angular.module("metricapp").controller("ExternalContextFactorModalCtrl",e),e.$inject=["$window","$uibModal","ContextFactorService","$uibModalInstance","ContextFactorModalService","MeasurementGoalService"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(){a.dismiss("closing")}function s(e){o.storeMetric(c.externalMetricDialog[e]),n.openMetricModal()}function l(t){console.log("Adding item"),r.addSomethingToMeasurementGoal("Metric",t)?e.alert("Item added"):e.alert("You cannot add this item")}var c=this;c.externalMetricDialog=o.getExternalMetricDialog(),c.closeModal=i,c.setMetricDialog=s,c.addMetricToMeasurementGoal=l}angular.module("metricapp").controller("ExternalMetricModalCtrl",e),e.$inject=["$window","$uibModal","MetricService","$uibModalInstance","MetricModalService","MeasurementGoalService"]}(),function(){"use strict";function e(e,t,o,a,n,r){function i(){a.dismiss("closing")}function s(){return u.measurementGoalDialog.metricatorId==n.getUser().username&&!("Pending"==u.measurementGoalDialog.metadata.state)}function l(){return u.measurementGoalDialog.metricatorId==n.getUser().username&&"OnUpdateQuestionerEndpoint"==u.measurementGoalDialog.metadata.state}function c(){i(),r.path("/measurementgoal")}var u=this;u.measurementGoalDialog=o.getUpdateMeasurementGoal().measurementGoal,u.metrics=o.getUpdateMeasurementGoal().metrics,u.contextFactors=o.getUpdateMeasurementGoal().contextFactors,u.assumptions=o.getUpdateMeasurementGoal().assumptions,u.organizationalGoal=o.getUpdateMeasurementGoal().organizationalGoal,u.instanceProject=o.getUpdateMeasurementGoal().instanceProject,u.functionJavascript=u.measurementGoalDialog.interpretationModel.functionJavascript,u.isModifiable=s,u.isSubmittable=l,u.closeModal=i,u.goToUpdateMeasurementGoal=c}angular.module("metricapp").controller("MeasurementGoalModalCtrl",e),e.$inject=["$window","$uibModal","MeasurementGoalService","$uibModalInstance","AuthService","$location"]}(),function(){"use strict";function e(e,t,o,a){function n(){a.dismiss("closing")}var r=this;r.metricDialog=o.getMetricDialog(),r.closeModal=n}angular.module("metricapp").controller("MetricModalCtrl",e),e.$inject=["$window","$uibModal","MetricService","$uibModalInstance"]}(),function(){"use strict";function e(e,t){function o(){return 10}function a(){}var n=this;n.getNumberOfUnreadNotifications=o,a()}angular.module("metricapp").controller("NotificationController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(e,t,o){}angular.module("metricapp").controller("PageController",e),e.$inject=["$scope","$location","AuthService"]}(),function(){"use strict";function e(e,t,o,a,n){var r=this;r.show=1,r.GENDERS=n,r.picture="assets/images/users/user2.jpg",r.userFullName="Maria Bianchi",r.workRole="Metricator",r.firstname="Maria",r.lastname="Bianchi",r.username="maria_bianchi",r.password="password",r.password_r="password",r.email="mariabianchi@gmail.com",r.phone="+39 38376 6284",r.role="Metricator",r.birthday="01/01/1990",r.gender="Female",r.url="www.mariabianchi.it",r.biography="Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}angular.module("metricapp").controller("ProfileController",e),e.$inject=["$scope","$location","ProfileService","FlashService","GENDERS"]}(),function(){"use strict";function e(e,t,o){}angular.module("metricapp").controller("SettingsController",e),e.$inject=["$scope","$location","AuthService"]}(),function(){"use strict";function e(e,t,o){}angular.module("metricapp").controller("TeamController",e),e.$inject=["$scope","$location","AuthService"]}(),function(){"use strict";function e(e,t,o,a,n){var r=this,i=d3.scale.category20();r.options={chart:{type:"forceDirectedGraph",height:300,radius:10,linkStrength:.1,width:function(){return nv.utils.windowSize().width}(),margin:{top:10,right:10,bottom:10,left:10},color:function(e){return i(e.group)},nodeExtras:function(e){e&&e.append("text").attr("dx",15).attr("dy",".60em").text(function(e){return e.name}).style("font-size","15px")}}},r.data={nodes:[{name:"Adaadasdasdsadsads",group:1},{name:"B",group:2,civico:19},{name:"C",group:3},{name:"D",group:4},{name:"E",group:5},{name:"F",group:6},{name:"G",group:7}],links:[{source:1,target:0,value:1},{source:1,target:0,value:2},{source:1,target:0,value:3},{source:3,target:0,value:4},{source:4,target:0,value:5},{source:5,target:0,value:6}]}}angular.module("metricapp").controller("DraftController",e),e.$inject=["$scope","$location","ProfileService","FlashService","GENDERS"]}(),function(){"use strict";function e(e,t){}angular.module("metricapp").controller("GoalController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(e,t){}angular.module("metricapp").controller("GridController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(e,t){}angular.module("metricapp").controller("MetricController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(e,t){}angular.module("metricapp").controller("QuestionController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(e,t,o,a,n,r,i){function s(){console.log("Retrieving some informations about Measurement Goals"),u.measurementGoalStates.forEach(function(e){a.countMeasurementGoalsByState(e).then(function(t){console.log(t.measurementGoals),u.measurementGoals[e]=t.count,console.log("vm.measurementGoals["+e+"] = "+t.count)},function(e){alert("Error retriving Measurement Goals")})},u),console.log(u.measurementGoals)}function l(){console.log("Retrieving some informations about Metrics"),u.metricStates.forEach(function(e){o.countMetricsByState(e).then(function(t){console.log(t.metricsDTO),u.metrics[e]=t.count,console.log("vm.metrics["+e+"] = "+t.count)},function(e){alert("Error retriving Metrics")})},u)}function c(){}var u=this;u.date=new Date,u.measurementGoalStates=[r.APPROVED,r.ONUPDATEQUESTIONERENDPOINT,r.PENDING],u.metricStates=[i.APPROVED,i.ONUPDATE,i.PENDING],u.measurementGoals={},u.metrics={},u.getMeasurementGoals=s,u.getMetrics=l,u.getMeasurementGoals(),u.getMetrics(),c()}angular.module("metricapp").controller("MetricatorDashboardController",e),e.$inject=["$scope","$location","MetricService","MeasurementGoalService","$window","STATES","STATES_METRIC"]}(),function(){"use strict";function e(e,t,o){function a(e){return o.DASHBOARDS[e]}function n(e){return o.ACTIONS[e]}function r(){}var i=this;i.getDashboardForRole=a,i.getActionsForRole=n,r()}angular.module("metricapp").controller("SidebarController",e),e.$inject=["$scope","$location","ActionService"]}(),function(){"use strict";function e(e,t,o){}angular.module("metricapp").controller("TopbarController",e),e.$inject=["$scope","$location","AuthService"]}(),function(){"use strict";function e(e,t,o,a){var n=(o.ROLES,o.USERS),r=o.PROFILES;e.whenPOST(a.URL+"/api/login").respond(function(e,t,o,a,r){var i=angular.fromJson(o);console.log("/api/login WITH username="+i.username+" & password="+i.password);for(var s=0;s<n.length;s++){var l=n[s];if(l.username===i.username&&l.password===i.password){var c={username:l.username,password:l.password,role:l.role};return console.log("SUCCESS /api/login WITH username="+c.username+" & password="+c.password+" & role="+c.role),[200,c,{}]}}return console.log("FAILURE /api/login 401 WITH username="+i.username+" & password="+i.password),[401,{},{}]}),e.whenPOST(a.URL+"/api/logout").respond(function(e,t,o,a,r){var i=a.Authorization,s=i.split(" ")[1];console.log("authdata="+s);var l={username:s.split(":")[0],password:s.split(":")[1]};console.log("/api/logout WITH username="+l.username+" & password="+l.password);for(var c=0;c<n.length;c++){var u=n[c];if(u.username===l.username&&u.password===l.password)return console.log("SUCCESS /api/logout WITH username="+u.username+" & password="+u.password),[200,l.username,{}]}return console.log("FAILURE /api/logout 401 WITH username="+l.username+" & password="+l.password),[401,l.username,{}]}),e.whenPOST("http://localhost:8080/metricapp-server-gitlab/measurementgoal/").passThrough(),e.whenGET("http://localhost:8080/metricapp-server-gitlab/measurementgoal?userid=metricator").passThrough(),e.whenGET("http://qips.sweng.uniroma2.it/metricapp-server/external/organizationalgoal?id=1").passThrough(),e.whenGET("http://localhost:8080/metricapp-server-gitlab/metric?state=Approved").passThrough(),e.whenGET("http://localhost:8080/metricapp-server-gitlab/metric?userid=metricator").passThrough(),e.whenPOST(a.URL+"/api/signup").respond(function(e,t,o,a,i){var s=angular.fromJson(o),l=s.user,c=s.profile;console.log("/api/signup WITH username="+l.username+" & password="+l.password+" & role="+l.role+" & firstname="+c.firstname+" & lastname="+c.lastname+" & gender="+c.gender+" & birthday"+c.birthday+" & email="+c.email+" & picture="+c.picture),c.username=l.username,n.push(l),r.push(c),console.log("SUCCESS /api/signup WITH username="+l.username+" & password="+l.password+" & role="+l.role+" & firstname="+c.firstname+" & lastname="+c.lastname+" & gender="+c.gender+" & birthday"+c.birthday+" & email="+c.email+" & picture="+c.picture);var u="User registered";return[200,u,{}]}),e.whenPOST(a.URL+"/api/users/exist/username").respond(function(e,t,o,a,r){var i=o;console.log("/api/users/exist/username WITH username="+i);for(var s=0;s<n.length;s++){var l=n[s];if(l.username===i)return console.log("SUCCESS EXIST user WITH username="+i),[200,{exist:!0},{}]}return console.log("SUCCESS NOT EXIST user WITH username="+i),[200,{exist:!1},{}]}),e.whenPOST(a.URL+"/api/users/exist/email").respond(function(e,t,o,a,n){var i=o;console.log("/api/users/exist/email WITH email="+i);for(var s=0;s<r.length;s++){var l=r[s];if(l.email===i)return console.log("SUCCESS EXIST user WITH email="+i),[200,{exist:!0},{}]}return console.log("SUCCESS NOT EXIST user WITH email="+i),[200,{exist:!1},{}]}),e.whenGET(/^dist\//).passThrough(),e.whenGET(/.*/).passThrough(),e.whenPOST(/.*/).passThrough(),e.whenPUT(/.*/).passThrough(),e.whenDELETE(/.*/).passThrough()}angular.module("metricapp").run(e),e.$inject=["$httpBackend","$filter","DbMockService","REST_SERVICE"]}(),function(){"use strict";function e(e,t,o,a){var n=["/login","/signup","/401","/404","/500"],r="/login";e.globals=t.getObject("globals")||{},e.globals.user&&(o.defaults.headers.common.Authorization="Basic "+e.globals.user.authdata),e.$on("$locationChangeStart",function(t,o,i){var s=-1===$.inArray(a.path(),n),l=e.globals.user;s&&!l&&a.path(r)})}angular.module("metricapp").run(e),e.$inject=["$rootScope","$cookies","$http","$location"]}();