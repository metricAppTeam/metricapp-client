<div class="page-title">                    
    <h2><span class="fa fa-arrow-circle-o-left"></span> Search For Question</h2>
</div>

 <div class="page-content-wrap" ng-controller="QuestionSearchCtrl as qst">

    <div class="block">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    <div class="col-md-10">                                    
                        <label class="col-md-2 control-label">
                            <input type="Text" class="form-control" ng-model="qst.keyword" required/> 
                            Search For:
                         </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-4">                                    
                        <label class="check">
                            <input type="radio" class="iradio" name="selectRadio" ng-model="qst.field" value="focus" /> 
                            Focus
                        </label>
                    </div>
                    <div class="col-md-4">                                    
                        <label class="check">
                            <input type="radio" class="iradio" name="selectRadio" ng-model="qst.field" value="subject" /> 
                            Subject
                        </label>
                    </div>
                    <div class="col-md-4">                                    
                        <label class="check">
                            <input type="radio" class="iradio" name="selectRadio" ng-model="qst.field" value="creatorId" /> 
                            Metricator
                        </label>
                    </div>
                    <div class="col-md-4">                                    
                        <label class="check">
                            <input type="radio" class="iradio" name="selectRadio" ng-model="qst.field" value="tag" /> 
                            Tag
                        </label>
                    </div>
                </div>
            </div>
                
            <div class="panel-footer">
                <button ng-click="qst.searchBy(qst.keyword, qst.field)" class="btn btn-primary pull-right">Search</button>
            </div>
        

            <div class="panel-body">
                <table class="table datatable">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Name</th>
                            <th>CreationDate</th>
                            <th>LastVersionDate</th>
                            <th>ReleaseNote</th>
                            <th>State</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="question in qst.questions">
                            
                            <td>
                                <button id="modal_button_{{$index}}" class="btn btn-default btn-rounded" data-toggle="modal"
                                 ng-click="qst.setEntityDialog($index)">{{question.metadata.id}}</button>
                            </td>
                            
                            <td>{{question.metadata.entityType}}</td>
                            <td>{{question.metadata.creationDate}}</td>
                            <td>{{question.metadata.lastVersionDate}}</td>
                            <td>{{question.metadata.releaseNote}}</td>
                            <td>{{question.metadata.state}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>   

        <div class="modal" id="modal_question" tabindex="-1" role="dialog" aria-labelledby="largeModalHead" aria-hidden="true">
            <!--ng-controller="QuestionDetailsCtrl">-->
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="largeModalHead">Question</h4>
                    </div>
                    <div class="modal-body">
                
                        <h2>Question</h2>
                
                        <ul class="list-group border-bottom">
                            <h4>Focus</h4>
                            <li class="list-group-item">{{qst.questionDialog.focus}}</li>
                            <h4>Subject</h4>
                            <li class="list-group-item">{{qst.questionDialog.subject}}</li>
                            <h4>Description</h4>
                            <li class="list-group-item">{{qst.questionDialog.description}}</li> 
                            <h4>Tags</h4>
                            <li class="list-group-item" ng-repeat="tag in qst.questionDialog.metadata.tags">{{tag}}</li> 
                            <h4>State</h4>
                            <li class="list-group-item">{{qst.questionDialog.metadata.state}}</li>  
                            <h4>Last Version Date</h4>
                            <li class="list-group-item">{{qst.questionDialog.metadata.lastVersionDate}}</li>  
                            <h4>Creation Date</h4>
                            <li class="list-group-item">{{qst.questionDialog.metadata.creationDate}}</li> 
                            <h4>Release Note</h4>
                            <li class="list-group-item">  
                                <div class="panel-body scroll" style="height: 30px;">         
                                    <p>{{qst.questionDialog.metadata.releaseNote}}
                                </div>                                   
                            </li>  
                        </ul>                          
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <a ng-click="qst.editQuestion(qst.questionDialog)" class="btn btn-primary" data-dismiss="modal">Update Question</a>
                        <a ng-click="qst.deleteQuestion(qst.questionDialog.metadata.id)" class="btn btn-danger" data-dismiss="modal">Delete Question</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

