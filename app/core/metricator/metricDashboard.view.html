			<div ng-controller="MetricDashboardController as vm">
<ul class="breadcrumb">
	 <li><a ng-href="#/home">Home</a></li>
	 <li class="active"><a ng-href="#/metrics">Metrics</a></li>
</ul>
<div class="page-title">
	 <h2><span class="fa fa-bullseye"></span> Metrics <small>{{vm.buffer.length}} running</small></h2>
</div>
<div class="page-content-wrap">
	 <div class="row">
		  <div class="col-md-12">
			   <div class="panel panel-default">
					 <div class="panel-body">
						  <form name="searchForm" class="form-horizontal">
								<div class="form-group">
									 <div class="col-md-12">
										  <div class="input-group">
												<div class="input-group-addon">
													 <span class="fa fa-search"></span>
												</div>
												<input type="text" class="form-control" placeholder="Who are you looking for?"
												ng-model="vm.query"
												ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }"/>
												<div class="input-group-btn">
													 <button class="btn btn-primary"
													 ng-disabled="!vm.query || vm.loading"
													 ng-click="vm.search(vm.query)">Search</button>
												</div>
										  </div>
									 </div>
								</div>
						  </form>
					 </div>
			   </div>
		  </div>
	 </div>

	 <div class="row" ng-switch="vm.loading">
		  <div class="col-md-12">
			   <p ng-switch-when="true">Loading metrics ...</p>
			   <div ng-switch-when="false" ng-switch="vm.success">
					 <p ng-switch-when="true" ng-if="vm.metrics.length == 0">No metrics yet.</p>
					 <div ng-switch-when="true" class="scrollable" m-when-scroll-bottom="vm.loadMore()">
						  <ul>
								<li ng-repeat="metric in vm.metrics | filter:vm.query | orderBy:vm.orderBy track by metric.metadata.id">
									 <a ng-href="#/metrics/{{metric.id}}">{{metric.name}}</a>
									 <ul>
										  <li ng-repeat="(key, value) in metric">{{key}} = {{value}}</li>
									 </ul>
								</li>
						  </ul>
						  <div class="row">
								<div class="col-lg-1 col-centered">
									 <button type="button" class="btn btn-default" ng-show="vm.idx < vm.buffer.length" ng-click="vm.loadMore()">Load More</button>
								</div>
						  </div>
					 </div>
					 <p ng-switch-when="false">Ooops! Something went wrong :-( {{vm.errmsg}}</p>
			   </div>
		  </div>
	 </div>
</div>



<!-- Metric Dashboard-->
<!-- PAGE TITLE -->
<div class="page-title">
	<h2><span class="fa fa-arrow-circle-o-left"></span> Metrics</h2>
</div>
<!-- END PAGE TITLE -->

<!-- PAGE CONTENT WRAPPER -->
<div class="page-content-wrap">

	<div class="row">
		<div class="col-md-12">


				<!-- START DEFAULT DATATABLE -->
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">My Metrics</h3>
						<ul class="panel-controls">
							<li><a ng-click="vm.update()" class="panel-refresh"><span class="fa fa-refresh"></span></a></li>
							<li><a ng-click="vm.newMetric()" class="panel-refresh"><span class="fa fa-add"></span></a></li>
						</ul>
					</div>

					<div class="panel-body" >
						<!--<table  class="table datatable">-->
						<table st-table="displayedCollection" st-safe-src="vm.data" class="table table-striped">
							<thead>
								<tr>
									<th st-sort="id">Id</th>
									<th st-sort="name">Name</th>
									<th st-sort="creationDate">CreationDate</th>
									<th st-sort="lastVersionDate">LastVersionDate</th>
									<th st-sort="releaseNote">ReleaseNote</th>
									<th st-sort="state">State</th>
								</tr>
								<tr>
									<th colspan="6"><input st-search="" class="form-control" placeholder="Global search ..." type="text"/></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="metric in displayedCollection">
									<td>
										<!--#modal_large vm.setModal($parent.$index) id="modal_button"-->
										<button class="btn btn-default btn-rounded" data-toggle="modal" data-target="#modal_large" ng-click="vm.setMetricDialog($index)">{{metric.metadata.id}}</button>
									</td>
									<td>{{metric.metadata.entityType}}</td>
									<td>{{metric.metadata.creationDate}}</td>
									<td>{{metric.metadata.lastVersionDate}}</td>
									<td>{{metric.metadata.releaseNote}}</td>
									<td>{{metric.metadata.state}}</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<td colspan="5" class="text-center">
										<div st-pagination="" st-items-by-page="10" st-displayed-pages="7"></div>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>







				<!-- BEGIN METRIC MODAL DIALOG -->

				<div class="modal" id="modal_large" tabindex="-1" role="dialog" aria-labelledby="largeModalHead" aria-hidden="true">
					<div class="modal-dialog modal-lg">
						<div
						<div>
							<div ng-include="'dist/views/metricator/modal/modal.metric.html'"></div>
						</div>
					</div>
				</div>
			</div>


</div>
<!-- END DEFAULT DATATABLE -->
</div>
</div>
</div>
